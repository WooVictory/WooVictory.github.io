
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="VictoryWoo">
    <title>[CleanCode] 3장. 함수 - VictoryWoo</title>
    <meta name="author" content="VictoryWoo">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"VictoryWoo","sameAs":["https://github.com/WooVictory","https://www.facebook.com/WooVictory","https://www.linkedin.com/profile/","jhsw0375@gmail.com"],"image":"Victory.jpeg"},"articleBody":"어떤 프로그램이든 가장 기본적인 단위는 함수이다.\n\n작게 만들어라!\n\n함수를 만드는 기본 규칙은 작게이다.\n함수 내부에 들어가는 if문/else문/while문 등의 들여쓰기는 1단이나 2단을 넘어서는 중첩 구조가 발생하면 안된다.\n\n한 가지만 해라!\n\n함수는 한 가지를 해야 한다. 그 한가지를 잘 해야 하며, 그 한가지만을 해야 한다.\n지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 한다.\n함수가 '한 가지’만 하는지 판단하는 방법이 하나 더 있다. 단순히 다른 표현이 아니라 의미있는 이름으로 다른 함수를 추출할 수 있다면 그 함수는 여러 작업을 하는 셈이다.\n함수를 여러 섹션으로 나눌 수 있다면 그 함수는 여러 작업을 하는 셈이다.\n\n함수 당 추상화 수준은 하나로!\n\n함수가 ‘한가지’ 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다.\n만약, 한 함수 내에 추상화 수준이 뒤섞이면 읽는 사람이 헷갈린다.\n코드는 위에서 아래로 이야기처럼 읽혀야 좋다. 이것을 내려가기 규칙이라고 부른다.\n함수 추상화 수준이 아래로 읽으면서 한 단계씩 낮아지는 것이 이상적이다.\n\nSwitch문\n\nswitch문은 작게 만들기 어려우며, ‘한 가지’ 작업만 하도록 구성하기 힘들다.\n아래의 코드는 코드를 변경할 이유가 하나가 아닌 여럿이므로 SRP 이론을 위반한다.\n그리고 새 직원 유형을 추가할 때마다 코드를 변경하므로 OCP 이론을 위반한다.\n\n[문제가 존재하는 코드]\n123456789public int calculatePay(Employee e)&#123;  switch(e.type)&#123;    case SALARIED :       return calculateSalariedPay();    case HOURLY :      return calculateHourlyPay();    ...  &#125;&#125;\n\n\nswitch문은 추상 팩토리에 숨긴다. 아무에게도 보여주지 않는다.\n\n\n팩토리는 switch문을 사용해 적절한 Employee 파생 클래스의 인스턴스를 생성한다.\n\n\ncalculatePay, isPayday, deliverPay 등과 같은 함수는 Employee 인터페이스를 거쳐 호출된다. 그러면 다형성으로 인해 실제 파생 클래스의 함수가 실행된다.\n\n\n즉, 다형성을 이용하여 해결할 수 있다.\n\n\n[변경한 코드]\n12345678910111213141516171819202122232425262728293031323334353637383940public abstract class Employee&#123;  public abstract boolean isPayday();  public abstract Money calculatePay();  public abstract void deliverPay(Money pay);&#125;public interface EmployeeFactory&#123;  public Employee makeEmployee(EmployeeRecord r);&#125;public class EmployeeImple implements EmployeeFactory &#123;  @Override  public Employee makeEmployee(EmployeeRecord r)&#123;    switch(r.type)&#123;      case COMMISSIONED :         return new CommissionedEmployee(r);      case HOURLY :         return new HourlyEmployee(r);      case SALARIED :         return new SalariedEmployee(r);    &#125;  &#125;&#125;class CommissionedEmployee extends Employee&#123;  @Override  public boolean isPayday()&#123;    ...  &#125;    @Override  public Money calculatePay()&#123;    ...  &#125;    @Override  public void deliverPay(Money pay)&#123;    ...  &#125;&#125;\n서술적인 이름을 사용하라!\n\n함수 이름이 길어지더라도 서술적으로 한번에 이해가 가능한 이름이 오히려 깔끔하고 좋은 코드가 된다.\n길고 서술적인 이름이 길고 서술적인 주석보다 좋다.\n서술적인 이름을 사용하면 개발자 머릿속에서도 설계가 뚜렷해지므로 코드를 개선하기 쉬워진다. 좋은 이름을 고른 후 코드를 더 좋게 재구성하는 사례도 있다.\n이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같은 문구, 명사, 동사를 사용한다.\nex) includeSetupAndTeardownPages, includeSetupPages, includeSuiteSetupPages, includeSetupPage 등이 좋은 예다.\n\n함수 인수\n\n함수에서 이상적인 인수 개수는 0개이다.\n기본적으로 3개까지가 마지노선이라고 생각한다. 그 이상은 절대 오지 않도록 한다.\n인수는 함수를 이해하는데 어렵게 한다.\n테스트 관점에서 보더라도 인수는 어렵다. 갖가지 인수 조합으로 함수를 검증하는 것은 까다롭다.\n\n[많이 쓰는 단항 형식]\n\n인수에 질문을 던지는 경우.\n\nex) boolean fileExists(“MyFile”)\n\n\n인수를 뭔가로 변환해 결과를 반환하는 경우.\n\nex) InputStream fileOpen(“MyFile”)\n\n\n드물게 사용하지만 유용한 경우는 이벤트.\n\n함수 호출을 이벤트로 해석해 입력 인수로 시스템 상태를 바꾼다.\n이벤트라는 사실이 코드에 명확히 드러나야 하며, 조심해서 사용해야 한다.\nex) passwordAttemptFailedNtimes(int attempts)\n\n\n\n[플래그 인수]\n\n플래그 인수는 추하다.\n함수로 부울 값을 넘기는 관례는 끔찍하다. 이유는 함수가 한꺼번에 여러 가지를 처리한다고 대놓고 공표하는 셈이니까!\n\n[이항 함수]\n\n인수가 증가할수록 함수를 이해하기 어려워진다.\n\nex) writeField(name)은 writeField(outputStream, nam)보다 이해하기 쉽다.\n\n\n이항 함수가 적절한 경우도 존재한다.\n\nex) Point p = new Poin(0,0)\n직교 좌표계 점은 일반적으로 인수 2개를 취한다. 다만, 여기서 인수 2개는 한 값을 표현하는 두 요소라는 점을 알아야 한다.\n\n\n이항 함수가 무조건 나쁘다는 것은 아니다. 프로그램을 짜면서 불가피한 경우도 생기지만, 그만큼 위험이 따른다는 사실을 이해하고 가능하면 단항 함수로 바꾸도록 애써야 한다.\n\n[삼항 함수]\n\n인수가 3개인 함수는 인수가 2개인 함수보다 이해하기 어렵다.\n순서를 파악하면서 주춤하게 되고, 무시해도 된다는 걸 생각하는 등의 문제가 두 배 이상 늘어난다.\n\n[인수 객체]\n\n인수가 늘어난다면 별도의 인수 객체를 만들어 묶어서 보내는게 더 낫다.\nEx) int x, int y =&gt; Point point\n이는 눈속임이 아니다. x,y를 묶었듯이 변수를 묶어 넘기려면 이름을 붙여야 하므로 결국은 개념을 표현하게 된다.\n\n[동사와 키워드]\n\n함수의 의도나 인수의 순서와 의도를 제대로 표현하려면 좋은 함수 이름이 필수다.\n즉, 함수의 이름과 인자가 한꺼번에 이해 가능한 이름이 가장 좋다.\nex) write(name), assertExpectedEqualsActual(expected, actual)\n\n부수 효과를 일으키지 마라!\n\n부수 효과는 거짓말이다.\n함수에서 한 가지를 하겠다고 하고선 다른 일을 하지 마라.\nex) checkPassword() 함수 내에서 암호를 확인하는 일 이외에 사용자 세션을 초기화 한다거나 하는 행위는 자칫하면 엄청 큰 버그를 일으킬 가능성이 크다. 따라서 이와 같은 부수 효과를 일으키지 않아야 한다.\n\n명령과 조회를 분리하라!\n\n함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야 한다.\n즉, 객체 상태를 변경하거나 아니면 객체 정보를 반환하거나 둘 중 하나만 해야 한다.\n\n오류 코드보다 예외를 사용하라!\n\n오류 코드 대신 예외를 사용하면 오류 처리 코드가 원래 코드에서 분리되므로 코드가 깔끔해진다.\ntry/catch 블록은 코드 구조에 혼란을 일으키며, 정상 동작과 오류 처리 동작을 뒤섞는다. 그러므로 try/catch 블록을 별도 함수로 뽑아내는 편이 좋다.\n\n[문제가 있는 코드]\n12345678910111213if (deletePage(page) == E_OK) &#123;\tif (registry.deleteReference(page.name) == E_OK) &#123;\t\tif (configKeys.deleteKey(page.name.makeKey()) == E_OK) &#123;\t\t\tlogger.log(\"page deleted\");\t\t&#125; else &#123;\t\t\tlogger.log(\"configKey not deleted\");\t\t&#125;\t&#125; else &#123;\t\tlogger.log(\"deleteReference from registry failed\"); \t&#125; &#125; else &#123;\tlogger.log(\"delete failed\"); return E_ERROR;&#125;\n[변경한 코드]\n1234567891011121314151617public void delete(Page page) &#123;\ttry &#123;\t\t\tdeletePageAndAllReferences(page);  \t&#125; catch (Exception e) &#123;  \t\tlogError(e);  \t&#125;&#125;private void deletePageAndAllReferences(Page page) throws Exception &#123; \tdeletePage(page);\tregistry.deleteReference(page.name); \tconfigKeys.deleteKey(page.name.makeKey());&#125;private void logError(Exception e) &#123; \tlogger.log(e.getMessage());&#125;\n\ndeletePageAndAllReferences 함수는 예외를 처리하지 않는다.\n이렇게 정상 동작과 오류 처리 동작을 분리하면 코드를 이해하고 수정하기 쉬워진다.\n\n[오류 처리도 한 가지 작업이다.]\n\n오류 처리도 ‘한 가지’ 작업에 속한다. 그러므로 오류를 처리하는 함수는 오류만 처리해야 마땅하다.\n아래는 Error.java\n\n12345678public enum Error &#123; \tOK,\tINVALID,\tNO_SUCH,\tLOCKED,\tOUT_OF_RESOURCES, \t\tWAITING_FOR_EVENT;&#125;\n\n위의 코드는 의존성 자석이다.\n오류를 처리하는 곳곳에서 오류 코드를 사용한다면 Error enum을 사용하게 된다. 즉, Error enum이 변하면 Error enum을 사용하는 클래스 전부를 다시 컴파일하고 다시 배치해야 하므로 비용이 크다.\n그러므로 오류 코드 대신 예외를 사용하면 새 예외는 Exception 클래스에서 파생된다. 따라서 재컴파일, 재배치 없이도 새 예외 클래스를 추가할 수 있다.\n\n반복하지 마라!\n\n중복된 코드를 계속 만들지 마라.\n중복을 없애면 가독성이 높아진다.\n\n구조적 프로그래밍\n\n다익스트라는 모든 함수와 함수 내 모든 블록에 입구와 출구가 하나만 존재해야 한다고 말했다.\n함수는 return문이 하나여야 한다.\n루프 안에서 break나 continue를 사용해서는 안되며, goto는 절대로 안된다.\n\nReference\n\nClean Code\n\n","dateCreated":"2020-07-06T16:57:43+09:00","dateModified":"2020-07-22T11:56:42+09:00","datePublished":"2020-07-06T16:57:43+09:00","description":"어떤 프로그램이든 가장 기본적인 단위는 함수이다.","headline":"[CleanCode] 3장. 함수","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://woovictory.github.io/2020/07/06/CleanCode-3/"},"publisher":{"@type":"Organization","name":"VictoryWoo","sameAs":["https://github.com/WooVictory","https://www.facebook.com/WooVictory","https://www.linkedin.com/profile/","jhsw0375@gmail.com"],"image":"Victory.jpeg","logo":{"@type":"ImageObject","url":"Victory.jpeg"}},"url":"https://woovictory.github.io/2020/07/06/CleanCode-3/","keywords":"클린 코드, CleanCode, 함수"}</script>
    <meta name="description" content="어떤 프로그램이든 가장 기본적인 단위는 함수이다.">
<meta name="keywords" content="클린 코드,CleanCode,함수">
<meta property="og:type" content="blog">
<meta property="og:title" content="[CleanCode] 3장. 함수">
<meta property="og:url" content="https://woovictory.github.io/2020/07/06/CleanCode-3/index.html">
<meta property="og:site_name" content="VictoryWoo">
<meta property="og:description" content="어떤 프로그램이든 가장 기본적인 단위는 함수이다.">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2020-07-22T02:56:42.109Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[CleanCode] 3장. 함수">
<meta name="twitter:description" content="어떤 프로그램이든 가장 기본적인 단위는 함수이다.">
    
    
        
    
    
        <meta property="og:image" content="https://woovictory.github.io/assets/images/Victory.jpeg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ "
            aria-label=""
        >
            VictoryWoo
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">VictoryWoo</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기록을 통해 사람들과 공유하는 것을 좋아합니다.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/WooVictory"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.facebook.com/WooVictory"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/jhsw0375@gmail.com"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            [CleanCode] 3장. 함수
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-07-06T16:57:43+09:00">
	
		    Jul 06, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Book/">Book</a>, <a class="category-link" href="/categories/Book/CleanCode/">CleanCode</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p><strong>어떤 프로그램이든 가장 기본적인 단위는 함수이다.</strong></p>
<a id="more"></a>
<h3 id="작게-만들어라">작게 만들어라!</h3>
<ul>
<li>함수를 만드는 기본 규칙은 <code>작게</code>이다.</li>
<li>함수 내부에 들어가는 if문/else문/while문 등의 들여쓰기는 1단이나 2단을 넘어서는 중첩 구조가 발생하면 안된다.</li>
</ul>
<h3 id="한-가지만-해라">한 가지만 해라!</h3>
<ul>
<li>함수는 한 가지를 해야 한다. 그 한가지를 잘 해야 하며, 그 한가지만을 해야 한다.</li>
<li>지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 한다.</li>
<li>함수가 '한 가지’만 하는지 판단하는 방법이 하나 더 있다. 단순히 다른 표현이 아니라 의미있는 이름으로 다른 함수를 추출할 수 있다면 그 함수는 여러 작업을 하는 셈이다.</li>
<li>함수를 여러 섹션으로 나눌 수 있다면 그 함수는 여러 작업을 하는 셈이다.</li>
</ul>
<h3 id="함수-당-추상화-수준은-하나로">함수 당 추상화 수준은 하나로!</h3>
<ul>
<li>함수가 ‘한가지’ 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다.</li>
<li>만약, 한 함수 내에 추상화 수준이 뒤섞이면 읽는 사람이 헷갈린다.</li>
<li>코드는 위에서 아래로 이야기처럼 읽혀야 좋다. 이것을 <strong>내려가기 규칙</strong>이라고 부른다.</li>
<li>함수 추상화 수준이 아래로 읽으면서 한 단계씩 낮아지는 것이 이상적이다.</li>
</ul>
<h3 id="switch문">Switch문</h3>
<ul>
<li>switch문은 작게 만들기 어려우며, ‘한 가지’ 작업만 하도록 구성하기 힘들다.</li>
<li>아래의 코드는 코드를 변경할 이유가 하나가 아닌 여럿이므로 <code>SRP 이론</code>을 위반한다.</li>
<li>그리고 새 직원 유형을 추가할 때마다 코드를 변경하므로 <code>OCP 이론</code>을 위반한다.</li>
</ul>
<p>[문제가 존재하는 코드]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculatePay</span><span class="params">(Employee e)</span></span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(e.type)&#123;</span><br><span class="line">    <span class="keyword">case</span> SALARIED : </span><br><span class="line">      <span class="keyword">return</span> calculateSalariedPay();</span><br><span class="line">    <span class="keyword">case</span> HOURLY :</span><br><span class="line">      <span class="keyword">return</span> calculateHourlyPay();</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>switch문은 추상 팩토리에 숨긴다. 아무에게도 보여주지 않는다.</p>
</li>
<li>
<p>팩토리는 switch문을 사용해 적절한 Employee 파생 클래스의 인스턴스를 생성한다.</p>
</li>
<li>
<p>calculatePay, isPayday, deliverPay 등과 같은 함수는 Employee 인터페이스를 거쳐 호출된다. 그러면 다형성으로 인해 실제 파생 클래스의 함수가 실행된다.</p>
</li>
<li>
<p>즉, <code>다형성</code>을 이용하여 해결할 수 있다.</p>
</li>
</ul>
<p>[변경한 코드]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">boolean</span> <span class="title">isPayday</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> Money <span class="title">calculatePay</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">deliverPay</span><span class="params">(Money pay)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeFactory</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Employee <span class="title">makeEmployee</span><span class="params">(EmployeeRecord r)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeImple</span> <span class="keyword">implements</span> <span class="title">EmployeeFactory</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Employee <span class="title">makeEmployee</span><span class="params">(EmployeeRecord r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(r.type)&#123;</span><br><span class="line">      <span class="keyword">case</span> COMMISSIONED : </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> CommissionedEmployee(r);</span><br><span class="line">      <span class="keyword">case</span> HOURLY : </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> HourlyEmployee(r);</span><br><span class="line">      <span class="keyword">case</span> SALARIED : </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SalariedEmployee(r);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommissionedEmployee</span> <span class="keyword">extends</span> <span class="title">Employee</span></span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPayday</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Money <span class="title">calculatePay</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deliverPay</span><span class="params">(Money pay)</span></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="서술적인-이름을-사용하라">서술적인 이름을 사용하라!</h3>
<ul>
<li>함수 이름이 길어지더라도 서술적으로 한번에 이해가 가능한 이름이 오히려 깔끔하고 좋은 코드가 된다.</li>
<li>길고 서술적인 이름이 길고 서술적인 주석보다 좋다.</li>
<li>서술적인 이름을 사용하면 개발자 머릿속에서도 설계가 뚜렷해지므로 코드를 개선하기 쉬워진다. 좋은 이름을 고른 후 코드를 더 좋게 재구성하는 사례도 있다.</li>
<li>이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같은 문구, 명사, 동사를 사용한다.</li>
<li>ex) includeSetupAndTeardownPages, includeSetupPages, includeSuiteSetupPages, includeSetupPage 등이 좋은 예다.</li>
</ul>
<h3 id="함수-인수">함수 인수</h3>
<ul>
<li>함수에서 이상적인 인수 개수는 0개이다.</li>
<li>기본적으로 3개까지가 마지노선이라고 생각한다. 그 이상은 절대 오지 않도록 한다.</li>
<li>인수는 함수를 이해하는데 어렵게 한다.</li>
<li>테스트 관점에서 보더라도 인수는 어렵다. 갖가지 인수 조합으로 함수를 검증하는 것은 까다롭다.</li>
</ul>
<p>[많이 쓰는 단항 형식]</p>
<ul>
<li>인수에 질문을 던지는 경우.
<ul>
<li>ex) boolean fileExists(“MyFile”)</li>
</ul>
</li>
<li>인수를 뭔가로 변환해 결과를 반환하는 경우.
<ul>
<li>ex) InputStream fileOpen(“MyFile”)</li>
</ul>
</li>
<li>드물게 사용하지만 유용한 경우는 이벤트.
<ul>
<li>함수 호출을 이벤트로 해석해 입력 인수로 시스템 상태를 바꾼다.</li>
<li>이벤트라는 사실이 코드에 명확히 드러나야 하며, 조심해서 사용해야 한다.</li>
<li>ex) passwordAttemptFailedNtimes(int attempts)</li>
</ul>
</li>
</ul>
<p>[플래그 인수]</p>
<ul>
<li>플래그 인수는 추하다.</li>
<li>함수로 부울 값을 넘기는 관례는 끔찍하다. 이유는 함수가 한꺼번에 여러 가지를 처리한다고 대놓고 공표하는 셈이니까!</li>
</ul>
<p>[이항 함수]</p>
<ul>
<li>인수가 증가할수록 함수를 이해하기 어려워진다.
<ul>
<li>ex) writeField(name)은 writeField(outputStream, nam)보다 이해하기 쉽다.</li>
</ul>
</li>
<li>이항 함수가 적절한 경우도 존재한다.
<ul>
<li>ex) Point p = new Poin(0,0)</li>
<li>직교 좌표계 점은 일반적으로 인수 2개를 취한다. 다만, 여기서 인수 2개는 한 값을 표현하는 두 요소라는 점을 알아야 한다.</li>
</ul>
</li>
<li>이항 함수가 무조건 나쁘다는 것은 아니다. 프로그램을 짜면서 불가피한 경우도 생기지만, 그만큼 위험이 따른다는 사실을 이해하고 가능하면 단항 함수로 바꾸도록 애써야 한다.</li>
</ul>
<p>[삼항 함수]</p>
<ul>
<li>인수가 3개인 함수는 인수가 2개인 함수보다 이해하기 어렵다.</li>
<li>순서를 파악하면서 주춤하게 되고, 무시해도 된다는 걸 생각하는 등의 문제가 두 배 이상 늘어난다.</li>
</ul>
<p>[인수 객체]</p>
<ul>
<li>인수가 늘어난다면 별도의 인수 객체를 만들어 묶어서 보내는게 더 낫다.</li>
<li>Ex) int x, int y =&gt; Point point</li>
<li>이는 눈속임이 아니다. x,y를 묶었듯이 변수를 묶어 넘기려면 이름을 붙여야 하므로 결국은 개념을 표현하게 된다.</li>
</ul>
<p>[동사와 키워드]</p>
<ul>
<li>함수의 의도나 인수의 순서와 의도를 제대로 표현하려면 좋은 함수 이름이 필수다.</li>
<li>즉, 함수의 이름과 인자가 한꺼번에 이해 가능한 이름이 가장 좋다.</li>
<li>ex) write(name), assertExpectedEqualsActual(expected, actual)</li>
</ul>
<h3 id="부수-효과를-일으키지-마라">부수 효과를 일으키지 마라!</h3>
<ul>
<li>부수 효과는 거짓말이다.</li>
<li>함수에서 한 가지를 하겠다고 하고선 다른 일을 하지 마라.</li>
<li>ex) checkPassword() 함수 내에서 암호를 확인하는 일 이외에 사용자 세션을 초기화 한다거나 하는 행위는 자칫하면 엄청 큰 버그를 일으킬 가능성이 크다. 따라서 이와 같은 부수 효과를 일으키지 않아야 한다.</li>
</ul>
<h3 id="명령과-조회를-분리하라">명령과 조회를 분리하라!</h3>
<ul>
<li>함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야 한다.</li>
<li>즉, 객체 상태를 변경하거나 아니면 객체 정보를 반환하거나 둘 중 하나만 해야 한다.</li>
</ul>
<h3 id="오류-코드보다-예외를-사용하라">오류 코드보다 예외를 사용하라!</h3>
<ul>
<li>오류 코드 대신 예외를 사용하면 오류 처리 코드가 원래 코드에서 분리되므로 코드가 깔끔해진다.</li>
<li>try/catch 블록은 코드 구조에 혼란을 일으키며, 정상 동작과 오류 처리 동작을 뒤섞는다. 그러므로 try/catch 블록을 별도 함수로 뽑아내는 편이 좋다.</li>
</ul>
<p>[문제가 있는 코드]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (deletePage(page) == E_OK) &#123;</span><br><span class="line">	<span class="keyword">if</span> (registry.deleteReference(page.name) == E_OK) &#123;</span><br><span class="line">		<span class="keyword">if</span> (configKeys.deleteKey(page.name.makeKey()) == E_OK) &#123;</span><br><span class="line">			logger.log(<span class="string">"page deleted"</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			logger.log(<span class="string">"configKey not deleted"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		logger.log(<span class="string">"deleteReference from registry failed"</span>); </span><br><span class="line">	&#125; </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	logger.log(<span class="string">"delete failed"</span>); <span class="keyword">return</span> E_ERROR;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>[변경한 코드]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(Page page)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">			deletePageAndAllReferences(page);</span><br><span class="line">  	&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">  		logError(e);</span><br><span class="line">  	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deletePageAndAllReferences</span><span class="params">(Page page)</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">	deletePage(page);</span><br><span class="line">	registry.deleteReference(page.name); </span><br><span class="line">	configKeys.deleteKey(page.name.makeKey());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">logError</span><span class="params">(Exception e)</span> </span>&#123; </span><br><span class="line">	logger.log(e.getMessage());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>deletePageAndAllReferences 함수는 예외를 처리하지 않는다.</li>
<li>이렇게 정상 동작과 오류 처리 동작을 분리하면 코드를 이해하고 수정하기 쉬워진다.</li>
</ul>
<p>[오류 처리도 한 가지 작업이다.]</p>
<ul>
<li>오류 처리도 ‘한 가지’ 작업에 속한다. 그러므로 오류를 처리하는 함수는 오류만 처리해야 마땅하다.</li>
<li>아래는 Error.java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Error &#123; </span><br><span class="line">	OK,</span><br><span class="line">	INVALID,</span><br><span class="line">	NO_SUCH,</span><br><span class="line">	LOCKED,</span><br><span class="line">	OUT_OF_RESOURCES, 	</span><br><span class="line">	WAITING_FOR_EVENT;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>위의 코드는 의존성 자석이다.</li>
<li>오류를 처리하는 곳곳에서 오류 코드를 사용한다면 Error enum을 사용하게 된다. 즉, Error enum이 변하면 Error enum을 사용하는 클래스 전부를 다시 컴파일하고 다시 배치해야 하므로 비용이 크다.</li>
<li>그러므로 오류 코드 대신 예외를 사용하면 새 예외는 Exception 클래스에서 파생된다. 따라서 재컴파일, 재배치 없이도 새 예외 클래스를 추가할 수 있다.</li>
</ul>
<h3 id="반복하지-마라">반복하지 마라!</h3>
<ul>
<li>중복된 코드를 계속 만들지 마라.</li>
<li>중복을 없애면 가독성이 높아진다.</li>
</ul>
<h3 id="구조적-프로그래밍">구조적 프로그래밍</h3>
<ul>
<li>다익스트라는 모든 함수와 함수 내 모든 블록에 입구와 출구가 하나만 존재해야 한다고 말했다.</li>
<li>함수는 return문이 하나여야 한다.</li>
<li>루프 안에서 break나 continue를 사용해서는 안되며, goto는 <strong>절대로</strong> 안된다.</li>
</ul>
<h3 id="reference">Reference</h3>
<ul>
<li><a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788966260959" target="_blank" rel="noopener">Clean Code</a></li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/CleanCode/">CleanCode</a> <a class="tag tag--primary tag--small t-link" href="/tags/클린-코드/">클린 코드</a> <a class="tag tag--primary tag--small t-link" href="/tags/함수/">함수</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/07/08/Android-SingleLiveEventToEventWrapper/"
                    data-tooltip="[Android] MVVM UI Event Wrapper"
                    aria-label="PREVIOUS: [Android] MVVM UI Event Wrapper"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/07/06/Android-koin-1/"
                    data-tooltip="[Android] Koin"
                    aria-label="NEXT: [Android] Koin"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://woovictory.github.io/2020/07/06/CleanCode-3/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://woovictory.github.io/2020/07/06/CleanCode-3/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://woovictory.github.io/2020/07/06/CleanCode-3/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 VictoryWoo. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/07/08/Android-SingleLiveEventToEventWrapper/"
                    data-tooltip="[Android] MVVM UI Event Wrapper"
                    aria-label="PREVIOUS: [Android] MVVM UI Event Wrapper"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/07/06/Android-koin-1/"
                    data-tooltip="[Android] Koin"
                    aria-label="NEXT: [Android] Koin"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://woovictory.github.io/2020/07/06/CleanCode-3/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://woovictory.github.io/2020/07/06/CleanCode-3/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://woovictory.github.io/2020/07/06/CleanCode-3/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://woovictory.github.io/2020/07/06/CleanCode-3/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://woovictory.github.io/2020/07/06/CleanCode-3/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://woovictory.github.io/2020/07/06/CleanCode-3/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">VictoryWoo</h4>
        
            <div id="about-card-bio"><p>기록을 통해 사람들과 공유하는 것을 좋아합니다.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Android Developer</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover-v1.2.0.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->


    




    </body>
</html>
