
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="VictoryWoo">
    <title>[Kotlin in Action] Chap6. 코틀린 타입 시스템 - VictoryWoo</title>
    <meta name="author" content="VictoryWoo">
    
    
        <link rel="icon" href="https://woovictory.github.io/assets/images/develop.ico">
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"VictoryWoo","sameAs":["https://github.com/WooVictory","https://www.facebook.com/WooVictory","https://www.linkedin.com/profile/","jhsw0375@gmail.com"],"image":"Victory.jpeg"},"articleBody":"1. 널 가능성(Nullability)\n\n물음표 기호 ’ ? '를 사용하여 Null이 될 수 있는 여부를 컴파일러가 미리 감지하게 함.\nNPE처리를 위해 Nullable타입을 명시적으로 지원\n\n1public void strLen(@NotNull String s1, @Nullable String s2) &#123;...&#125;\n1fun strLen(s1 : String, s2 : String?) &#123;...&#125;\n\nEx)\n123456789101112fun strLen(s : String) = s.lengthfun strLenSafe(s : String?) = s!!.length\t//모순...fun strLenSafe2(s : String?) = if(s != null) s.length else 0fun main(args: Array&lt;String&gt;) &#123;    println(strLen(\"abc\"))\t\t\t// 3    println(strLenSafe(\"abc\"))\t\t// 3    println(strLenSafe2(\"abc\"))\t\t// 3        val x: String? = null    println(strLenSafe(x))\t\t\t// ? &#125;\n\nKotlin에서는 NPE가 일어나지 않는가?\n\n\nNullPointerException을 상속한 KotlinNullPointerException이 발생\n인자로 넘겨준 값이 Nullable이라면 함수내에서도 Nullable 통일!\n\n12345public open class KotlinNullPointerException : NullPointerException &#123;    constructor()    constructor(message: String?) : super(message)&#125;\n1.1 Safe Call 연산자\n\nSafe Call 연산자는 ’ .? ’ 을 붙여 사용\nNull검사와 메소드 호출을 한 번의 연산으로 수행\n\nEx.1) Safe Call 연쇄시키기1\n123456789fun printAllCaps(s: String?) &#123;    val allCaps: String? = s?.toUpperCase()    println(allCaps)&#125;fun main(args: Array&lt;String&gt;) &#123;    printAllCaps(\"abc\")\t\t\t//ABC    printAllCaps(null)\t\t\t//null&#125;\nEx.2) Safe Call 연쇄시키기2\n12345678910111213141516class Address(val streetAddress: String, val zipCode: Int,              val city: String, val country: String)class Company(val name: String, val address: Address?)class Person(val name: String, val company: Company?)fun Person.countryName(): String &#123;   val country = this.company?.address?.country   return if (country != null) country else \"Unknown\"&#125;fun main(args: Array&lt;String&gt;) &#123;    val person = Person(name = \"Dmitry\", company = null)    println(person.countryName())&#125;\n\n생각해보자!\n\n위의 Safe Call 연산자를 보고 처음엔 읽기 불편했지만 아래의 예시를 보고 느낌이 왔다.\n12val country = this.company?.address?.countryreturn if (country != null) country else \"Unknown\"\n저 부분만 Java로 변환하면\n123456789if(this.getCompany() != null &amp;&amp; this.getCompany().getAddress() != null &amp;&amp; this.getCompany().getAddress().getCountry() != null)&#123; String country = this.getCompany().getAddress().getCountry(); return country;&#125;else&#123; return \"Unknown\";&#125;\n1.2 Elvis 연산자\n\n널복합 연산자(Null coalescing) 라고도 함\n이항연산자로 좌항을 계산한 값이 Null인 경우, 특정 값(우항)으로 값을 할당\n예외 처리에 유용\n삼항 연산자 + Null 처리(Kotlin에서는 삼항 연산자를 지원하지 않음)\n\nEx .1)  Safe Call 연산자 vs Elvis 연산자\n12345678//Safe Call 연산자fun Person.countryName(): String &#123;   val country = this.company?.address?.country   return if (country != null) country else \"Unknown\"&#125;//Elvis 연산자fun Person.countryName() = this.company?.address?.country ?: \"Unknown\"\nEx.2) Elvis 연산자를 이용한 예외 처리\n123456789101112131415161718192021222324class Address(val streetAddress: String, val zipCode: Int,              val city: String, val country: String)class Company(val name: String, val address: Address?)class Person(val name: String, val company: Company?)fun printShippingLabel(person: Person) &#123;    val address = person.company?.address      ?: throw IllegalArgumentException(\"No address\")    with (address) &#123;        println(streetAddress)        println(\"$zipCode $city, $country\")    &#125;&#125;fun main(args: Array&lt;String&gt;) &#123;    val address = Address(\"Elsestr. 47\", 80687, \"Munich\", \"Germany\")    val jetbrains = Company(\"JetBrains\", address)    val person = Person(\"Dmitry\", jetbrains)    printShippingLabel(person)\t//Elsestr. 47    //80687 Munich, Germany    printShippingLabel(Person(\"Alexey\", null))\t  //java.lang.IllegalArgumentException: No address&#125;\n1.3  Type Cast 연산자  : as 와 Safe Cast :as?\n\nas?는 변환 가능한 타입인지 검사 후, 아니면 Null값 반환\n\n123456789101112131415161718192021class Person(val firstName: String, val lastName: String) &#123;    override fun equals(o: Any?): Boolean &#123;    val otherPerson = o as? Person ?: return false    return otherPerson.firstName == firstName &amp;&amp;            otherPerson.lastName == lastName    &#125;    override fun hashCode(): Int =    firstName.hashCode() * 37 + lastName.hashCode()&#125;  fun main(args: Array&lt;String&gt;) &#123;    val p1 = Person(\"Dmitry\", \"Jemerov\")    val p2 = Person(\"Dmitry\", \"Jemerov\")    println(p1 == p2)\t\t\t\t\t//true    println(p1.equals(42))\t\t\t\t//false        println(\"p1 HashCode : \" + p1.hashCode())    println(\"p1 HashCode : \" + p2.hashCode())&#125;\n\n심화학습…\t//혼자 다 설명할 수 없음…\n\n위의 코드를 보면, 뜬금없이 hashCode를 재정의한 것을 볼 수 있는데\n그 이유를 간략히 설명하자면, Effective Java에서는 다음과 같이 설명한다.\nequals를 재정의한 클래스에서는 hashcode도 재정의 해야한다.\n그렇지 않으면 hash를 사용하는 HashMap, HashSet과 같은 컬렉션의 원소로 사용될 때 문제가 발생할 것이다.\n따라서, eqauls를 재정의 하는 경우 다음 3가지 규약을 지켜야한다.\n\nequals비교에 사용되는 정보가 변경되지 않았다면, 객체의 hashcode 메서드는 몇번을 호출해도 항상 일관된 값을 반환해야 한다.\n(단, Application을 다시 실행한다면 값이 달라져도 상관없다. (메모리 소가 달라지기 때문))\nequals메서드 통해 두 개의 객체가 같다고 판단했다면, 두 객체는 똑같은 hashcode 값을 반환해야 한다.\nequals메서드가 두 개의 객체를 다르다고 판단했다 하더라도, 두 객체의 hashcode가 서로 다른 값을 가질 필요는 없다. (Hash Collision) 단, 다른 객체에 대해서는 다른 값을 반환해야 해시테이블의 성능이 좋아진다.\n참고\n\nHashCode() 재정의 이유 : https://jaehun2841.github.io/2019/01/12/effective-java-item11/#서론\n37을 곱한 이유 : https://d2.naver.com/helloworld/831311\n\n\n\n1.4 널 아님 단언(Not-null Assertion)\n\n널 아님 단언은 ’ !! '로 표현\n컴파일러에게 &quot;나는 이 값이 null이 아님을 잘 알고있으며, 예외가 발생해도 감수하겠다&quot;라는 표현\n\nEx.1) Swing(프레임워크)에서 널 아님 단언 사용\n123456class CopyRowAction(val list: JList&lt;String&gt;): AbstractAction()&#123;    override fun isEnabled(): Boolean = list.selectedValue != null    override fun actionPerformed(e : ActionEvent)&#123;        val value = list.selectedValue!!    &#125;&#125;\n\n한 줄에 나란히 널 아님 단언이 쓰였을 경우, 어떤 식에서 발생한 예외인지 알 수 없으니 나란히 사용은 피하자\n\n1person.company!!.address!!.country\n1.5 let함수\n\n널이 될 수 있는 값(Nullable)을 널이 아닌 값(NotNull)만 인자로 받을 때, 용이하게 사용\n여러 값에 대한 null 체크 시, let을 중첩해서 사용하면 코드가 복잡해지므로 피하는 것이 좋다.\n\n(if (something != null) 사용을 권장)\n\n\n\nEx.1) let을 사용해 Null이 아닌 인자로 함수 호출하기\n12345678910fun sendEmailTo(email: String) &#123;    println(\"Sending email to $email\")&#125;fun main(args: Array&lt;String&gt;) &#123;    var email: String? = \"yole@example.com\"    email?.let &#123; sendEmailTo(it) &#125;\t\t//Sending email to yole@example.com    email = null    email?.let &#123; sendEmailTo(it) &#125;&#125;\n\nlet을 호출하면 람다의 인자인 it은 널이 될 수 있는 타입으로 추론됨\n\n1.6 lateinit 변경자\n\nlateinit 변경자를 사용하면 Nullable, NotNull을 난잡하게 사용하지않고 프로퍼티를 나중에 초기화 할 수 있다.\n프로퍼티가 val인 경우는 적용할 수 없고, 항상 var여야만 한다.\n\n12345678910111213141516171819202122import org.junit.Beforeimport org.junit.Testimport org.junit.Assertclass MyService &#123;    fun performAction(): String = \"foo\"&#125;class MyTest &#123;    private var myService: MyService? = null    //lateinit 변경자 선언 시\tprivate lateinit myService : MyService    @Before fun setUp() &#123;        myService = MyService()    &#125;    @Test fun testAction() &#123;        Assert.assertEquals(\"foo\", myService!!.performAction())        //lateinit 변경자로 선언 시,        Assert.assertEquals(\"foo\", myService.performAction())    &#125;&#125;\n\nlateinit에 대한 초기화진행 여부를 확인하기 위해서는 ex) ::myService.isInitialized 형태로 분기처리하여 확인할 수 있다\n\n1.7 널 가능 타입의 확장\n\nnull이 될 수 있는 타입에 대한 확장함수를 정의하면, Safe Call을 하지않아도 된다.\n\nEx.1) Null이 될 수 있는 수신 객체에 대해 확장 함수 호출\n123456789101112131415161718fun verifyUserInput(input: String?) &#123;    if (input.isNullOrBlank()) &#123;\t//&lt;- input이 Nullable이지만 Safe Call 연산자를 쓰지않음        println(\"Please fill in the required fields\")    &#125;&#125;fun main(args: Array&lt;String&gt;) &#123;    verifyUserInput(\" \")\t\t//Please fill in the required fields    verifyUserInput(null)\t\t//Please fill in the required fields&#125;//String에서의 확장함수 정의public inline fun CharSequence?.isNullOrBlank(): Boolean &#123;    contract &#123;        returns(false) implies (this@isNullOrBlank != null)    &#125;    return this == null || this.isBlank()&#125;\n1.8 타입 파라미터의 널 가능성\n\nKotlin에서는 함수나 클래스의 모든 타입 파라미터는 기본적으로 널이 될 수 있다.(t를 Any 타입으로 추론하기 때문)\n타입 파라미터는 타입 상한을 지정하지 않는다면 Null이 될 수 있다.(t를 Any?의 타입으로 추론하기 때문)\n\nEx.)  널이 될 수 있는 타입파라미터와 상한 지정\n123456789101112131415161718//널이 될 수 있는 타입 파라미터fun &lt;T&gt; printHashCode(t: T) &#123;    println(t?.hashCode())&#125;fun main(args: Array&lt;String&gt;) &#123;    printHashCode(null)\t\t//null&#125;//상한을 지정한 타입 파라미터fun &lt;T : Any&gt; printHashCode(t: T) &#123;    println(t.hashCode())&#125;fun main(args: Array&lt;String&gt;) &#123;    printHashCode(null)    //Type parameter bound for T in fun &lt;T : Any&gt; printHashCode(t: T): Unit is not satisfied&#125;\n참고: https://stackoverflow.com/questions/54760309/why-i-cant-assign-nullable-type-to-any-in-kotlin\n1.9 플랫폼 타입\n\n플랫폼 타입은 Kotlin이 널 관련 정보를 알 수 없는 Java 타입을 지칭\nKotlin은 보통 NotNull타입의 값에 대해 널 안정성을 검사하지만 플랫폼 타입의 값에 대해서는 경고하지않음\n\n12345678910//Javapublic class Person&#123;    private final String name;    public Person(String name)&#123;        this.name = name;    &#125;    public String getName()&#123;        return name;    &#125;&#125;\n1234567891011//Kotlinfun yellAtSafe(person: Person) &#123;    println(person.name.toUpperCase() + \"!!!\")    //toUpperCase()의 수신객체의 person.name이 non-null인데 null이라 컴파일 에러     println((person.name ?: \"Anyone\").toUpperCase() + \"!!!\")    //ANYONE!!!&#125;fun main(args: Array&lt;String&gt;) &#123;    yellAtSafe(Person(null))&#125;\n\n전부 다 널이 될 수 있는 타입으로 하면 되지않을까?\n모든 자바 타입을 널이 될 수 있는 타입으로 처리하기엔 널 안정성 검사로 인해 얻는 이익보다 쓸데없는 비용이 늘어나 프로그래머에게 타입의 널 가능성의 책임을 부여함.\n\n1.10 상속\n\n자바클래스를 코틀린에서 상속할때, 파라미터나 반환타입의 Null처리를 결정해야함\n\n1234//Javainterface StringProcessor&#123;    void process(String value);&#125;\n123456789101112//Kotlinclass StringPrinter : StringProcessor&#123;    override fun process(value: String)&#123;\t\t// notnull 선언        println(value)\t\t    &#125;&#125;class NullableStringPrinter : StringProcessor&#123;    override fun process(value: String?)&#123;\t\t//nullable 선언        value?.let&#123;println(it)&#125;    &#125;&#125;\n2. 코틀린의 원시 타입\n\nKotlin은 원시타입과 참조타입을 구분하지 않고, 항상 같은 타입을 사용\n대부분, Kotlin의 Int타입은 Java의 int 타입으로 컴파일 되고, Int를 타입인자로 넘기는 경우 Integer로 컴파일된다.\n\n2.1 null이 될 수 있는 원시타입 : Int?, Boolean? 등\n\n코틀린에서 null이 될 수 있는 원시 타입을 사용하면 그 타입은 자바의 래퍼 타입으로 컴파일 된다.\n\nEx.)\n123456789101112data class Person(val name: String, val age: Int? = null) &#123;    fun isOlderThan(other: Person) : Boolean? &#123;        if (age == null || other.age == null)            return null        return age &gt; other.age        &#125;&#125;fun main(args: Array&lt;String&gt;) &#123;    println(Person(\"Sam\", 35).isOlderThan(Person(\"Amy\", 42))) //false    println(Person(\"Sam\", 35).isOlderThan(Person(\"Jane\")))\t  //null&#125;\n\nage는 컴파일러에 의해 널 안정성 검사를 마친 후 값을 비교가 허용되므로, age의 프로퍼티값은래퍼 타입으로 저장된다.\n\n2.2 숫자 변환\n\nKotlin은 Boolean을 제외한 모든 원시 타입에 대한 변환 함수를 제공\nKotlin은 한 타입의 숫자를 다른 타입으로 자동변환 하지 않음.\n명시적으로 변환 메소드를 사용해야함\n\n12345678910111213141516171819val i = 1val l = Long = i  // \"Error: type mismatch\" 컴파일 오류 발생val i = 1val l: Long = i.toLong()\t// 명시적으로 변환 메소드 사용---------------------------명시 이유---------------------------val x = 1  // Intval list = listOf(1L, 2L, 3L) // Long 리스트 x in list // 묵시적 타입 변환으로 인해 falseval x = 1println(x.toLong() in listOf(1L, 2L, 3L)) //truefun foo(l: Long) = pinrtln(l)val b: Byte = 1 // 상수 값는 적절한 타입으로 해석 된다.val l = b + 1L  // +는 Byte와 Long을 인자로 받을 수 있다.foo(42)         // 함수 인자이므로 42를 Long으로 해석한다.\n2.3 Any, Any? : 최상위 타입\n\nJava는 Object, Kotlin은 Any가 널이 될 수 없는 타입의 최상위타입\n내부적으로 Any는 자바의 java.lang.Object로 컴파일 된다.\n모든 코틀린 클래스에는 toString, equals, hashCode 라는 3개의 메소드가 있다. 하지만 java.lang.Object에 있는 다른 메소드(wait나 notify 등)는 Any에서 사용할 수 없다. 그런 메소드를 사용하고 싶다면 java.lang.Object로 캐스트해야 한다.\n\n2.4 Unit 타입 : Kotlin의 void\n\nKotlin의 Unit타입은 Java의 void와 같은 기능을 함.\n\n12fun f(): Unit&#123;...&#125;fun f()&#123;...&#125;\t\t//fun의 기본 선언은 void라고 생각\nEx.) void 와Unit의 차이\n\n반환 타입으로 Unit을 반환가능\n타입 매개변수로 Unit을 쓸 수 있다\n\n123456789101112131415161718interface Processor&lt;T&gt; &#123;    fun process(): T&#125;//반환 타입으로 Unit을 묵시적으로 반환 가능class NoResultProcessor : Processor&lt;Unit&gt; &#123;    override fun process() &#123;        // 업무 처리 코드            &#125;&#125;class ResultProcessor : Processor&lt;Integer&gt; &#123;    override fun process(): Int &#123;        // 업무 처리 코드        return someInt    &#125;&#125;\n\nKotlin은 왜 void가 아닌 Unit을 만들었을까?\nKotlin의 Unit은 Java의 void와 다르게 두 가지 특징을 가진다\n\n\nUnit은 싱글톤 인스턴스이다. 그래서 Kotlin에서 Unit이라는 키워드는 타입이면서도 동시에 객체\n\n1val unit : Unit = Unit\n\nUnit은 객체이기도 하기때문에 Any를 상속하는 서브 클래스이다.\n\n1val unit : Any = Unit\n2.5 Nothing 타입: 이 함수는 결코 정상적으로 끝나지 않는다.\n\n함수가 정상적으로 끝나지 않는 사실을 표현할 때 사용\nNothing 타입은 아무 값도 포함하지 않음 = return이라는 행위 자체를 하지않음\n\nEx. 1) 함수가 리턴 될 일이 없을 경우\n12345fun infiniteLoop(): Nothing &#123;    while (true) &#123;        println(\"Hi there!\")    &#125;&#125;\nEx. 2) 예외를 던지는(throw Exception)함수의 리턴 타입\n123fun throwException(): Nothing &#123;    throw IllegalStateException()&#125;\nEx. 3) 함수의 리턴 타입이 Nothing? 일 경우\n123456789101112131415fun mayThrowAnException(throwException: Boolean): Nothing? &#123;    return if (throwException) &#123;        throw IllegalStateException()    &#125; else &#123;        println(\"Exception not thrown :)\")        null    &#125;&#125;fun main() &#123;    val result = mayThrowAnException(true)    if (result == null) &#123; // Always true        println(\"Ignored code\")    &#125;&#125;\n3. 컬렉션과 배열\n3.1 널 가능성과 컬렉션\nEx.1)null이 될 수 있는 값으로 이뤄진 컬렉션\n1234567891011121314151617181920212223242526272829303132333435fun readNumbers(reader: BufferedReader): List&lt;Int?&gt; &#123;    val result = ArrayList&lt;Int?&gt;()    for (line in reader.lineSequence()) &#123;        try &#123;            val number = line.toInt()            result.add(number)        &#125;        catch(e: NumberFormatException) &#123;            result.add(null)        &#125;    &#125;    return result&#125;fun addValidNumbers(numbers: List&lt;Int?&gt;) &#123;    var sumOfValidNumbers = 0    var invalidNumbers = 0    for (number in numbers) &#123;        if (number != null) &#123;            sumOfValidNumbers += number        &#125; else &#123;            invalidNumbers++        &#125;    &#125;    println(\"Sum of valid numbers: $sumOfValidNumbers\")    println(\"Invalid numbers: $invalidNumbers\")&#125;fun main(args: Array&lt;String&gt;) &#123;    val reader = BufferedReader(StringReader(\"1\\nabc\\n42\"))    val numbers = readNumbers(reader)    addValidNumbers(numbers)\t\t//Sum of valid numbers: 43\t\t\t\t\t\t\t\t  //Invalid numbers: 1    &#125;\n\nList&lt;Int?&gt; 과 List?과 List&lt;Int?&gt;? 잘 구분해서 쓸 것!\n\n3.2 읽기 전용과 변경 가능한 컬렉션\n\nKotlin 컬렉션은 자바와 다르게 읽기 전용 컬렉션(Collection)과 변경가능 컬렉션(MutableCollection)이 분리되어있다.\n\nEx) Collection(size, iterator(), contains())    /    MutableCollection(add(), remove(), clear())\n12345678910111213fun &lt;T&gt; copyElements(source: Collection&lt;T&gt;,                    target: MutableCollection&lt;T&gt;) &#123;    for (item in source) &#123;        target.add(item)    &#125;&#125;fun main(args: Array&lt;String&gt;) &#123;    val source: Collection&lt;Int&gt; = arrayListOf(3, 5, 7)    val target: MutableCollection&lt;Int&gt; = arrayListOf(1)    copyElements(source, target)    println(target)\t\t//[1, 3, 5, 7]&#125;\nEx) Thread-safe하지않은 읽기전용 Collection\n12345678910111213141516171819//MutableCollection이 Collection 참조val collection: Collection&lt;Int&gt; = arrayListOf(1, 2, 3)val mutableCollection: MutableCollection&lt;Int&gt; = collectionerror: type mismatch: inferred type is Collection&lt;Int&gt; but MutableCollection&lt;Int&gt; was expected// Collection이 MutableCollection 참조val mutableCollection: MutableCollection&lt;Int&gt; = arrayListOf(1, 2, 3)val collection: Collection&lt;Int&gt; = mutableCollection //가능 &gt;&gt;&gt; collection[1, 2, 3]&gt;&gt;&gt; mutableCollection[1, 2, 3]&gt;&gt;&gt; mutableCollection.add(5)&gt;&gt;&gt; mutableCollection[1, 2, 3, 5]&gt;&gt;&gt; collection[1, 2, 3, 5]    // mutalbeCollection에 5를 추가했지만 collection에도 영향을 미친다// 같은 객체를 다른 타입의 참조들이 가리키고 있다.\n\n따라서, ConcurrentModificationException등의 오류가 발생할 수 있으므로, 다중 스레드 환경에서 데이터를 다루는 경우 그 데이터를 적절히 동기화 하거나 동시 접근을 허용하는 데이터 구조를 활용해야한다.\n\n3.3 코틀린 컬렉션과 자바\n\n코틀린에서 읽기 전용인 Collection으로 선언된 객체라도 자바코드에서는, 이를 구분하지 않으므로 수정가능\n코틀린 컴파일러가 컬렉션이 어떤 일을 하는지 정확한 분석이 어려움\n어차피 ImmutableList가 나와도 자바로 가면 변경이 가능하니 차라리 변경 가능한 컬렉션을 넘기고 명시를 정확히 해두는 것이 좋다.\n\n12345678910//Javapublic class CollectionUtils &#123;    public static List&lt;String&gt; uppercaseAll(List&lt;String&gt; items) &#123;        for (int i = 0; i &lt; items.size(); i++) &#123;            items.set(i, items.get(i).toUpperCase());        &#125;                return items;    &#125;&#125;\n1234567891011//Kotlinfun printInUppercase(list: List&lt;String&gt;) &#123;    println(CollectionUtils.uppercaseAll(list))    println(list.first())&#125;fun main(args: Array&lt;String&gt;) &#123;    val list = listOf(\"a\", \"b\", \"c\")    printInUppercase(list)\t\t\t//[A, B, C]    \t\t\t\t\t\t\t   //A&#125;\n3.4 자바의 콜렉션 타입을 플랫폼 타입으로 다루기\n\n자바의 콜렉션 타입은 읽기전용이나 변경 가능으로 다룰 수 있음\n시그니처에서 콜렉션 타입을 사용한 자바 메서드를 오버라이드할 경우 코틀린 타입 선택 필요\n\n선택 사항\n\n컬렉션이 널이 될 수 있는가?\n컬렉션의 원소가 널이 될 수 있는가?\n오버라이드하는 메서드가 컬렉션을 변경할 수 있는가?\n\n\n자바 인터페이스나 클래스가 어떤 맥락에서 사용되는지 정확히 알아야한다.\n\n\n\n3.5 객체의 배열과 원시타입의 배열\n\n코틀린에서 배열을 만드는 방법\n\narrayOf : 함수에 원소를 넘김\n\n\n\n1234fun main(args: Array&lt;String&gt;) &#123;    val strings = listOf(\"a\", \"b\", \"c\")    println(\"%s/%s/%s\".format(*strings.toTypedArray()))\t\t// a/b/c&#125;\n\narrayOfNuls : 원소타입이 널이 될 수 있는 타입인 경우에만 호출할 수 있고, 인자에 배열의 크기를 넘김\n\n1val nullStorableArray = arrayOfNulls&lt;String&gt;(3)\n\nArray() : 배열의 크기와 람다를 인자로 받아, 람다를 호출하여 각 배열 원소를 초기화\n\n1234fun main(args: Array&lt;String&gt;) &#123;    val squares = IntArray(5) &#123; i -&gt; (i+1) * (i+1) &#125;    println(squares.joinToString())\t\t//1, 4, 9, 16, 25&#125;\n참고\n\nKotlin In Action\nMade by iyj9328\n\n","dateCreated":"2020-04-02T15:40:07+09:00","dateModified":"2020-08-05T15:41:57+09:00","datePublished":"2020-04-02T15:40:07+09:00","description":"1. 널 가능성(Nullability)\n\n물음표 기호 ’ ? '를 사용하여 Null이 될 수 있는 여부를 컴파일러가 미리 감지하게 함.\nNPE처리를 위해 Nullable타입을 명시적으로 지원\n\n1public void strLen(@NotNull String s1, @Nullable String s2) &#123;...&#125;\n1fun strLen(s1 : String, s2 : String?) &#123;...&#125;","headline":"[Kotlin in Action] Chap6. 코틀린 타입 시스템","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"},"publisher":{"@type":"Organization","name":"VictoryWoo","sameAs":["https://github.com/WooVictory","https://www.facebook.com/WooVictory","https://www.linkedin.com/profile/","jhsw0375@gmail.com"],"image":"Victory.jpeg","logo":{"@type":"ImageObject","url":"Victory.jpeg"}},"url":"https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/","keywords":"Android, Kotlin, 코틀린, 프로그래밍 언어, Kotlin in Action"}</script>
    <meta name="description" content="1. 널 가능성(Nullability)  물음표 기호 ’ ? &apos;를 사용하여 Null이 될 수 있는 여부를 컴파일러가 미리 감지하게 함. NPE처리를 위해 Nullable타입을 명시적으로 지원  1public void strLen(@NotNull String s1, @Nullable String s2) &amp;#123;...&amp;#125; 1fun strLen(s1">
<meta name="keywords" content="Android,Kotlin,코틀린,프로그래밍 언어,Kotlin in Action">
<meta property="og:type" content="blog">
<meta property="og:title" content="[Kotlin in Action] Chap6. 코틀린 타입 시스템">
<meta property="og:url" content="https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/index.html">
<meta property="og:site_name" content="VictoryWoo">
<meta property="og:description" content="1. 널 가능성(Nullability)  물음표 기호 ’ ? &apos;를 사용하여 Null이 될 수 있는 여부를 컴파일러가 미리 감지하게 함. NPE처리를 위해 Nullable타입을 명시적으로 지원  1public void strLen(@NotNull String s1, @Nullable String s2) &amp;#123;...&amp;#125; 1fun strLen(s1">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2020-08-05T06:41:57.114Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[Kotlin in Action] Chap6. 코틀린 타입 시스템">
<meta name="twitter:description" content="1. 널 가능성(Nullability)  물음표 기호 ’ ? &apos;를 사용하여 Null이 될 수 있는 여부를 컴파일러가 미리 감지하게 함. NPE처리를 위해 Nullable타입을 명시적으로 지원  1public void strLen(@NotNull String s1, @Nullable String s2) &amp;#123;...&amp;#125; 1fun strLen(s1">
    
    
        
    
    
        <meta property="og:image" content="https://woovictory.github.io/assets/images/Victory.jpeg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125410253-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-125410253-1');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ "
            aria-label=""
        >
            VictoryWoo
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">VictoryWoo</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기록을 통해 사람들과 공유하는 것을 좋아합니다.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/WooVictory"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.facebook.com/WooVictory"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/jhsw0375@gmail.com"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            [Kotlin in Action] Chap6. 코틀린 타입 시스템
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-04-02T15:40:07+09:00">
	
		    Apr 02, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Book/">Book</a>, <a class="category-link" href="/categories/Book/Kotlin-in-Action/">Kotlin in Action</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h4 id="1-널-가능성nullability">1. 널 가능성(Nullability)</h4>
<ul>
<li>물음표 기호 ’ ? '를 사용하여 Null이 될 수 있는 여부를 컴파일러가 미리 감지하게 함.</li>
<li>NPE처리를 위해 Nullable타입을 명시적으로 지원</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">strLen</span><span class="params">(@NotNull String s1, @Nullable String s2)</span> </span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">strLen</span><span class="params">(s1 : <span class="type">String</span>, s2 : <span class="type">String</span>?)</span></span> &#123;...&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>Ex)</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">strLen</span><span class="params">(s : <span class="type">String</span>)</span></span> = s.length</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">strLenSafe</span><span class="params">(s : <span class="type">String</span>?)</span></span> = s!!.length	<span class="comment">//모순...</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">strLenSafe2</span><span class="params">(s : <span class="type">String</span>?)</span></span> = <span class="keyword">if</span>(s != <span class="literal">null</span>) s.length <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    println(strLen(<span class="string">"abc"</span>))			<span class="comment">// 3</span></span><br><span class="line">    println(strLenSafe(<span class="string">"abc"</span>))		<span class="comment">// 3</span></span><br><span class="line">    println(strLenSafe2(<span class="string">"abc"</span>))		<span class="comment">// 3</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> x: String? = <span class="literal">null</span></span><br><span class="line">    println(strLenSafe(x))			<span class="comment">// ? </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Kotlin에서는 NPE가 일어나지 않는가?</strong></p>
</blockquote>
<ul>
<li>NullPointerException을 상속한 KotlinNullPointerException이 발생</li>
<li>인자로 넘겨준 값이 Nullable이라면 함수내에서도 Nullable 통일!</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">KotlinNullPointerException</span> : <span class="type">NullPointerException &#123;</span></span></span><br><span class="line">    <span class="keyword">constructor</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(message: String?) : <span class="keyword">super</span>(message)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="11-safe-call-연산자">1.1 Safe Call 연산자</h4>
<ul>
<li>Safe Call 연산자는 ’ .? ’ 을 붙여 사용</li>
<li>Null검사와 메소드 호출을 한 번의 연산으로 수행</li>
</ul>
<p>Ex.1) Safe Call 연쇄시키기1</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printAllCaps</span><span class="params">(s: <span class="type">String</span>?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> allCaps: String? = s?.toUpperCase()</span><br><span class="line">    println(allCaps)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    printAllCaps(<span class="string">"abc"</span>)			<span class="comment">//ABC</span></span><br><span class="line">    printAllCaps(<span class="literal">null</span>)			<span class="comment">//null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ex.2) Safe Call 연쇄시키기2</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span></span>(<span class="keyword">val</span> streetAddress: String, <span class="keyword">val</span> zipCode: <span class="built_in">Int</span>,</span><br><span class="line">              <span class="keyword">val</span> city: String, <span class="keyword">val</span> country: String)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Company</span></span>(<span class="keyword">val</span> name: String, <span class="keyword">val</span> address: Address?)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name: String, <span class="keyword">val</span> company: Company?)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> Person.<span class="title">countryName</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">   <span class="keyword">val</span> country = <span class="keyword">this</span>.company?.address?.country</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">if</span> (country != <span class="literal">null</span>) country <span class="keyword">else</span> <span class="string">"Unknown"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> person = Person(name = <span class="string">"Dmitry"</span>, company = <span class="literal">null</span>)</span><br><span class="line">    println(person.countryName())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>생각해보자!</strong></p>
</blockquote>
<p>위의 <strong>Safe Call 연산자</strong>를 보고 처음엔 읽기 불편했지만 아래의 예시를 보고 느낌이 왔다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> country = <span class="keyword">this</span>.company?.address?.country</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">if</span> (country != <span class="literal">null</span>) country <span class="keyword">else</span> <span class="string">"Unknown"</span></span><br></pre></td></tr></table></figure>
<p>저 부분만 Java로 변환하면</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>.getCompany() != <span class="keyword">null</span> </span><br><span class="line">&amp;&amp; <span class="keyword">this</span>.getCompany().getAddress() != <span class="keyword">null</span> </span><br><span class="line">&amp;&amp; <span class="keyword">this</span>.getCompany().getAddress().getCountry() != <span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"> String country = <span class="keyword">this</span>.getCompany().getAddress().getCountry();</span><br><span class="line"> <span class="keyword">return</span> country;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="string">"Unknown"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="12-elvis-연산자">1.2 Elvis 연산자</h4>
<ul>
<li><strong>널복합 연산자</strong>(Null coalescing) 라고도 함</li>
<li>이항연산자로 좌항을 계산한 값이 Null인 경우, 특정 값(우항)으로 값을 할당</li>
<li>예외 처리에 유용</li>
<li>삼항 연산자 + Null 처리(Kotlin에서는 삼항 연산자를 지원하지 않음)</li>
</ul>
<p>Ex .1)  Safe Call 연산자 vs Elvis 연산자</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Safe Call 연산자</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> Person.<span class="title">countryName</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">   <span class="keyword">val</span> country = <span class="keyword">this</span>.company?.address?.country</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">if</span> (country != <span class="literal">null</span>) country <span class="keyword">else</span> <span class="string">"Unknown"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Elvis 연산자</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> Person.<span class="title">countryName</span><span class="params">()</span></span> = <span class="keyword">this</span>.company?.address?.country ?: <span class="string">"Unknown"</span></span><br></pre></td></tr></table></figure>
<p>Ex.2) Elvis 연산자를 이용한 예외 처리</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span></span>(<span class="keyword">val</span> streetAddress: String, <span class="keyword">val</span> zipCode: <span class="built_in">Int</span>,</span><br><span class="line">              <span class="keyword">val</span> city: String, <span class="keyword">val</span> country: String)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Company</span></span>(<span class="keyword">val</span> name: String, <span class="keyword">val</span> address: Address?)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name: String, <span class="keyword">val</span> company: Company?)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printShippingLabel</span><span class="params">(person: <span class="type">Person</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> address = person.company?.address</span><br><span class="line">      ?: <span class="keyword">throw</span> IllegalArgumentException(<span class="string">"No address"</span>)</span><br><span class="line">    with (address) &#123;</span><br><span class="line">        println(streetAddress)</span><br><span class="line">        println(<span class="string">"<span class="variable">$zipCode</span> <span class="variable">$city</span>, <span class="variable">$country</span>"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> address = Address(<span class="string">"Elsestr. 47"</span>, <span class="number">80687</span>, <span class="string">"Munich"</span>, <span class="string">"Germany"</span>)</span><br><span class="line">    <span class="keyword">val</span> jetbrains = Company(<span class="string">"JetBrains"</span>, address)</span><br><span class="line">    <span class="keyword">val</span> person = Person(<span class="string">"Dmitry"</span>, jetbrains)</span><br><span class="line">    printShippingLabel(person)	<span class="comment">//Elsestr. 47</span></span><br><span class="line">    <span class="comment">//80687 Munich, Germany</span></span><br><span class="line">    printShippingLabel(Person(<span class="string">"Alexey"</span>, <span class="literal">null</span>))	  <span class="comment">//java.lang.IllegalArgumentException: No address</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="13-type-cast-연산자-as-와-safe-cast-as">1.3  Type Cast 연산자  : as 와 Safe Cast :as?</h4>
<ul>
<li>as?는 변환 가능한 타입인지 검사 후, 아니면 Null값 반환</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> firstName: String, <span class="keyword">val</span> lastName: String) &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">equals</span><span class="params">(o: <span class="type">Any</span>?)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> otherPerson = o <span class="keyword">as</span>? Person ?: <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> otherPerson.firstName == firstName &amp;&amp;</span><br><span class="line">            otherPerson.lastName == lastName</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">hashCode</span><span class="params">()</span></span>: <span class="built_in">Int</span> =</span><br><span class="line">    firstName.hashCode() * <span class="number">37</span> + lastName.hashCode()</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> p1 = Person(<span class="string">"Dmitry"</span>, <span class="string">"Jemerov"</span>)</span><br><span class="line">    <span class="keyword">val</span> p2 = Person(<span class="string">"Dmitry"</span>, <span class="string">"Jemerov"</span>)</span><br><span class="line">    println(p1 == p2)					<span class="comment">//true</span></span><br><span class="line">    println(p1.equals(<span class="number">42</span>))				<span class="comment">//false</span></span><br><span class="line">    </span><br><span class="line">    println(<span class="string">"p1 HashCode : "</span> + p1.hashCode())</span><br><span class="line">    println(<span class="string">"p1 HashCode : "</span> + p2.hashCode())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>심화학습…</strong>	//혼자 다 설명할 수 없음…</p>
</blockquote>
<p>위의 코드를 보면, 뜬금없이 hashCode를 재정의한 것을 볼 수 있는데</p>
<p>그 이유를 간략히 설명하자면, Effective Java에서는 다음과 같이 설명한다.<br>
<code>equals를 재정의한 클래스에서는 hashcode도 재정의 해야한다.</code><br>
그렇지 않으면 hash를 사용하는 HashMap, HashSet과 같은 컬렉션의 원소로 사용될 때 문제가 발생할 것이다.</p>
<p>따라서, eqauls를 재정의 하는 경우 다음 3가지 규약을 지켜야한다.</p>
<ul>
<li>equals비교에 사용되는 정보가 변경되지 않았다면, 객체의 hashcode 메서드는 몇번을 호출해도 항상 일관된 값을 반환해야 한다.<br>
(단, Application을 다시 실행한다면 값이 달라져도 상관없다. (메모리 소가 달라지기 때문))</li>
<li>equals메서드 통해 두 개의 객체가 같다고 판단했다면, 두 객체는 똑같은 hashcode 값을 반환해야 한다.</li>
<li>equals메서드가 두 개의 객체를 다르다고 판단했다 하더라도, 두 객체의 hashcode가 서로 다른 값을 가질 필요는 없다. (Hash Collision) 단, 다른 객체에 대해서는 다른 값을 반환해야 해시테이블의 성능이 좋아진다.</li>
<li>참고
<ol>
<li>HashCode() 재정의 이유 : <a href="https://jaehun2841.github.io/2019/01/12/effective-java-item11/#%EC%84%9C%EB%A1%A0" target="_blank" rel="noopener">https://jaehun2841.github.io/2019/01/12/effective-java-item11/#서론</a></li>
<li>37을 곱한 이유 : <a href="https://d2.naver.com/helloworld/831311" target="_blank" rel="noopener">https://d2.naver.com/helloworld/831311</a></li>
</ol>
</li>
</ul>
<h4 id="14-널-아님-단언not-null-assertion">1.4 널 아님 단언(Not-null Assertion)</h4>
<ul>
<li>널 아님 단언은 ’ !! '로 표현</li>
<li>컴파일러에게 &quot;나는 이 값이 null이 아님을 잘 알고있으며, 예외가 발생해도 감수하겠다&quot;라는 표현</li>
</ul>
<p>Ex.1) Swing(프레임워크)에서 널 아님 단언 사용</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CopyRowAction</span></span>(<span class="keyword">val</span> list: JList&lt;String&gt;): AbstractAction()&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">isEnabled</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> = list.selectedValue != <span class="literal">null</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">actionPerformed</span><span class="params">(e : <span class="type">ActionEvent</span>)</span></span>&#123;</span><br><span class="line">        <span class="keyword">val</span> value = list.selectedValue!!</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>한 줄에 나란히 널 아님 단언이 쓰였을 경우, 어떤 식에서 발생한 예외인지 알 수 없으니 나란히 사용은 피하자</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">person.company!!.address!!.country</span><br></pre></td></tr></table></figure>
<h4 id="15-let함수">1.5 let함수</h4>
<ul>
<li>널이 될 수 있는 값(Nullable)을 널이 아닌 값(NotNull)만 인자로 받을 때, 용이하게 사용</li>
<li>여러 값에 대한 null 체크 시, let을 중첩해서 사용하면 코드가 복잡해지므로 피하는 것이 좋다.
<ul>
<li>(if (something != null) 사용을 권장)</li>
</ul>
</li>
</ul>
<p>Ex.1) let을 사용해 Null이 아닌 인자로 함수 호출하기</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sendEmailTo</span><span class="params">(email: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">    println(<span class="string">"Sending email to <span class="variable">$email</span>"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> email: String? = <span class="string">"yole@example.com"</span></span><br><span class="line">    email?.let &#123; sendEmailTo(it) &#125;		<span class="comment">//Sending email to yole@example.com</span></span><br><span class="line">    email = <span class="literal">null</span></span><br><span class="line">    email?.let &#123; sendEmailTo(it) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>let을 호출하면 람다의 인자인 it은 널이 될 수 있는 타입으로 추론됨</p>
</blockquote>
<h4 id="16-lateinit-변경자">1.6 lateinit 변경자</h4>
<ul>
<li>lateinit 변경자를 사용하면 Nullable, NotNull을 난잡하게 사용하지않고 프로퍼티를 나중에 초기화 할 수 있다.</li>
<li>프로퍼티가 val인 경우는 적용할 수 없고, 항상 var여야만 한다.</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Before</span><br><span class="line"><span class="keyword">import</span> org.junit.Test</span><br><span class="line"><span class="keyword">import</span> org.junit.Assert</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">performAction</span><span class="params">()</span></span>: String = <span class="string">"foo"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> myService: MyService? = <span class="literal">null</span></span><br><span class="line">    <span class="comment">//lateinit 변경자 선언 시</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">lateinit</span> myService : MyService</span><br><span class="line">    <span class="meta">@Before</span> <span class="function"><span class="keyword">fun</span> <span class="title">setUp</span><span class="params">()</span></span> &#123;</span><br><span class="line">        myService = MyService()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span> <span class="function"><span class="keyword">fun</span> <span class="title">testAction</span><span class="params">()</span></span> &#123;</span><br><span class="line">        Assert.assertEquals(<span class="string">"foo"</span>, myService!!.performAction())</span><br><span class="line">        <span class="comment">//lateinit 변경자로 선언 시,</span></span><br><span class="line">        Assert.assertEquals(<span class="string">"foo"</span>, myService.performAction())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>lateinit에 대한 초기화진행 여부를 확인하기 위해서는 ex) ::myService.isInitialized 형태로 분기처리하여 확인할 수 있다</li>
</ul>
<h4 id="17-널-가능-타입의-확장">1.7 널 가능 타입의 확장</h4>
<ul>
<li>null이 될 수 있는 타입에 대한 확장함수를 정의하면, Safe Call을 하지않아도 된다.</li>
</ul>
<p>Ex.1) Null이 될 수 있는 수신 객체에 대해 확장 함수 호출</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">verifyUserInput</span><span class="params">(input: <span class="type">String</span>?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (input.isNullOrBlank()) &#123;	<span class="comment">//&lt;- input이 Nullable이지만 Safe Call 연산자를 쓰지않음</span></span><br><span class="line">        println(<span class="string">"Please fill in the required fields"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    verifyUserInput(<span class="string">" "</span>)		<span class="comment">//Please fill in the required fields</span></span><br><span class="line">    verifyUserInput(<span class="literal">null</span>)		<span class="comment">//Please fill in the required fields</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//String에서의 확장함수 정의</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> CharSequence?.<span class="title">isNullOrBlank</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    contract &#123;</span><br><span class="line">        returns(<span class="literal">false</span>) implies (<span class="keyword">this</span><span class="symbol">@isNullOrBlank</span> != <span class="literal">null</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span> == <span class="literal">null</span> || <span class="keyword">this</span>.isBlank()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="18-타입-파라미터의-널-가능성">1.8 타입 파라미터의 널 가능성</h4>
<ul>
<li>Kotlin에서는 함수나 클래스의 모든 타입 파라미터는 기본적으로 널이 될 수 있다.(t를 Any 타입으로 추론하기 때문)</li>
<li>타입 파라미터는 타입 상한을 지정하지 않는다면 Null이 될 수 있다.(t를 Any?의 타입으로 추론하기 때문)</li>
</ul>
<p>Ex.)  널이 될 수 있는 타입파라미터와 상한 지정</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//널이 될 수 있는 타입 파라미터</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">printHashCode</span><span class="params">(t: <span class="type">T</span>)</span></span> &#123;</span><br><span class="line">    println(t?.hashCode())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    printHashCode(<span class="literal">null</span>)		<span class="comment">//null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//상한을 지정한 타입 파라미터</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T : Any&gt;</span> <span class="title">printHashCode</span><span class="params">(t: <span class="type">T</span>)</span></span> &#123;</span><br><span class="line">    println(t.hashCode())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    printHashCode(<span class="literal">null</span>)</span><br><span class="line">    <span class="comment">//Type parameter bound for T in fun &lt;T : Any&gt; printHashCode(t: T): Unit is not satisfied</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>참고: <a href="https://stackoverflow.com/questions/54760309/why-i-cant-assign-nullable-type-to-any-in-kotlin" target="_blank" rel="noopener">https://stackoverflow.com/questions/54760309/why-i-cant-assign-nullable-type-to-any-in-kotlin</a></p>
<h4 id="19-플랫폼-타입">1.9 플랫폼 타입</h4>
<ul>
<li>플랫폼 타입은 Kotlin이 널 관련 정보를 알 수 없는 Java 타입을 지칭</li>
<li>Kotlin은 보통 NotNull타입의 값에 대해 널 안정성을 검사하지만 플랫폼 타입의 값에 대해서는 경고하지않음</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Kotlin</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">yellAtSafe</span><span class="params">(person: <span class="type">Person</span>)</span></span> &#123;</span><br><span class="line">    println(person.name.toUpperCase() + <span class="string">"!!!"</span>)</span><br><span class="line">    <span class="comment">//toUpperCase()의 수신객체의 person.name이 non-null인데 null이라 컴파일 에러 </span></span><br><span class="line">    println((person.name ?: <span class="string">"Anyone"</span>).toUpperCase() + <span class="string">"!!!"</span>)</span><br><span class="line">    <span class="comment">//ANYONE!!!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    yellAtSafe(Person(<span class="literal">null</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>전부 다 널이 될 수 있는 타입으로 하면 되지않을까?</strong><br>
모든 자바 타입을 널이 될 수 있는 타입으로 처리하기엔 널 안정성 검사로 인해 얻는 이익보다 쓸데없는 비용이 늘어나 프로그래머에게 타입의 널 가능성의 책임을 부여함.</p>
</blockquote>
<h4 id="110-상속">1.10 상속</h4>
<ul>
<li>자바클래스를 코틀린에서 상속할때, 파라미터나 반환타입의 Null처리를 결정해야함</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Java</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">StringProcessor</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">process</span><span class="params">(String value)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Kotlin</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringPrinter</span> : <span class="type">StringProcessor&#123;</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">process</span><span class="params">(value: <span class="type">String</span>)</span></span>&#123;		<span class="comment">// notnull 선언</span></span><br><span class="line">        println(value)		</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NullableStringPrinter</span> : <span class="type">StringProcessor&#123;</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">process</span><span class="params">(value: <span class="type">String</span>?)</span></span>&#123;		<span class="comment">//nullable 선언</span></span><br><span class="line">        value?.let&#123;println(it)&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-코틀린의-원시-타입">2. 코틀린의 원시 타입</h4>
<ul>
<li>Kotlin은 원시타입과 참조타입을 구분하지 않고, 항상 같은 타입을 사용</li>
<li>대부분, Kotlin의 Int타입은 Java의 int 타입으로 컴파일 되고, Int를 타입인자로 넘기는 경우 Integer로 컴파일된다.</li>
</ul>
<h4 id="21-null이-될-수-있는-원시타입-int-boolean-등">2.1 null이 될 수 있는 원시타입 : Int?, Boolean? 등</h4>
<ul>
<li>코틀린에서 null이 될 수 있는 원시 타입을 사용하면 그 타입은 자바의 래퍼 타입으로 컴파일 된다.</li>
</ul>
<p>Ex.)</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name: String, <span class="keyword">val</span> age: <span class="built_in">Int</span>? = <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">isOlderThan</span><span class="params">(other: <span class="type">Person</span>)</span></span> : <span class="built_in">Boolean</span>? &#123;</span><br><span class="line">        <span class="keyword">if</span> (age == <span class="literal">null</span> || other.age == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">        <span class="keyword">return</span> age &gt; other.age    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    println(Person(<span class="string">"Sam"</span>, <span class="number">35</span>).isOlderThan(Person(<span class="string">"Amy"</span>, <span class="number">42</span>))) <span class="comment">//false</span></span><br><span class="line">    println(Person(<span class="string">"Sam"</span>, <span class="number">35</span>).isOlderThan(Person(<span class="string">"Jane"</span>)))	  <span class="comment">//null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>age는 컴파일러에 의해 널 안정성 검사를 마친 후 값을 비교가 허용되므로, age의 프로퍼티값은래퍼 타입으로 저장된다.</li>
</ul>
<h4 id="22-숫자-변환">2.2 숫자 변환</h4>
<ul>
<li>Kotlin은 Boolean을 제외한 모든 원시 타입에 대한 변환 함수를 제공</li>
<li>Kotlin은 한 타입의 숫자를 다른 타입으로 자동변환 하지 않음.</li>
<li>명시적으로 변환 메소드를 사용해야함</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> i = <span class="number">1</span></span><br><span class="line"><span class="keyword">val</span> l = <span class="built_in">Long</span> = i  <span class="comment">// "Error: type mismatch" 컴파일 오류 발생</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> i = <span class="number">1</span></span><br><span class="line"><span class="keyword">val</span> l: <span class="built_in">Long</span> = i.toLong()	<span class="comment">// 명시적으로 변환 메소드 사용</span></span><br><span class="line"></span><br><span class="line">---------------------------명시 이유---------------------------</span><br><span class="line"><span class="keyword">val</span> x = <span class="number">1</span>  <span class="comment">// Int</span></span><br><span class="line"><span class="keyword">val</span> list = listOf(<span class="number">1</span>L, <span class="number">2</span>L, <span class="number">3</span>L) <span class="comment">// Long 리스트 </span></span><br><span class="line">x <span class="keyword">in</span> list <span class="comment">// 묵시적 타입 변환으로 인해 false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> x = <span class="number">1</span></span><br><span class="line">println(x.toLong() <span class="keyword">in</span> listOf(<span class="number">1</span>L, <span class="number">2</span>L, <span class="number">3</span>L)) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">(l: <span class="type">Long</span>)</span></span> = pinrtln(l)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> b: <span class="built_in">Byte</span> = <span class="number">1</span> <span class="comment">// 상수 값는 적절한 타입으로 해석 된다.</span></span><br><span class="line"><span class="keyword">val</span> l = b + <span class="number">1</span>L  <span class="comment">// +는 Byte와 Long을 인자로 받을 수 있다.</span></span><br><span class="line">foo(<span class="number">42</span>)         <span class="comment">// 함수 인자이므로 42를 Long으로 해석한다.</span></span><br></pre></td></tr></table></figure>
<h4 id="23-any-any-최상위-타입">2.3 Any, Any? : 최상위 타입</h4>
<ul>
<li>Java는 Object, Kotlin은 Any가 널이 될 수 없는 타입의 최상위타입</li>
<li>내부적으로 Any는 자바의 java.lang.Object로 컴파일 된다.</li>
<li>모든 코틀린 클래스에는 toString, equals, hashCode 라는 3개의 메소드가 있다. 하지만 java.lang.Object에 있는 다른 메소드(wait나 notify 등)는 Any에서 사용할 수 없다. 그런 메소드를 사용하고 싶다면 java.lang.Object로 캐스트해야 한다.</li>
</ul>
<h4 id="24-unit-타입-kotlin의-void">2.4 Unit 타입 : Kotlin의 void</h4>
<ul>
<li>Kotlin의 Unit타입은 Java의 void와 같은 기능을 함.</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">f</span><span class="params">()</span></span>: <span class="built_in">Unit</span>&#123;...&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">f</span><span class="params">()</span></span>&#123;...&#125;		<span class="comment">//fun의 기본 선언은 void라고 생각</span></span><br></pre></td></tr></table></figure>
<p>Ex.) void 와Unit의 차이</p>
<ul>
<li>반환 타입으로 Unit을 반환가능</li>
<li>타입 매개변수로 Unit을 쓸 수 있다</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Processor</span>&lt;<span class="type">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">process</span><span class="params">()</span></span>: T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//반환 타입으로 Unit을 묵시적으로 반환 가능</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NoResultProcessor</span> : <span class="type">Processor</span>&lt;<span class="type">Unit</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">process</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">// 업무 처리 코드</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResultProcessor</span> : <span class="type">Processor</span>&lt;<span class="type">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">process</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="comment">// 업무 처리 코드</span></span><br><span class="line">        <span class="keyword">return</span> someInt</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Kotlin은 왜 void가 아닌 Unit을 만들었을까?</strong><br>
Kotlin의 Unit은 Java의 void와 다르게 두 가지 특징을 가진다</p>
</blockquote>
<ol>
<li>Unit은 싱글톤 인스턴스이다. 그래서 Kotlin에서 Unit이라는 키워드는 타입이면서도 동시에 객체</li>
</ol>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> unit : <span class="built_in">Unit</span> = <span class="built_in">Unit</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Unit은 객체이기도 하기때문에 Any를 상속하는 서브 클래스이다.</li>
</ol>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> unit : Any = <span class="built_in">Unit</span></span><br></pre></td></tr></table></figure>
<h4 id="25-nothing-타입-이-함수는-결코-정상적으로-끝나지-않는다">2.5 Nothing 타입: 이 함수는 결코 정상적으로 끝나지 않는다.</h4>
<ul>
<li>함수가 정상적으로 끝나지 않는 사실을 표현할 때 사용</li>
<li>Nothing 타입은 아무 값도 포함하지 않음 = return이라는 행위 자체를 하지않음</li>
</ul>
<p>Ex. 1) 함수가 리턴 될 일이 없을 경우</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">infiniteLoop</span><span class="params">()</span></span>: <span class="built_in">Nothing</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        println(<span class="string">"Hi there!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ex. 2) 예외를 던지는(throw Exception)함수의 리턴 타입</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">throwException</span><span class="params">()</span></span>: <span class="built_in">Nothing</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> IllegalStateException()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ex. 3) 함수의 리턴 타입이 Nothing? 일 경우</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">mayThrowAnException</span><span class="params">(throwException: <span class="type">Boolean</span>)</span></span>: <span class="built_in">Nothing</span>? &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">if</span> (throwException) &#123;</span><br><span class="line">        <span class="keyword">throw</span> IllegalStateException()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        println(<span class="string">"Exception not thrown :)"</span>)</span><br><span class="line">        <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> result = mayThrowAnException(<span class="literal">true</span>)</span><br><span class="line">    <span class="keyword">if</span> (result == <span class="literal">null</span>) &#123; <span class="comment">// Always true</span></span><br><span class="line">        println(<span class="string">"Ignored code"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-컬렉션과-배열">3. 컬렉션과 배열</h4>
<h4 id="31-널-가능성과-컬렉션">3.1 널 가능성과 컬렉션</h4>
<p>Ex.1)null이 될 수 있는 값으로 이뤄진 컬렉션</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">readNumbers</span><span class="params">(reader: <span class="type">BufferedReader</span>)</span></span>: List&lt;<span class="built_in">Int</span>?&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> result = ArrayList&lt;<span class="built_in">Int</span>?&gt;()</span><br><span class="line">    <span class="keyword">for</span> (line <span class="keyword">in</span> reader.lineSequence()) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">val</span> number = line.toInt()</span><br><span class="line">            result.add(number)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span>(e: NumberFormatException) &#123;</span><br><span class="line">            result.add(<span class="literal">null</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">addValidNumbers</span><span class="params">(numbers: <span class="type">List</span>&lt;<span class="type">Int</span>?&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> sumOfValidNumbers = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> invalidNumbers = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (number <span class="keyword">in</span> numbers) &#123;</span><br><span class="line">        <span class="keyword">if</span> (number != <span class="literal">null</span>) &#123;</span><br><span class="line">            sumOfValidNumbers += number</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            invalidNumbers++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    println(<span class="string">"Sum of valid numbers: <span class="variable">$sumOfValidNumbers</span>"</span>)</span><br><span class="line">    println(<span class="string">"Invalid numbers: <span class="variable">$invalidNumbers</span>"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> reader = BufferedReader(StringReader(<span class="string">"1\nabc\n42"</span>))</span><br><span class="line">    <span class="keyword">val</span> numbers = readNumbers(reader)</span><br><span class="line">    addValidNumbers(numbers)		<span class="comment">//Sum of valid numbers: 43</span></span><br><span class="line">								  <span class="comment">//Invalid numbers: 1</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>List&lt;Int?&gt; 과 List<int>?과 List&lt;Int?&gt;? 잘 구분해서 쓸 것!</int></li>
</ul>
<h4 id="32-읽기-전용과-변경-가능한-컬렉션">3.2 읽기 전용과 변경 가능한 컬렉션</h4>
<ul>
<li>Kotlin 컬렉션은 자바와 다르게 읽기 전용 컬렉션(Collection<t>)과 변경가능 컬렉션(MutableCollection<t>)이 분리되어있다.</t></t></li>
</ul>
<p>Ex) Collection(size, iterator(), contains())    /    MutableCollection(add(), remove(), clear())</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">copyElements</span><span class="params">(source: <span class="type">Collection</span>&lt;<span class="type">T</span>&gt;,</span></span></span><br><span class="line"><span class="function"><span class="params">                    target: <span class="type">MutableCollection</span>&lt;<span class="type">T</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (item <span class="keyword">in</span> source) &#123;</span><br><span class="line">        target.add(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> source: Collection&lt;<span class="built_in">Int</span>&gt; = arrayListOf(<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>)</span><br><span class="line">    <span class="keyword">val</span> target: MutableCollection&lt;<span class="built_in">Int</span>&gt; = arrayListOf(<span class="number">1</span>)</span><br><span class="line">    copyElements(source, target)</span><br><span class="line">    println(target)		<span class="comment">//[1, 3, 5, 7]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ex) Thread-safe하지않은 읽기전용 Collection</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MutableCollection이 Collection 참조</span></span><br><span class="line"><span class="keyword">val</span> collection: Collection&lt;<span class="built_in">Int</span>&gt; = arrayListOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">val</span> mutableCollection: MutableCollection&lt;<span class="built_in">Int</span>&gt; = collection</span><br><span class="line">error: type mismatch: inferred type <span class="keyword">is</span> Collection&lt;<span class="built_in">Int</span>&gt; but MutableCollection&lt;<span class="built_in">Int</span>&gt; was expected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Collection이 MutableCollection 참조</span></span><br><span class="line"><span class="keyword">val</span> mutableCollection: MutableCollection&lt;<span class="built_in">Int</span>&gt; = arrayListOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">val</span> collection: Collection&lt;<span class="built_in">Int</span>&gt; = mutableCollection <span class="comment">//가능 </span></span><br><span class="line">&gt;&gt;&gt; collection</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&gt;&gt;&gt; mutableCollection</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&gt;&gt;&gt; mutableCollection.add(<span class="number">5</span>)</span><br><span class="line">&gt;&gt;&gt; mutableCollection</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line">&gt;&gt;&gt; collection</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]    <span class="comment">// mutalbeCollection에 5를 추가했지만 collection에도 영향을 미친다</span></span><br><span class="line"><span class="comment">// 같은 객체를 다른 타입의 참조들이 가리키고 있다.</span></span><br></pre></td></tr></table></figure>
<ul>
<li>따라서, ConcurrentModificationException등의 오류가 발생할 수 있으므로, 다중 스레드 환경에서 데이터를 다루는 경우 그 데이터를 적절히 동기화 하거나 동시 접근을 허용하는 데이터 구조를 활용해야한다.</li>
</ul>
<h4 id="33-코틀린-컬렉션과-자바">3.3 코틀린 컬렉션과 자바</h4>
<ul>
<li>코틀린에서 읽기 전용인 Collection으로 선언된 객체라도 자바코드에서는, 이를 구분하지 않으므로 수정가능</li>
<li>코틀린 컴파일러가 컬렉션이 어떤 일을 하는지 정확한 분석이 어려움</li>
<li>어차피 ImmutableList가 나와도 자바로 가면 변경이 가능하니 차라리 변경 가능한 컬렉션을 넘기고 명시를 정확히 해두는 것이 좋다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionUtils</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">uppercaseAll</span><span class="params">(List&lt;String&gt; items)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; items.size(); i++) &#123;</span><br><span class="line">            items.set(i, items.get(i).toUpperCase());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> items;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Kotlin</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printInUppercase</span><span class="params">(list: <span class="type">List</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    println(CollectionUtils.uppercaseAll(list))</span><br><span class="line">    println(list.first())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> list = listOf(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>)</span><br><span class="line">    printInUppercase(list)			<span class="comment">//[A, B, C]</span></span><br><span class="line">    							   <span class="comment">//A</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="34-자바의-콜렉션-타입을-플랫폼-타입으로-다루기">3.4 자바의 콜렉션 타입을 플랫폼 타입으로 다루기</h4>
<ul>
<li>자바의 콜렉션 타입은 읽기전용이나 변경 가능으로 다룰 수 있음</li>
<li>시그니처에서 콜렉션 타입을 사용한 자바 메서드를 오버라이드할 경우 코틀린 타입 선택 필요
<ul>
<li>선택 사항
<ul>
<li>컬렉션이 널이 될 수 있는가?</li>
<li>컬렉션의 원소가 널이 될 수 있는가?</li>
<li>오버라이드하는 메서드가 컬렉션을 변경할 수 있는가?</li>
</ul>
</li>
<li>자바 인터페이스나 클래스가 어떤 맥락에서 사용되는지 정확히 알아야한다.</li>
</ul>
</li>
</ul>
<h4 id="35-객체의-배열과-원시타입의-배열">3.5 객체의 배열과 원시타입의 배열</h4>
<ul>
<li>코틀린에서 배열을 만드는 방법
<ul>
<li>arrayOf : 함수에 원소를 넘김</li>
</ul>
</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> strings = listOf(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>)</span><br><span class="line">    println(<span class="string">"%s/%s/%s"</span>.format(*strings.toTypedArray()))		<span class="comment">// a/b/c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>arrayOfNuls : 원소타입이 널이 될 수 있는 타입인 경우에만 호출할 수 있고, 인자에 배열의 크기를 넘김</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> nullStorableArray = arrayOfNulls&lt;String&gt;(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>Array() : 배열의 크기와 람다를 인자로 받아, 람다를 호출하여 각 배열 원소를 초기화</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> squares = IntArray(<span class="number">5</span>) &#123; i -&gt; (i+<span class="number">1</span>) * (i+<span class="number">1</span>) &#125;</span><br><span class="line">    println(squares.joinToString())		<span class="comment">//1, 4, 9, 16, 25</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="참고">참고</h2>
<ul>
<li><a href="http://www.yes24.com/Product/Goods/55148593" target="_blank" rel="noopener">Kotlin In Action</a></li>
<li>Made by <a href="https://github.com/iyj9328" target="_blank" rel="noopener">iyj9328</a></li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/Android/">Android</a> <a class="tag tag--primary tag--small t-link" href="/tags/Kotlin/">Kotlin</a> <a class="tag tag--primary tag--small t-link" href="/tags/Kotlin-in-Action/">Kotlin in Action</a> <a class="tag tag--primary tag--small t-link" href="/tags/코틀린/">코틀린</a> <a class="tag tag--primary tag--small t-link" href="/tags/프로그래밍-언어/">프로그래밍 언어</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/04/02/KotlinInAction-Chap7/"
                    data-tooltip="[Kotlin in Action] Chap7. 연산자 오버로딩과 기타 관례"
                    aria-label="PREVIOUS: [Kotlin in Action] Chap7. 연산자 오버로딩과 기타 관례"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/04/02/KotlinInAction-Chap5/"
                    data-tooltip="[Kotlin in Action] Chap5. 람다"
                    aria-label="NEXT: [Kotlin in Action] Chap5. 람다"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 VictoryWoo. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/04/02/KotlinInAction-Chap7/"
                    data-tooltip="[Kotlin in Action] Chap7. 연산자 오버로딩과 기타 관례"
                    aria-label="PREVIOUS: [Kotlin in Action] Chap7. 연산자 오버로딩과 기타 관례"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/04/02/KotlinInAction-Chap5/"
                    data-tooltip="[Kotlin in Action] Chap5. 람다"
                    aria-label="NEXT: [Kotlin in Action] Chap5. 람다"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="2">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">VictoryWoo</h4>
        
            <div id="about-card-bio"><p>기록을 통해 사람들과 공유하는 것을 좋아합니다.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Android Developer</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/color_blue.jpeg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://woovictory.github.io/2020/04/02/KotlinInAction-Chap6/';
              
            this.page.identifier = '2020/04/02/KotlinInAction-Chap6/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'https-woovictory-github-io';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
