
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="VictoryWoo">
    <title>Archives - VictoryWoo</title>
    <meta name="author" content="VictoryWoo">
    
    
        <link rel="icon" href="https://woovictory.github.io/assets/images/develop.ico">
    
    
    <script type="application/ld+json">{}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="VictoryWoo">
<meta property="og:url" content="https://woovictory.github.io/archives/archives/12/index.html">
<meta property="og:site_name" content="VictoryWoo">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="VictoryWoo">
    
    
        
    
    
        <meta property="og:image" content="https://woovictory.github.io/assets/images/Victory.jpeg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125410253-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-125410253-1');
    </script>


    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ "
            aria-label=""
        >
            VictoryWoo
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">VictoryWoo</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기록을 통해 사람들과 공유하는 것을 좋아합니다.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/WooVictory"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.facebook.com/WooVictory"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/jhsw0375@gmail.com"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/03/02/2018-Review/"
                            aria-label=": [2018 회고]"
                        >
                            [2018 회고]
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-03-02T00:23:37+09:00">
	
		    Mar 02, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>2019년이 되고 3달이나 지났다. 회고라는 걸 해본 적이 없지만 지인의 회고를 보고 영감을 받아서 작성하겠다고 마음을 먹었다. 2018년은 나에게 힘들고 아프면서 많은 걸 경험하게 해줬다.<br>
이 회고는 내가 2018년 동안 <strong>어떤 걸 했고, 어떤 걸 느꼈는지 내가 내린 선택과 결과</strong>를 잊지 않기 위해 작성할 예정이다.<br>
그리고 2019년에는 <strong>어떤 마음 가짐과 목표를 세우고 달려나갈지 생각</strong>하기 위함이다.</p>
<p><code>2019.03.05</code> 기준으로 다시 작성한다. 왜냐하면 캠프 끝난 기념으로 제주도 여행을 갔다 왔기 때문이다…ㅎㅎ 즐겁게 놀고 잘 쉬다가 왔으니 새로운 마음가짐으로 회고를 할 예정이다.</p>
<ul>
<li><a href="#%EB%AF%B8%EC%9C%A0%EB%B0%95%EC%8A%A4">미유박스</a></li>
<li><a href="#%EC%84%9C%EC%9A%B8%EC%8B%9C-%EA%B3%B5%EB%AA%A8%EC%A0%84">서울시 공모전</a></li>
<li><a href="#SK-%EC%8A%A4%EB%A7%88%ED%8A%B8-%EA%B4%80%EA%B4%91-%EA%B3%B5%EB%AA%A8%EC%A0%84">SK 스마트 관광 공모전</a></li>
<li><a href="#%ED%9A%8C%EC%82%AC-%EC%83%9D%ED%99%9C">회사 생활</a></li>
<li><a href="#%EB%B6%80%EC%8A%A4%ED%8A%B8-%EC%BA%A0%ED%94%84">부스트 캠프</a></li>
</ul>
<h2 id="미유박스"># 미유박스</h2>
<p><a href="http://sopt.org/wp/" target="_blank" rel="noopener"><strong>SOPT</strong></a> 22기 앱잼을 했던 프로젝트 미유박스이다. 솝트 22기에 다시 안드로이드 파트원으로 지원하면서 세웠던 목표는 <strong>수상</strong>과 <strong>성장</strong> 두 가지로 요약할 수 있다. 왜냐하면 전기수에 <code>Lang</code>이라는 프로젝트에서 부족한 실력으로 인해서 결과물을 내지 못했던 경험이 있기 때문에 더 잘하고 싶다는 욕심이 생겼다.</p>
<p>미유박스는 사전 팀빌딩 없이 네트워킹을 통해 들어가게 되었다. 수상을 하고 싶다는 목표를 가지고 참여했지만, 안드로이드 개발자는 나를 포함해 2명 뿐이었다. 자신감이 하락하는 소리가 들린다. 그래도 포기는 너무 이른 생각이었다.</p>
<p>2주 동안 정말 치열하고 재미있게 프로젝트를 진행했다. 밤 새는 걸 못하던 나는 앱잼 기간동안 잠도 많이 줄여야 했고 합숙하는 동안은 거의 매일 같이 밤 새고 아침에 잠 들었다. 그래도 팀원들과 즐거운 분위기 속에서 개발을 했기 때문에 힘들다는 생각은 적게 할 수 있었다.</p>
<p>노력의 결과로 우리 팀은 <strong>대상</strong>이라는 명예를 얻을 수 있었다. 이 상은 나에게 있어서 의미가 컸다. 내가 노력한 결과로 상을 받은 경험을 처음이었기 때문이다. 좋은 분위기를 이끌어준 팀원들과 함께 노력한 결과가 수상으로 이어져서 기분이 정말 좋았다.</p>
<p>기능은 많지 않았지만 앱을 안정적으로 만들고 <strong>결제 기능</strong>을 테스트용으로 구현할 수 있어서 좋은 경험을 했다.</p>
<blockquote>
<p>이를 통해서 내가 느꼈던 점은 다음과 같다.</p>
</blockquote>
<ul>
<li>안드로이드 개발자로서 &quot;<strong>자신감</strong>&quot;을 얻을 수 있었고, 전보다 성장했음을 느낄 수 있었다.</li>
<li>안드로이드 개발에 대한 &quot;<strong>흥미</strong>&quot;를 일깨워 줄 수 있는 경험이 되었다.</li>
<li>미유박스는 앞으로의 내 행보에 발판을 마련해준 중요한 경험이 되었다. 앞으로도 미유박스 팀은 꾸준하게 오래 보는 사이가 되었으면 좋겠다. ^_^</li>
</ul>
<img src="/img/MeowBox.png" width="700" height="300">
<h2 id="서울시-공모전"># 서울시 공모전</h2>
<p>미유박스에서 같이 개발했던 형의 소개로 일정에 없던 공모전에 참여하게 되었다. 공모전을 준비해 본 경험이 없어서 하고 싶은 마음은 계속 있었다. 그러던 와중에 좋은 기회가 생겼다. 아는 형을 제외하고는 다 처음 보는 사이였다. 프로젝트의 기획 단계는 마무리가 되었고 디자인과 개발만 시작하면 되는 시점이었다.</p>
<p>그래서 뭔가 날로 먹는 느낌이 강해서 찜찜했지만 개발을 시작하면서 그 생각은 사라졌다. 너무 여유를 부렸던 탓인지 개발 속도는 진전이 없었다. 나는 공모전을 해보고 싶었고 상을 받고 싶은 욕심이 있었기 때문에 빨리 개발을 진행할 수 있도록 분위기를 유도했다. 그래도 어느정도 진전이 있었다.</p>
<p>같이 하기로 했던 한 분이 좋은 기회로 인턴에서 정직원으로 전환이 되었다고 했다. 그래서 그 분을 대체할 분을 데리고 오셨고 기분 좋게 개발을 하는가 싶었다. <strong>인생은 고난의 연속이라고 했던 누군가의 말이 생각났다.</strong> 대타로 들어오신 분이 사정이 있어서 빠지게 되었다. 그래서 기능 한개가 비어버리게 되었고, 이 부분까지 내가 맡아서 개발을 진행했다.</p>
<p>덕분에 <code>내가 처음에 맡았던 기능 + 대타 분이 떠나서 구현해야 하는 기능</code>을 신경 써야 했다. 또 하필, 이 기간은 내가 3~4달 동안 <strong>위워크</strong>에 있는 회사에서 잠깐 일했던 기간이기도 했다.(이 얘기는 밑에서 등장한다.) 그래서 회사에 갔다가 퇴근하고 공모전을 하면서 하루에 4~5시간 밖에 못 잤던 걸로 기억한다.</p>
<p>너무 힘들었지만 공모전을 한다고 결정한 나에게 포기하는 모습을 보여주고 싶지 않았다. 그래서 시간을 할애해서 정말 열심히 했다. 내가 선택한 일에 대해서 후회하고 싶지 않았던 마음과 공모전을 하고 싶었던 나의 버킷 리스트를 잘 실천하고 싶은 두 개의 마음이 나를 열심히 하게 한 원동력이 된 것 같다.</p>
<p>좋은 결과를 얻지는 못했지만, 재미있는 사람들과 공모전을 하면서 즐거웠다. 짧고 치열한 기간에 개발을 하자고 팀원들한테 얘기하면서 쪼았지만 잘 따라서 마무리를 해준 것을 고맙게 생각하고 있다.</p>
<blockquote>
<p>서울시 공모전을 하면서 느낀 점</p>
</blockquote>
<ul>
<li>내가 내린 결정에 대해서 후회하지 않고, 책임감을 가지고 일을 진행해야 한다는 걸 배웠다.</li>
<li>개발적인 부분을 다른 사람한테 설명하기 위해서는 내가 많은 지식을 알고 있어야 한다는 걸 알았다.</li>
<li>Git을 조금 더 능숙하게 다룰 줄 알았다면 더 편하게 협업을 하지 않았을까를 깨닫게 되었다.</li>
</ul>
<h2 id="kb-app-challenge"># KB App Challenge</h2>
<p>아마 지금 와서 2018년도에 했던 일들을 다시 하라고 한다면 나는 못할 것 같다. 내가 활동하던 SOPT에서 주최한 <strong>KB App Challenge</strong>였다. KB의 클라우드 관련 신기술인 <a href="https://www.clayon.io/" target="_blank" rel="noopener"><strong>클래용</strong></a>을 활용하여 유스 고객을 타겟으로 하여 금융 관련 지식들을 라이브 방송을 통해 알려주고 포인트를 쌓을 수 있는 애플리케이션의 프로토 타입을 개발했다.</p>
<p>프로젝트 기간이 <strong>2주</strong>였기 때문에 기획을 빨리 픽스하고 개발에 도입했다. 안드로이드 개발은 80% 정도 혼자 진행했다. 회사를 다니면서 퇴근하면 바로 종각역 근처에 위치한 <strong>패스트 파이브</strong>로 향했다. 2주 동안 짧고 치열하게 프로젝트를 완성시키고 최종 발표를 했다.</p>
<p>최종 발표는 KB 본사 건물에서 진행했고, KB 회장님을 비롯하여 임직원분들이 오셔서 우리가 진행한 프로젝트를 보고 평가해주셨다. 훌륭한 팀원들 덕분에 2등을 할 수 있었다. 아마도 <strong>최우수상</strong>이었던 걸로 기억한다. <code>100만원</code> 상금을 받고 5명이서 20만원씩 나눴다. 뜻깊은 경험도 하고 평생 만날 기회가 없을 KB 회장님도 직접 뵙고 사진도 찍고 상금까지 얻을 수 시간이었다.</p>
<blockquote>
<p>KB 프로젝트를 하며 느낀 점</p>
</blockquote>
<ul>
<li>앱 개발자로서 UI를 더 생각해보고 신경쓸 수 있었다. 그래서 UI를 만들 때 전보다 개선된 걸 느낄 수 있었다.</li>
<li>기존에 사용했던 기술이 아닌 색다른 기술을 사용해 볼 수 있어서 좋았다. 결국은 <strong>Youtube Player API</strong>를 사용했지만, 영상 재생을 구현하는 방법에 대해서 고민해 볼 수 있는 좋은 시간이었다.</li>
</ul>
<img src="/img/kb_app_challenge.png" width="700" height="300">
<center>[ KB App Challenge 사진 ]</center>
<p>나는 눈에 띄는 파란색 니트를 입고 가운데서 사진을 찍었다. 재밌었다. :)</p>
<h2 id="sk-스마트-관광-공모전"># SK 스마트 관광 공모전</h2>
<p>공모전을 하고 싶었던 나의 소망이 좀 이상했다. 한 번에 3개씩 하겠다는게 아니었는데 어쩌다 보니 1개는 먼저 진행했고 2개가 기간이 겹치는 문제가 발생했다. ㅠ_ㅠ 앞의 KB가 끝나자마자 바로 <code>SK 스마트 관광 공모전</code>을 시작했다.</p>
<p><strong>미유박스</strong>(자주 등장한다.ㅎㅎ)를 함께 진행했던 팀원들과 다른 사람 몇명을 추가해서 공모전을 진행했다. 팀원이 14명이었다. 지금 생각해도 너무 많았던 것 같다. 그래서 우리 팀의 목표는 무조건 1등이었다. 왜냐하면 1등은 상금이 <code>1천만원</code>이었기 때문이다. 14명이서 나누면 약 70만원 가량의 상금을 얻을 수 있었다. 생각만 해도 행복하다.ㅎ0ㅎ</p>
<p>앞에서 진행했던 KB 프로젝트와 회사 생활로 인해서 <a href="https://github.com/WooVictory/DMZing-Andorid" target="_blank" rel="noopener"><strong>DMZing</strong></a>(우리 프로젝트 애플리케이션 이름이다.)의 초기 기획 단계에 많이 참여하지 못한 점이 아쉽고 미안하다. 아무튼 나는 마감 기간이 2주 정도 남았을 때 개발에 들어갔다. 안드로이드 개발을 할 때 운이 없는 건지 팀 프로젝트를 할 때 계속 두 명이서 진행했다. 힘들었다. . . ㅠㅠ</p>
<p>2주 동안 치열하게 잠을 줄여가면서 개발에 몰두했고 마무리를 잘해서 <code>Google Play Store</code>에도 올리는 경험을 했다. 이번 프로젝트에서 내가 하고 싶었던 건 <strong>중복을 없애고 재사용</strong>을 하는 것과 <strong>효율적으로 코드를 작성</strong>해보는 것이었다. 하지만, 기간이 짧기도 했고 시간이 많지 않아서 2개의 목표는 달성하지 못했다.</p>
<p>운이 좋게도 본선에 진출해서 최종 발표를 할 수 있는 기회를 얻었다. 기획과 디자인을 담당했던 친구들이 가서 발표를 하고 마무리를 잘 해줬다. 그리고 12월 00일에 최종 결과 발표가 있었다. 우리는 시간이 되는 사람들끼리 모여서 최종 결과를 받기 위해서 종각 근처의 <strong>콘랩</strong>으로 향했다. 대상을 받을거라고 김칫국을 마시던 우리는 <strong>장려상</strong>을 받고 아쉬워 했다. 그래도 함께 열심히 노력한 과정을 알기 때문에 빨리 잊어버렸다.</p>
<p><code>100만원</code>이라는 상금을 받고 14명이 나눠 가졌다. 대략 7만원 정도씩 가질 수 있었다. 나는 받았던 상금을 모으고 일했던 돈을 보태서 <strong>아이폰XS</strong>로 핸드폰을 바꿨다. 좋은 기회가 있어서 생각보다 저렴하게 구매했고 지금 만족하면서 잘 쓰고 있다. <a href="https://goodgid.github.io/" target="_blank" rel="noopener"><strong>갓기용</strong></a>님에게 항상 감사하고 있다.ㅎㅎ</p>
<blockquote>
<p>SK 스마트 관광 프로젝트를 하면서 느낀점</p>
</blockquote>
<ul>
<li>바쁘게 사는 건 좋지만 너무 빡빡한 일정은 좋지 않다는 것을 느꼈다. 여유가 없었기 때문에 회고를 할 수 있는 시간이 없었다. 그리고 <strong>KB 프로젝트</strong>와 <strong>SK 관광 프로젝트</strong>가 겹쳤기 때문에 한 가지에 집중하기 힘들어서 능률이 떨어지는 느낌을 받았다.</li>
<li>여유를 어느 정도 가지고 프로젝트나 일을 할 때는 한가지에 집중하는게 중요하다는 걸 깨달았다.</li>
<li>Store에 실제로 올리면서 <strong>개인 정보 취급 방침</strong>이 필요하다는 걸 알게 되었고, APK 파일을 추출하는 법에 대해서도 알 수 있었다. 개발자로서 꼭 필요한 경험을 할 수 있었다.</li>
</ul>
<h2 id="회사-생활"># 회사 생활</h2>
<p>4학년 1학기를 깔끔하게 마무리하고 2학기는 6학점만 남겨놓았다. 그래서 OCU라는 인터넷 강의를 2개 잡고 2학기에는 학교를 다니지 않았다. 이 기간 동안 무엇을 할까 고민을 많이 했다. 취업 준비를 해야 하는 시기가 맞지만, 나는 아직 취업 준비를 하고 싶지 않았다. 휴식을 취하고 싶었고, 돈을 벌고 싶은 마음이 있었다. 그래서 알바를 할까 생각을 했지만, 시간 낭비를 하지 않고 관련된 업무를 하면서 돈을 벌 수 있는 기회를 찾았다.</p>
<p>그러던 와중에 아는 지인이 다니는 회사를 추천받았다. 간단하게 말해서 인공지능에게 필요한 학습 데이터를 가공하는 업무였다. 타이틀은 거창하고 인턴이었지만 나는 단순 업무를 하는 아르바이트라고 생각했다. 9월에 입사를 했고 회사를 다니는 동안 시간을 틈틈히 쪼개서 위에서 언급했던 <strong>KB 프로젝트</strong>와 <strong>SK 스마트 관광 프로젝트</strong> 2개를 진행했다.</p>
<p>계약 기간이 12월 30일까지였기 때문에 나는 12월 30일에 퇴사를 했다. 3개월에서 4개월 정도의 짧은 기간이었지만 좋은 사람들을 만나고 회사를 다니면서 혼자 시간을 쪼개서 여러 가지를 할 수 있었다. 그리고 돈도 벌 수 있었다. 회사를 다니면서 많은 업무를 하지는 않았다. 처음부터 단순 업무라고 들었기 때문이다.</p>
<p>시간을 낭비했다고 생각하기도 하지만 내가 선택한 결정에 대해서 후회는 없다. 돈을 벌 수 있었고 더 바쁘게 생활하기도 했어서 오히려 나한테 자극을 줄 수 있는 시간이었다. 퇴사를 하면서 다음 회사는 &quot;<strong>내가 진짜 원하는 업무를 할 수 있는 회사에 들어가자</strong>&quot;라는 목표를 세웠다.</p>
<blockquote>
<p>회사를 다니면서 내가 느낀 점</p>
</blockquote>
<ul>
<li>첫 번째는 스타트업이라도 너무 작은 스타트업보다는 어느 정도 규모가 있는 스타트업이 좋을 것 같다는 점을 느꼈다. 규모가 너무 작으면 체계도 잘 잡혀있지 않은 것 같다.</li>
<li>두 번째는 식비나 교통비를 지원해주는 회사가 좋은 회사라는 것이다. 월급을 받지만 식비와 교통비로 지출이 생기기 때문에 돈 모으기가 힘들었다. 마지막에는 도시락을 싸서 다녔지만 아무래도 <code>식비+교통비</code>를 지원해준다면 꿈의 회사가 아닐까하는 생각이 들었다.</li>
<li>마지막으로 내가 진짜 원하는 업무를 하는 회사에 들어가서 재미있게 개발을 하자는 마음을 가지게 되었다.</li>
</ul>
<h2 id="부스트-캠프-후기-in-2019"># 부스트 캠프 후기 in 2019</h2>
<p>2018년은 프로젝트를 연달아서 쉬는 기간 없이 3개를 진행했다. <strong>발전이 없고</strong> 프로젝트만 계속 한 느낌?!을 받았다. 회고를 작성하지도 않았고 리뷰를 하지도 않았다. 심지어 프로젝트에 대한 정리도 하지 않았다. 아마 그래서 발전이 없었고 계속 같은 자리에 머물러 있는 것 같다는 느낌을 받았다. 이 상태로 있다가는 <strong>성장하는 개발자</strong>가 되지 못할 것 같았다.</p>
<p>그래서 나는 지금보다 한 단계 성장하고 다른 경험을 해보고 싶어서 <strong>부스트 캠프</strong>에 지원하게 되었다. 부스트 캠프는 네이버 계열사 중 하나인 <a href="https://connect.or.kr/" target="_blank" rel="noopener"><strong>커넥트 재단</strong></a>에서 진행하는 캠프이다. 내가 부스트 캠프에 지원하게 된 이유는 다음과 같은 것들을 얻고 싶어서다.</p>
<ol>
<li>현업에서 일하는 튜터님의 멘토링을 받고 좋은 조언들을 얻을 수 있다는 점</li>
<li>코드 리뷰를 통해서 코딩할 때 안좋은 습관을 없애고 실력을 쌓을 수 있다는 점</li>
<li>같은 분야를 공부하는 다른 개발자들을 만나보고 싶다는 점</li>
<li>자극을 받고 싶다는 점</li>
</ol>
<p>위의 4가지 이유로 인해서 부스트 캠프에 지원하게 되었다. 나는 지원서를 제출하고 1차 합격 메일을 받았다. 다음 절차는 <code>온라인 테스트</code>였다. 주말에 진행되었으며 안드로이드 관련 문제와 간단한 알고리즘 문제가 나왔다. 공부했던 부분에서 문제가 나와서 수월하게 풀 수 있었으며 알고리즘도 다행히 내가 풀 수 있는 수준이라고 생각을 해서 테스트를 잘 마무리 할 수 있었다.</p>
<p>테스트를 보고 나서 합격 여부를 모른채로 일단 면접 준비를 했다. 취업한 선배들의 말을 들어보니 합격 통지를 받고 면접까지의 기간이 길지 않아서 바로 준비하는게 좋다고 했다. 그래서 나는 테스트를 보고 다음날부터 면접에 대한 준비를 했다. <strong>온라인 테스트</strong>를 합격하고 면접 날짜가 나왔다. 사전에 면접 준비를 어느 정도 했기 때문에 떨리지 않았지만, 어떤 질문이 들어올지 예측할 수 없었다. 일단은 온라인 테스트 문제와 지원서를 기반으로 준비했다.</p>
<p>같이 지원하고 면접까지 붙은 학교 선배 및 후배와 함께 면접 준비를 했다. 혼자 준비한 것보다 확실히 도움이 많이 되었다. <strong>모의 면접</strong>을 통해서 긴장감을 풀 수 있었고 말할 때 태도나 말투를 고칠 수 있었다. 또한, 예상치 못한 질문을 듣고 부족한 부분을 더 공부할 수 있었다. 준비한 결과 부스트 캠프에 <code>최종 합격</code>을 할 수 있었다.</p>
<p>캠프를 하면서 내가 지원할 때 <strong>부스트 캠프</strong>를 통해서 얻고 싶었던 것들을 하나씩 얻고 배울 수 있었다.<br>
일단, 첫번째로 현업에서 일하시는 튜터님의 멘토링을 받을 수 있었다. 우리는 초반에 프로젝트 아키텍처 설계를 <strong>MVP</strong> 패턴으로 잡았다. 그리고 Model, View, Presenter의 의존성을 분리해서 개발을 시작했다. 그리고 튜터링을 받았는데 설계부터 잘못되었다는 평가를 받았다. 기존에는 뷰를 먼저 그리고 필요한 데이터를 그 때 그 때 작성했다. 이렇게 하면 변경 사항이 자주 발생하고 수정할 때도 굉장히 귀찮은 작업을 거치게 된다.</p>
<ol>
<li>튜터링을 받은 내용은 <code>요구사항 명세서</code>를 만들고 먼저 화면에 그릴 데이터를 고려하고 설계하는 것이다. 로직을 하나도 신경쓰지 않고 사용자게에 보여질 화면에 필요한 데이터를 설계한다.</li>
<li>MVP 패턴을 사용하므로 비즈니스 로직을 처리할 Repository 인터페이스를 설계한다.</li>
<li>2번에서 생성한 Repository 인터페이스를 구현한다.</li>
<li>Presenter 구현 및 View 인터페이스 설계</li>
<li>View 인터페이스 구현</li>
</ol>
<p>위와 같은 순서로 작업을 진행하는 것이 좋다는 피드백을 받았다. 기존에 개발해왔던 것과는 반대의 <strong>프로세스</strong>였다. Data를 먼저 고려하고 최종적으로 View는 가장 마지막에 구현하는 것이었다. 처음에는 이 프로세스가 적응이 되지 않고 왜 이렇게 하는지 이해가 잘 가지 않았다. 하지만, 계속 하다보니 적응이 되었고 <strong>요구사항 명세서</strong>를 잘 작성해 놓으니 추후에 유지보수나 수정할 때 손이 많이 가지 않았다. 덕분에 능률이 조금 더 오를 수 있었다.</p>
<p>또한, 관심사의 분리(SOC)를 하는데에도 도움이 많이 되었다. MVP 패턴을 사용하다보니 Model, View, Presenter 각각이 하는 역할이 명확해서 분리하는 것이 필요했다. 말은 쉽지만 실제로 개발을 하다보니 서로 의존성이 생기는 문제가 발생했다. 이 문제는 위의 <strong>요구사항 명세서</strong> 작성을 통해서 역할을 명확하게 분리할 수 있었고 의존성을 낮출 수 있게 되었다.</p>
<p>두번째는 <strong>코드리뷰</strong>였다. 지금까지 살면서 남의 코드를 봐온 적은 있지만 코드 리뷰를 해본 적이 없었고, 내 코드를 누군가가 리뷰해 준 적도 없었다. 내 첫 코드 리뷰는 엉망이라고 할 수 있다. 접근제어자는 막 갖다 붙였고, 전역 변수, 지역 변수도 구분할 줄 몰랐다. 그래서 조언을 받고 반성을 하면서 코드를 짤 때 <strong>생각을 많이 하고</strong> 짜는 습관을 가지게 되었다. 내가 짠 코드에 대해서 왜 이렇게 짰는지 생각해 볼 수 있는 습관을 가지게 된 것이 좋았다.</p>
<p>세번째는 같은 분야의 다른 개발자들을 만날 수 있었다는 점이다. 물론 <strong>SOPT</strong>를 통해서 많이 만났지만, 새로운 사람들을 만난다는 건 좋은 경험이었다. 처음 보는 사람들과 팀을 이루었다. 처음에는 굉장히 어색했지만, 시간이 지나면서 친해졌고 일상 이야기 뿐 아니라 개발적인 부분도 함께 공유하고 이야기 할 수 있어서 좋았다. 캠프에도 적응할 수 있어서 긴장이 많이 풀렸다. 또한, 내가 모르는 부분들도 많이 알게 되었고 전보다 시야가 넓어졌다.</p>
<p>마지막으로 다른 사람들을 통해서 많은 <strong>자극</strong>을 받을 수 있었다. 아마도 SOPT에서만 계속 있었다면 발전이 없고 그 자리에 머물러 있었을 것이라고 생각한다. 부스트 캠프에는 전국에서 안드로이드 개발에 관심이 있는 사람들이 모인 자리인 만큼 잘하는 사람들이 굉장히 많았다. 그 속에서 나는 남과 비교하면서 내 자신을 깎아내리기도 했었다. 하지만 시간이 조금 지나면서 <strong>부정적인 생각</strong>을 없애버렸고 <strong>그 사람들로부터 자극</strong>을 받기 시작했다. 이 자극은 나한테 큰 도움이 됐다. 앞으로 어떤 걸 공부해야 할지 방향을 잡을 수 있었고, 내게 부족한 점들을 확인할 수 있는 시간이었다.</p>
<p><code>부스트 캠프</code>를 하면서 좋았던 점은 좋은 팀원들, 튜터님과 함께 프로젝트를 진행하고 잘 마무리할 수 있었던 점이다. 한달이라는 기간 동안 싸우지 않고 프로젝트 동안 의견 충돌도 많지 않았다. 또한, 좋은 튜터님들을 알아 갈 수 있었던 것도 굉장히 좋았다. 안드로이드 개발자라면 모를 수 없는 <a href="https://gun0912.tistory.com/" target="_blank" rel="noopener"><strong>박상권</strong></a>을 실제로 보고 좋은 이야기도 많이 들으면서 값진 경험을 할 수 있었다. 그리고 조금 아쉬운 점은 캠프 동안 매일 기록하지 못했다는 것이다. 초반에는 기록할 시간이 있었지만 개발을 시작하고 나서는 시간적인 여유가 부족해서 기록을 하지 못했다.</p>
<p>그래도 <strong>부스트 캠프</strong>는 나에게 있어서 한 단계 성장할 수 있게 만들어준 발판이었다. 2019년의 시작은 힘들었지만, 추진력을 주었기에 감사한 마음이다.</p>
<ul>
<li>2019년도에는 <strong>끝까지 포기하지 않고 최선을 다하는</strong> 마음가짐을 가지고 꼭 취업을 하는게 목표다.</li>
<li>그리고 체력 관리도 필수적인 것 같다. 꾸준한 운동도 꼭 할 계획이다.</li>
</ul>
<img src="/img/boostcamp_android.png" width="700" height="300">
<h2 id="참고">참고</h2>
<ul>
<li><a href="http://www.emoneynews.co.kr/news/articleView.html?idxno=68681" target="_blank" rel="noopener">KB금융, 대학생과 함께하는 ‘KB App Challenge’ 개최</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/03/02/2018-Review/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/02/07/Java-Why-is-needed-primitive-type/"
                            aria-label=": [Java] Primitive Type"
                        >
                            [Java] Primitive Type
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-07T15:13:10+09:00">
	
		    Feb 07, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Java/">Java</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>자바로 프로젝트를 진행하고 있다. 하지만, 자바에 대한 개념이 약해서 예전에 정리했던 자료들을 보면서 익히고 있고 프로젝트를 하면서 어느정도 손에 익었다고 생각이 된다. 아직까지는 자바가 강세이긴 한 것 같다…ㅜ 조금 더 자바에 대해 공부하기 위해 <strong>이펙티브 자바</strong>책도 사서 공부해봐야겠다.</p>
                    
                        <a
                            href="/2019/02/07/Java-Why-is-needed-primitive-type/"
                            class="postShorten-excerpt_link link"
                            aria-label=": [Java] Primitive Type"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/02/07/Design-Pattern-Factory-Pattern/"
                            aria-label=": [Design Pattern] 팩토리 패턴"
                        >
                            [Design Pattern] 팩토리 패턴
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-07T11:41:13+09:00">
	
		    Feb 07, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Design-Pattern/">Design Pattern</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>신입 개발자를 위한 <a href="https://github.com/WooVictory/Ready-For-Tech-Interview" target="_blank" rel="noopener">Repository</a>를 만들었습니다. 공부한 내용을 정리 중이니 도움이 되신다면 와서 Star를 눌러주시면 감사하겠습니다.</p>
                    
                        <a
                            href="/2019/02/07/Design-Pattern-Factory-Pattern/"
                            class="postShorten-excerpt_link link"
                            aria-label=": [Design Pattern] 팩토리 패턴"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/02/06/Android-Why-is-Need-default-constructor-of-fragment/"
                            aria-label=": 17일차 [안드로이드] 프래그먼트에 대해"
                        >
                            17일차 [안드로이드] 프래그먼트에 대해
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-06T22:21:09+09:00">
	
		    Feb 06, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>안드로이드에서 <strong>Fragment</strong>는 거의 필수적으로 사용된다고 볼 수 있다. Activity 위에서 부분 화면을 나타내는데 Fragment는 아주 효율적으로 사용할 수 있다. 그렇다면 <strong>Fragment</strong>를 어떻게 만들어서 구현을 하는가에 대해서 생각해 볼 필요가 있을 것이다.</p>
<ul>
<li>일반적으로 나는 <strong>Fragment</strong>를 사용할 때 아래와 같이 코드를 작성하였다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup viewGroup, Bundle savedInstanceState)</span></span>&#123;</span><br><span class="line">        View view = inflater.from(viewGroup.context).inflate(R.layout.fragment_my.xml, viewGroup, <span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> view</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>위의 코드가 내가 지금까지 <strong>Fragment</strong>를 사용할 때 작성해왔던 코드이다. 하지만, 최근에 들어서 코드 리뷰를 통해서 이렇게 <strong>Fragment</strong>를 작성하는게 맞을까란 이야기를 들었다. 보통 관용적으로 <code>newInstance()</code>라는 함수를 사용해서 만들게 되는데 이것과 <code>기본 생성자</code>를 키워드로 찾아보라고 하셨다.</li>
</ul>
<h2 id="그래서-어떻게">그래서 어떻게?</h2>
<p>그래서 어떻게?라니 바로 키워드를 잡고 찾아보기 시작했다. 먼저, <code>newInstance()</code>라는 키워드를 가지고 찾아보니 생성자에 관한 이야기도 함께 설명하는 글을 꽤 찾을 수 있었다.</p>
<p><strong>Fragment</strong>를 만들 때는 생성자를 오버로딩 하지 않고 생성 시 필요한 파라미터가 생기면 <code>Bundle</code> 객체에 담아서 setArgument() 함수를 호출하는 방식을 사용하는 것이 일반적이다. 왜냐하면 안드로이드에 의해서 <strong>Fragment</strong>가 복원될 때는 Fragment의 기본 생성자를 호출하기 때문에 오버로딩된 생성자의 호출이 보장되지 않는다.</p>
<p>그렇기 때문에 아래와 같은 코드를 사용하며 이 코드는 관용적으로 Fragment를 생성할 때 사용하는 코드가 되었다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DetailsFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Create a new instance of DetailsFragment, initialized to</span></span><br><span class="line"><span class="comment">     * show the text at 'index'.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DetailsFragment <span class="title">newInstance</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        DetailsFragment f = <span class="keyword">new</span> DetailsFragment();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Supply index input as an argument.</span></span><br><span class="line">        Bundle args = <span class="keyword">new</span> Bundle();</span><br><span class="line">        args.putInt(<span class="string">"index"</span>, index);</span><br><span class="line">        f.setArguments(args);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getShownIndex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getArguments().getInt(<span class="string">"index"</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">            Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        TextView textView = <span class="keyword">new</span> TextView(getActivity());</span><br><span class="line">        text.setText(String.valueOf(getShownIndex()));</span><br><span class="line">        <span class="keyword">return</span> textView;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>생성자를 만들지 않거나, 기본 생성자를 만들고 아무짓도 하지 않는 것이다. 생성자를 명시하지 않는다면 Java는 자동적으로 기본 생성자를 만든다. 하지만, 기본 생성자를 명시하지 않고 오버로딩된 생성자만 명시하게 되면 <code>Fragment fragment = new Fragment();</code> 문장을 호출했을 때 에러를 겪게 된다. 그러니 기본 생성자를 사용하도록 하자.(대신 구현은 구현부는 비워놓는다.)</li>
<li>또한, 위에서 설명했던 것처럼 프래그먼트가 복구될 때는 기본 생성자를 호출하기 때문에 오버로딩된 생성자의 호출은 보장되지 않는다. 그래서 저장하거나 넘겨야 할 값이 존재한다면 <code>newInstance()</code> 함수에 파라미터로 전달하고 이 함수 안에서 Bundle 객체를 통해서 파라미터로 넘어온 값을 저장한다.</li>
<li>그리고 복원될 때는 <code>getArguments()</code> 함수를 통해서 값을 복원하면 된다.</li>
</ul>
<h2 id="참고">참고</h2>
<ul>
<li><a href="https://lanace.github.io/articles/why-do-not-use-arguments-in-fragment/" target="_blank" rel="noopener">왜 Fragment는 기본 생성자를 사용해야만 하는가?</a></li>
<li><a href="https://mrrays.tistory.com/921" target="_blank" rel="noopener">팩토리 메소드를 사용할 때 빈 기본 생성자가 필요한 이유</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/02/06/Android-Why-is-Need-default-constructor-of-fragment/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/02/04/Android-What-is-DataBinding-1/"
                            aria-label=": 13일차 [안드로이드] 데이터바인딩"
                        >
                            13일차 [안드로이드] 데이터바인딩
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-04T11:45:42+09:00">
	
		    Feb 04, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <ul>
<li>데이터바인딩은 우리의 일상을 편하게 해주었다. 그러면 어떤 것을 편하게 해주었는지 먼저 살펴보고 시작해보자.</li>
</ul>
<ol>
<li>데이터바인딩을 사용하면 <code>findViewById()</code>를 호출하지 않아도 자동으로 xml에 만든 View들을 만들어준다.</li>
<li>RecyclerView에 각각의 item을 set해주는 작업도 xml에서 다 써주면 알아서 값이 들어간다.</li>
<li>값이 바뀌면 알아서 바뀐 값으로 View를 변경하게 할 수도 있고 기타 등등 유용하게 활용 할만한게 많다.</li>
</ol>
<h2 id="서론">서론</h2>
<p>새로운 화면을 추가해야 한다. 그러면 안드로이드 스튜디오를 켜고 xml을 만들고 레이아웃 화면을 구성해야 한다.</p>
<p>다음과 같이 TextView 5개와 Button 1개, RecyclerView 1개가 있는 View를 만들어 보도록 하겠다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">              android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">              android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">              android:orientation=<span class="string">"vertical"</span>&gt;</span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        &gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText1"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText2"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText3"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText4"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText5"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:id=<span class="string">"@+id/btnSample"</span></span><br><span class="line">            android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            android:text=<span class="string">"button"</span></span><br><span class="line">            /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line">    &lt;android.support.v7.widget.RecyclerView</span><br><span class="line">        android:id=<span class="string">"@+id/rcContent"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        /&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<p>xml을 만들었으니 Activity에서 View를 이어주는 작업을 해야한다. 아래와 같은 작업을 할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">TextView tvText1;</span><br><span class="line">TextView tvText2;</span><br><span class="line">TextView tvText3;</span><br><span class="line">TextView tvText4;</span><br><span class="line">TextView tvText5;</span><br><span class="line">Button btnSample;</span><br><span class="line"></span><br><span class="line">RecyclerView rcContent;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">setContentView(R.layout.basic_activity);</span><br><span class="line"></span><br><span class="line">tvText1 = (TextView) findViewById(R.id.tvText1);</span><br><span class="line">tvText2 = (TextView) findViewById(R.id.tvText2);</span><br><span class="line">tvText3 = (TextView) findViewById(R.id.tvText3);</span><br><span class="line">tvText4 = (TextView) findViewById(R.id.tvText4);</span><br><span class="line">tvText5 = (TextView) findViewById(R.id.tvText5);</span><br><span class="line">btnSample = (Button) findViewById(R.id.btnSample);</span><br><span class="line">rcContent = (RecyclerView) findViewById(R.id.rcContent);</span><br></pre></td></tr></table></figure>
<p>위의 작업을 할 경우 우리는 제일 먼저 <code>findViewById()</code> 노가다를 진행한다. 지금 만들려는 레이아웃은 몇 개 안되는 뷰이지만 만약 10개, 100개 그리고 그 이상이라면 그만큼 노가다 코드를 작성하게 될 것이다.</p>
<p>그래서 이러한 노가다 코드를 줄일 수 있도록 도와주는 라이브러리인 <strong>버터 나이프</strong>가 있다. 자바에서는 버터 나이프를 이용해서 노가다 코드를 줄일 수 있었고, 코틀린에서는 <code>Kotlin-extensions</code>를 이용해서 findViewById를 하지 않아도 xml의 id를 바로 객체화시켜서 Activity에서 사용할 수 있었다.</p>
<p>아래는 버터 나이프를 이용한 축약된 형태의 코드 모습이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BindView</span>(R.id.tvText1)</span><br><span class="line">TextView tvText1;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.tvText2)</span><br><span class="line">TextView tvText2;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.tvText3)</span><br><span class="line">TextView tvText3;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.tvText4)</span><br><span class="line">TextView tvText4;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.tvText5)</span><br><span class="line">TextView tvText5;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.btnSample)</span><br><span class="line">Button btnSample;</span><br><span class="line"></span><br><span class="line"><span class="meta">@BindView</span>(R.id.rcContent)</span><br><span class="line">RecyclerView rcContent;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">setContentView(R.layout.butterknife_activity);</span><br><span class="line">ButterKnife.bind(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>하지만 <strong>데이터바인딩</strong>을 사용한다면 어떻게 될까???</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>위의 화면은 오류가 아니다. 따로 View를 정의하고 우리가 이어줄 필요가 없다는 것이다. <strong>Databinding</strong>을 사용한다면 우리는 아무 소스코드를 적지 않아소 Databinding이 알아서 다 해준다.</li>
</ul>
<p><strong>최소사항</strong></p>
<ul>
<li>Android 2.1(API 7) 이상</li>
<li>Android Plugin for Gradle 1.5.0-alpha 1 이상</li>
<li>Android Studio 1.3 이상</li>
</ul>
<p>아주 아주 아주 옛날의 환경으로 작업하고 있지 않는 이상 지금 쓰는 환경에서 무리 없이 바로 사용할 수 있다.</p>
<p><strong>설정</strong><br>
<img src="/img/databinding_setting.png" width="400" height="300"></p>
<ul>
<li>build.gradle(Module:app) 에서 위와 같이 enabled만 true로 설정해주면 끝난다.</li>
</ul>
<p><strong>xml</strong></p>
<ul>
<li>Databinding을 사용하기 위해서는 xml의 최상위에 <layout> 태그를 감싸준다.</layout></li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line"></span><br><span class="line">&lt;layout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;data&gt;</span><br><span class="line">        &lt;variable</span><br><span class="line">            name=<span class="string">"activity"</span></span><br><span class="line">            type=<span class="string">"app.woovictory.databindingsample.MainActivity"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/data&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.constraint.ConstraintLayout</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">        tools:context=<span class="string">".MainActivity"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            android:text=<span class="string">"Hello World!"</span></span><br><span class="line">            app:layout_constraintBottom_toBottomOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintLeft_toLeftOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintRight_toRightOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintTop_toTopOf=<span class="string">"parent"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/android.support.constraint.ConstraintLayout&gt;</span><br><span class="line"></span><br><span class="line">&lt;/layout&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Java</strong></p>
<ul>
<li>Activity에서 항상 해주던 setContentView() 대신에 **DatabindingUtil.setContentView()**를 이용해서 layout xml을 이어준다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ActivityMainBinding binding;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">binding = DataBindingUtil.setContentView(<span class="keyword">this</span>, R.layout.databinding_activity);</span><br><span class="line">binding.setActivity(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>xml의 파일 이름을 기준으로 ~~~Binding 클래스가 새로 생성된다.</li>
<li>여기서는 xml의 이름이 activity_main.xml이기 때문에 ActivityMainBinding 클래스가 새로 생성되었다.</li>
<li>Binding 클래스 이름의 생성은 파스칼 표기법 기준으로 변경된다.</li>
<li>예를 들어, woo_activity.xml -&gt; WooActivityBinding 클래스를 생성시킨다.</li>
<li>그리고 xml에서 layout 태그 안에 <data></data> 태그 안에 <variable></variable> 태그를 추가하고 activity라는 변수 이름을 할당해주면 위에서와 같이 <code>binding.setActivity(this)</code>처럼 Activity와 xml을 이어줄 수 있다.</li>
</ul>
<p>View를 사용하고자 할 때는 binding 변수에서 아래와 같이 사용할 수 있다.</p>
<img src="/img/databinding_binding.png" width="400" height="300">
<ul>
<li>View의 이름은 카멜표기법 기준으로 변경된다.</li>
<li>@+id/tv1_text 의 뷰는 tv1Text으로 이름이 변경되어 사용할 수 있다.</li>
</ul>
<h2 id="click-event">Click Event</h2>
<ul>
<li>사용자가 어떤 버튼을 클릭하면 아래의 함수를 실행하도록 하려고 한다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onButtonClick</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">    Toast.makeText(<span class="keyword">this</span>, <span class="string">"Button Click"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>기본</strong></p>
<p>버튼에 <code>setOnClickListener()</code>를 달아서 클릭이벤트를 받아주도록 할 것이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//btnSample.setOnClickListener(this);</span></span><br><span class="line">btnSample.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">onButtonClick(view);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>위에 주석 처리된 것처럼 setOnClickListener(this)를 했다면 implements View.OnClickListener를 하고 함수를 오버라이드 하고 그 안에서 onButtonClick() 함수를 호출했을 것이다.</li>
</ul>
<p><strong>버터나이프</strong></p>
<ul>
<li>버터나이프에서는 @OnClick(<a href="http://R.id.xxx" target="_blank" rel="noopener">R.id.xxx</a>)만 함수에 넣어주면 된다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnClick</span>(R.id.btnSample)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onButtonClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">Toast.makeText(<span class="keyword">this</span>, <span class="string">"Button Click"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>버터 나이프는 아주 간단하게 이벤트를 처리할 수 있다.</li>
</ul>
<p><strong>데이터바인딩</strong></p>
<ul>
<li>데이터바인딩은 xml에서 클릭되면 실행하고자 하는 함수를 지정해준다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button</span><br><span class="line">    android:id=<span class="string">"@+id/btn2"</span></span><br><span class="line">    android:onClick=<span class="string">"@&#123;activity.onButtonClick2&#125;"</span></span><br><span class="line">    android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">    android:layout_height=<span class="string">"wrap_content"</span> /&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>위에서는 android:onClick 에서 activity라는 곳에 있는 onButtonClick2() 함수를 실행하도록 설정해두었다.</li>
<li>여기서 activity라는 것은 xml에서 선언해 둔 변수를 가리킨다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;layout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;data&gt;</span><br><span class="line">        &lt;variable</span><br><span class="line">            name=<span class="string">"activity"</span></span><br><span class="line">            type=<span class="string">"app.woovictory.databindingsample.MainActivity"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/data&gt;</span><br><span class="line">    <span class="comment">// 생략</span></span><br></pre></td></tr></table></figure>
<ul>
<li>xml에서 <data> 태그를 이용해서 그 안에서 각각 사용하고자 하는 변수를 <variable> 태그를 이용해서 정의해주면 사용할 수 있다.</variable></data></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">BaseActivity</span>&lt;<span class="title">ActivityMainBinding</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">        binding.setActivity(MainActivity.<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onButtonClick2</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">        Toast.makeText(<span class="keyword">this</span>, <span class="string">"Click222"</span>,Toast.LENGTH_LONG).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>위의 예제는 데이터바인딩을 수행하는 부분을 BaseActivity로 빼두어서 설정하는 코드가 보이지 않는다. 하지만, 바인딩 하는 부분이 수행된다.</li>
<li>Java 파일에서는 이 변수가 어떤 값을 넣어줄건지 지정해주어야 한다.</li>
<li>setActivity() 함수는 자동으로 생성된 함수이다. 우리가 <strong>xml에서 activity라는 변수를 만들었다면 자동으로 setActivity()가 생성되어서</strong> binding.setActivity(this) 처럼 사용할 수 있는 것이다.</li>
<li>setActivity(this)가 xml에서의 activity라는 변수를 이 Class로 지정하겠다는 의미인 것이다. 즉, xml의 activity 변수는 MainActivity Class와 연결되고 MainActivity의 변수 혹은 함수를 참조할 수 있음을 의미한다.</li>
</ul>
<p>MVP 패턴을 사용한다면 presenter를, MVVM 패턴을 사용한다면 ViewModel을 활용해서 클릭 이벤트에 맞는 동작을 수행하도록 지정하면 된다. <code>이에 대한 나의 생각은 조금 다르다.</code> MVP 패턴은 View에서 발생한 이벤트를 Presenter에게 위임하여 View는 단순히 View 그 자체를 그리는 것에만 초점을 맞추어 관심사를 분리한 것으로 볼 수 있다. View에서 발생한 이벤트 혹은 요청한 이벤트가 데이터를 불러오거나 가공하는 로직이 포함된다면 Presenter에게 위임하여 처리하는 것이 맞다고 생각을 한다.</p>
<p>그리고 View에서 발생한 이벤트가 단순히 화면 전환과 같은 이벤트라면 View에서 처리해도 마땅하다고 생각을 한다.</p>
<p>함수 이름을 지정할 때 기존에는 @{activity.함수이름()}으로 해도 문제가 없었지만 언젠가부터 이 방법은 deprecated 되었다고 나온다고 한다. 그래서 @{activity::함수이름()}으로 사용하도록 구글 문서에서 안내하고 있다.</p>
<h2 id="recyclerview-리스트">RecyclerView 리스트</h2>
<p>그렇다면 이제 RecyclerView를 이용해서 리스트 목록을 만드는 작업을 해보려고 한다. 기본적으로 1:1 카카오톡의 채팅방과 같이 사용자의 사진, 이름, 그리고 여기서는 나이로 구성되어 있는 화면을 만들어보겠다. 먼저, item을 구성하는 xml을 정의해야 한다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:padding</span>=<span class="string">"8dp"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">de.hdodenhof.circleimageview.CircleImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/ivProfile"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"40dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"40dp"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginLeft</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tvName"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tvAge"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"8dp"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>또한, 리스트에서 쓰일 사용자 User 클래스도 생성해준다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> app.woovictory.databindingsample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    String imageUrl;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String name, <span class="keyword">int</span> age, String imageUrl)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.imageUrl = imageUrl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getImageUrl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> imageUrl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>실제로는 서버에서 사용자의 목록을 받아오겠지만 여기서는 샘플 데이터를 이용해서 활용할 수 있도록 구성한다.</li>
</ul>
<h3 id="viewholder">ViewHolder</h3>
<ul>
<li>각각의 item view를 보여주기 위해서 ViewHolder에서 View를 만들어주는 작업을 한다.</li>
</ul>
<p><strong>기본</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    TextView tvName;</span><br><span class="line">    TextView tvAge;</span><br><span class="line">    ImageView ivProfile;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(itemView);</span><br><span class="line">        tvName = (TextView) itemView.findViewById(R.id.tvName);</span><br><span class="line">        tvAge = (TextView) itemView.findViewById(R.id.tvAge);</span><br><span class="line">        ivProfile = (ImageView) itemView.findViewById(R.id.ivProfile);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>버터나이프</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BindView</span>(R.id.tvName)</span><br><span class="line">    TextView tvName;</span><br><span class="line">    <span class="meta">@BindView</span>(R.id.tvAge)</span><br><span class="line">    TextView tvAge;</span><br><span class="line">    <span class="meta">@BindView</span>(R.id.ivProfile)</span><br><span class="line">    ImageView ivProfile;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(itemView);</span><br><span class="line">        ButterKnife.bind(<span class="keyword">this</span>,itemView);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>데이터바인딩</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    DatabindingItemBinding binding;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(itemView);</span><br><span class="line">        binding = DataBindingUtil.bind(itemView);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>위에서 순서대로 기본 -&gt; 버터 나이프 -&gt; 데이터바인딩을 차례대로 살펴보면 코드의 길이가 짧아지는 것을 확인할 수 있다. 그렇다. 데이터바인딩을 사용하면 개발자가 작성해야 할 코드의 양이 줄어든다!!</li>
</ul>
<h3 id="item-세팅">item 세팅</h3>
<ul>
<li>onBindView() 함수에서 각각의 position에 맞는 User 클래스의 내용에 따라 뷰의 내용을 넣어주는 작업을 해준다.</li>
</ul>
<p><strong>기본/버터나이프</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindView</span><span class="params">(UserViewHolder holder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    User user = getItem(position);</span><br><span class="line"></span><br><span class="line">    String name = user.getName();</span><br><span class="line">    holder.tvName.setText(name);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> age = user.getAge();</span><br><span class="line">    holder.tvAge.setText(Integer.toString(age));</span><br><span class="line"></span><br><span class="line">    String imgUrl=user.getImgUrl();</span><br><span class="line">    ImageUtil.loadImage(holder.ivProfile,imgUrl, ContextCompat.getDrawable(getContext(),R.drawable.no_pic));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>데이터바인딩</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindView</span><span class="params">(UserViewHolder holder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    User user = getItem(position);</span><br><span class="line">    holder.binding.setUser(user);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>원래는 기본이나 혹은 버터나이프에서는 각각의 holder의 view에 사용자 정보를 넣어주는 작업을 해주었지만 데이터바인딩에서는 그럴 필요가 없다.</li>
<li><code>setUser()</code> 라는 함수를 보고 유추해 볼 수 있다. item_user.xml에서 user라는 변수를 만들어주었고, 그 변수에 setUser()라는 데이터바인딩에 의해서 생성된 함수를 통해서 position에 따른 user 객체를 할당해준다는 것을 알 수 있다.</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">layout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">data</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">variable</span></span></span><br><span class="line"><span class="tag">            <span class="attr">name</span>=<span class="string">"user"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">type</span>=<span class="string">"app.woovictory.databindingsample.User"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>onBindView()에서 값을 넣어주는 대신에 setUser()를 통해서 User 객체를 user 변수에 할당해준다. 그리고 데이터바인딩을 통해서 xml에서 값을 넣어준다.</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/tvName"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"@&#123;user.name&#125;"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/tvAge"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"@&#123;Interger.toString(user.age)&#125;"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_marginTop</span>=<span class="string">"8dp"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>android:text에 @{user.필드이름}을 넣어주는 것만으로 user의 정보를 가져와서 다시 TextView에 넣어주는 작업을 해 줄 필요가 없는 것이다.</li>
</ul>
<h3 id="bindingadapter">@BindingAdapter</h3>
<p>그런데 여기서 드는 의문이 하나 있다. User 정보 중에 imageUrl이라는 필드는 “<a href="http://~~~.png" target="_blank" rel="noopener">http://~~~.png</a>” 처럼 이미지가 저장되어 있는 주소 값으로 되어 있다. 이 값을 TextView에 넣는다면 이미지 url만 출력되는 원하지 않는 결과를 볼 것이다.</p>
<p>이럴 때 BindingAdapter를 사용하면 해결할 수 있다. 어노테이션으로 <code>@BindingAdapter</code>와 같이 정의해준다. 나는 이미지를 Setting하기 위해서 다음과 같이 정의한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BindingAdapter</span>(<span class="string">"app:imageUrl"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">loadImage</span><span class="params">(ImageView imageView, String url)</span></span>&#123;</span><br><span class="line">    ImageUtil.loadImage(imageView, url);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>그러면 UserAdapter에서 onBindView() 함수가 binding.setUser(user)를 호출하면서 데이터바인딩 작업이 수행된다. 그리고 xml에서 정의한 다음의 문장을 수행하게 된다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">de.hdodenhof.circleimageview.CircleImageView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ivProfile"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"40dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">app:imageUrl</span>=<span class="string">"@&#123;user.imageUrl&#125;"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"40dp"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>그러면 xml에서 @BindingAdapter로 정의된 부분을 찾아서 해당 View의 id와 @{user.imageUrl} 을 가지고 @BindingAdapter가 정의된 함수의 파리미터로 값을 전달하게 된다.</li>
<li>loadImage 함수를 호출하면서 파라미터로 id와 user.imageUrl에 담긴 url 값을 넘긴다.</li>
</ul>
<p>+<code>@BindinAdapter</code>와 <code>@BindinConversion</code>은 유용하게 사용할 수 있다. 이와 관련된 내용은 추후 구글 공식 문서를 통해서 내용을 추가할 예정이다.<br>
+Observable</p>
<h2 id="참고">참고</h2>
<ul>
<li><a href="https://gun0912.tistory.com/71" target="_blank" rel="noopener">[안드로이드/Android]DataBinding - Goodbye 버터나이프 Hello 데이터바인딩[박상권의 삽질블로그]</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/02/04/Android-What-is-DataBinding-1/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/01/31/Android-AAC-Room/"
                            aria-label=": 11일차 [안드로이드] AAC - Room 실습"
                        >
                            11일차 [안드로이드] AAC - Room 실습
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-01-31T22:32:55+09:00">
	
		    Jan 31, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>Room은 Android Architecture Components(AAC) 중 하나이다. Room에 대해서 저번에 살펴봤지만, 헷갈리고 개념이 정립되어 있지 않아 다시 정리하려고 한다. 이번에는 개념적인 부분보다는 실제로 어떻게 사용을 할 수 있는지에 초점을 맞추려고 한다.</p>
<h2 id="room의-3가지-주요-구성요소">Room의 3가지 주요 구성요소</h2>
<ul>
<li>RoomDatabase : 데이터베이스의 holder를 구성하며 관계형 데이터에 대한 연결을 해준다.</li>
<li>조건
<ol>
<li>RoomDatabase를 extends하는 클래스는 <strong>abstract</strong> 클래스이다.</li>
<li>annotaion으로 eneities(Table 구조와 mapping되는 clas)를 포함해야 한다.</li>
<li>클래스 내부에 DAO(Data Access Object)를 포함해야 한다.</li>
</ol>
</li>
<li>Entity : 데이터베이스 내의 테이블을 나타낸다.</li>
<li>Dao : 데이터베이스에 접근하는 데 사용되는 함수를 정의한다.(Query를 포함한다.)</li>
</ul>
<img src="/img/room_Database_structure.png" width="600" height="300">
<h2 id="entity">Entity</h2>
<ul>
<li>Entity는 object이자 데이터베이스의 테이블을 나타낸다.</li>
<li>Entity 파일의 특징은 class의 변수들이 column이 되어 데이터베이스의 테이블로 된다는 것이다.</li>
<li>ColumnInfo로 필드의 이름을 설정하지 않는다면 필드의 이름과 같은 Column 이름으로 생성된다.</li>
<li>이때, 실제 table로 만들고 싶지 않은 필드에는 @Ignore 어노테이션을 선언한다.</li>
</ul>
<p><strong>Annotation 속성</strong></p>
<p>@Entity(name = “word_table”)<br>
: Entity의 테이블 명을 선언한다.<br>
@PrimaryKey<br>
: 모든 Entity는 PrimaryKey가 필요하다.(값을 구별하기 위한 식별자)<br>
@ColumnInfo(name = “word”)<br>
: 테이블에서 word라는 이름으로 데이터베이스 column 사용</p>
<p><code>Entity에는 getter 함수가 필수적으로 존재해야 하고 변수들은 public 형태여야 한다.</code></p>
<p>@Embeded<br>
: 필드로 object를 갖는 경우 사용한다.</p>
<ul>
<li>Annotaion과 관련된 속성은 구글 공식 문서를 참고하거나 블로그의 다른 글을 참고하면 좋을 것 같다.</li>
<li><a href="https://woovictory.github.io/2019/01/25/Android-Room-Basic/">5일차 [안드로이드] Room</a></li>
</ul>
<h2 id="dao-만들기">DAO 만들기</h2>
<ul>
<li>DAO는 SQL 쿼리를 지정하고 메소드 호출을 연결한다.</li>
<li>쿼리는 별도의 스레드에서 동작하며 메인 스레드에서 동작하지 않는다.(UI - Thread에서는 동작하면 앱에 에러가 난다.)</li>
<li>Interface class 혹은 abstract class로 사용한다.</li>
<li>@Dao 어노테이션을 지정한다.</li>
<li>Dao에서는 데이터베이스에 있는 테이블에서 사용할 쿼리를 지정하고 메소드와 연결을 한다. 단순히 정의만 해놓는다.</li>
</ul>
<p><strong>주의</strong></p>
<p>AppDatabase object를 생성하는 코드는 비용이 많이 들기 때문에 <strong>Singleton</strong>으로 구현해야 한다.</p>
<h2 id="room-database-만들기">Room Database 만들기</h2>
<ul>
<li>Room Database는 SQLite 데이터베이스 상위에 있는 데이터베이스 계층을 말한다.</li>
<li>Room은 DAO를 이용하여 데이터베이스의 쿼리를 실행한다.</li>
<li>기본적으로 UI 성능 저하를 피하기 위해서 Room에서는 main thread에서 쿼리를 실행할 수 없다.</li>
<li><strong>LiveData</strong>는 필요할 때 백그라운드 스레드에서 쿼리를 비동기적으로 자동 실행하여 규칙을 적용한다.</li>
<li>Room 클래스는 abstract 여야 하며, RoomDatabase를 상속받아야 한다.</li>
<li>일반적으로 RoomDatabase 객체를 생성하는 코드는 비용이 많이 들기 때문에 싱글톤으로 구현해 하나의 객체만 유지한다.</li>
</ul>
<p><strong>어노테이션</strong><br>
@Database(entities = {Word.class}, version = 1)<br>
: Room Database를 정의한다. entities는 데이터베이스에 사용될 Entity를 나타낸다. version는 추후 데이터베이스의 변경 사항이 있을 시 변경해야 할 사항이다.</p>
<h2 id="repository-만들기">Repository 만들기</h2>
<ul>
<li>Repository는 여러 데이터에 대한 접근을 할 수 있는 class이다.</li>
<li>주로 로컬 데이터(앱 내장 데이터)를 가져올 지 네트워크에서 데이터를 가져올 지를 다룬다.</li>
</ul>
<img src="/img/android_room_repository.png" width="600" height="300">
<ul>
<li>Dao의 멤버 변수와 word를 넣을 list 변수를 만들어 준다.</li>
<li>AsyncTask를 만들어서 Database에 insert 하는 작업을 수행한다.</li>
<li>이유는? UI - Thread에서 수행할 경우 오류가 발생한다.</li>
</ul>
<h2 id="viewmodel">ViewModel?</h2>
<p>내가 참고한 예제에서는 <strong>ViewModel</strong>을 사용하였다. 하지만, ViewModel에 대한 이해가 잘 되지 않아서 사용하지 않고 예제를 조금 다른 방식으로 수정하였다. 그래도 일단, ViewModel이 무엇인지 간단하게 살펴보자.</p>
<ul>
<li>ViewModel의 역할은 UI에 데이터를 제공하고 변경된 사항들을 업데이트 해준다.</li>
<li>그리고 ViewModel 저장소(Repository)와 UI(Fragment / Activity) 사이에 통신 역할을 한다.</li>
<li>이것은 <strong>저장소와 UI를 분리</strong>하여 각자의 역할을 명확하게 할 수 있다.</li>
</ul>
<p><strong>주의</strong></p>
<ol>
<li>
<p>ViewModel에 context를 저장하면 안된다.<br>
-&gt; 이유는 디바이스가 회전할 때 Activity가 제거되었다가 다시 생성되는데 이때, ViewModel은 제거된 것을 참조하기 때문에 <strong>메모리 누수</strong>가 발생한다. 그래서 application을 사용하기 위해 extends로 AndroidViewModel을 사용한다.</p>
</li>
<li>
<p>ViewModel은 프로세스 종료 후 남아있지 않기 때문에 onSaveInstanceState() 함수를 대체하지 않는다.</p>
</li>
</ol>
<h2 id="livedata">LiveData??</h2>
<p>LiveData는 중요한 개념 중 하나이다. 여기서는 간단하게 Room에서 어떻게 사용되는지만 보고 추후에 공부할 예정이다.</p>
<ul>
<li><code>observer</code>라는 것을 만들어 실제 변경이 일어나면 UI에 적용한다.</li>
<li>ViewModel에서 데이터베이스 호출 없이 코드를 쉽게 테스트할 수 있다.</li>
</ul>
<p>예제는 Github에 있으니 확인할 수 있다.</p>
<h2 id="참고">참고</h2>
<ul>
<li><a href="https://codelabs.developers.google.com/codelabs/android-room-with-a-view/#16" target="_blank" rel="noopener">Android Room with a View - Java</a></li>
<li><a href="https://m.blog.naver.com/rjs5730/221302132817" target="_blank" rel="noopener">(Android) Room Persistence Library 실습 -2</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/01/31/Android-AAC-Room/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/01/30/DatabaseBasic/"
                            aria-label=": 10일차 [데이터베이스] 데이터베이스 기초 "
                        >
                            10일차 [데이터베이스] 데이터베이스 기초 
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-01-30T11:08:34+09:00">
	
		    Jan 30, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/데이터베이스/">데이터베이스</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>안드로이드에서 Room을 이용하면 내부 DB를 사용할 수 있고, 간단한 쿼리문도 사용할 수 있다. 여기까지는 문제가 없는데, 내가 서버, DB 용어와 개념을 몰라서 이해가 잘 안간다. 그래서 간단하게 찾아서 공부하기 위해 작성된 글이다.</p>
<h2 id="데이터베이스란">데이터베이스란??</h2>
<ul>
<li><strong>여러 사람에 의해 공유되어 사용될 목적으로 통합하여 관리되는 데이터의 집합을 말한다.</strong> 자료 항목의 중복을 없애고 자료를 구조화하여 저장함으로써 자료 검색과 갱신의 효율을 높인다.</li>
<li>논리적으로 연관된 하나 이상의 자료의 모음으로 그 내용을 고도로 구조화함으로써 검색과 갱신의 효율화를 꾀한 것이다.</li>
<li>몇 개의 자료 파일을 조직적으로 통합하여 자료 항목의 중복을 없애고 자료를 구조화하여 기억시켜 놓은 자료의 집합체라고 할 수 있다.</li>
</ul>
<p><strong>왜 사용하는가?</strong></p>
<p><strong>데이터베이스란 다수의 사용자가 사용하는 데이터들의 공유와 운영을 위해 저장해 놓는 공간을 말한다.</strong> 프로그램을 만들다 보면 프로그램 사용자들에 의해 생성된 데이터, 프로그래머가 필요에 의해 프로그램에 넣어 놓은 데이터 등 필연적으로 많은 데이터들이 생성되어지게 된다. 여기서 데이터베이스를 사용하지 않으면 이 데이터들은 프로그램을 종료하는 순간 전부 날아가게 되는 불행한 상황을 맞이하게 된다.</p>
<p>따라서, 이런 현상을 방지하기 위해 데이터들을 데이터베이스에 넣고 보관하는 방법을 사용하는 것이다.</p>
<h2 id="기초-용어">기초 용어</h2>
<ul>
<li>엔티티(Entity) : <strong>사람, 장소, 사물, 사건 등과 같이 독립적으로 존재하면서 고유하게 식별이 가능한 실세계의 객체이다.</strong> 예를 들어, 사원 번호가 1206이고 김창섭인 사원, 과목 코드가 CS372인 운영체제 등이 있다. 이렇게 실체가 있는 것 뿐만 아니라 추상적인 것도 있다. 프로젝트 번호가 P101인 프로젝트, 학과 번호가 D316인 학과는 추상적인 개념의 엔티티가 될 수 있다.</li>
<li>스키마(Schema) : 데이터를 설명하는 데이터. 메타데이터(Metadata)라고도 한다. 예를 들어 <code>홍길동, 1994-06-27</code>이라는 데이터가 있을 경우에는 이를 <code>이름, 생년원일</code>이라는 스키마로 설명할 수 있다.</li>
</ul>
<h2 id="database-용어">Database 용어</h2>
<img src="/img/database_basic.png" width="600" height="300">
<ul>
<li>Table(Relation) : 관계형 데이터베이스에서 정보를 구분하여 저장하는 기본 단위를 말한다. 예로 부서에 관한 정보를 저장하는 부서 Relation(혹은 부서 Table)이 있다. 한 릴레이션은 데이터베이스에 표현되는 한 엔티티에 관한 정보를 저장하는 데 사용된다.</li>
<li>식별자(identifier) : 여러 개의 집합체를 담고 있는 관계형 데이터베이스에서 각각을 구분할 수 있는 논리적인 개념이다.</li>
<li>식별자의 특징
<ul>
<li>유일성 : 하나의 릴레이션에서 모든 행은 서로 다른 키 값을 가져야 한다.</li>
<li>최소성 : 꼭 필요한 최소한의 속성들로만 키를 구성해야 한다.</li>
</ul>
</li>
<li>튜블(Tuple) : 테이블에서 행을 의미한다. 같은 말로 레코드(Record) 혹은 로우(Row)라고 하기도 한다. 튜플은 릴레이션에서 같은 값을 가질 수 없다.
<ul>
<li>카디날리티(Cardinality) : 튜플의 수</li>
</ul>
</li>
<li>어트리뷰트(Attribute) : 테이블에서 열을 의미한다. 같은 말로 칼럼(Column)이라고도 한다.
<ul>
<li>디그리(Degree) : 어트리뷰트의 수를 의미한다.</li>
</ul>
</li>
<li>도메인(Domain) : Relation에서 각각의 속성(Attribute)들이 취할 수 있는 같은 타입의 원자 값들의 집합이다.</li>
</ul>
<h2 id="key">Key</h2>
<ul>
<li>키(Key) : 한 Relation에서 각각의 Tuple(행)을 유일하게 식별하기 위해 사용하는 하나 혹은 그 이상의 속성들(Attribute)의 집합이다.</li>
</ul>
<p><strong>유일성과 최소성</strong></p>
<ul>
<li>유일성 : 하나의 키로 어떠한 행을 바로 찾아낼 수 있는 성질. ex) 주민등록번호</li>
<li>최소성 : 레코드(튜플)을 식별하는데 꼭 필요한 속성들로만 구성되어 있는 성질. ex) {주민등록번호+학번}은 최소성을 만족시키지 않는다. 주민등록번호로만 tuple(행)을 구분할 수 있기 때문이다.</li>
</ul>
<img src="/img/student_relation.png" width="800" height="300">
<img src="/img/sukang_relation.png" width="800" height="300">
<ol>
<li>후보키(Cadidate Key)</li>
</ol>
<ul>
<li>릴레이션을 구성하는 속성들 중에서 튜블을 <strong>유일하게 식별할 수 있는 속성들의 부분집합을 의미한다.</strong></li>
<li>모든 릴레이션은 반드시 하나 이상의 후보키를 가져야한다.</li>
<li>릴레이션에 있는 모든 튜플에 대해서 유일성과 최소성을 만족시켜야 한다.</li>
</ul>
<p>ex) &lt;학생&gt; 릴레이션에서 '학번’이나 '주민번호’는 다른 레코드를 유일하게 구별할 수 있는 기본키로 사용할 수 있으므로 후보키가 될 수 있다. 즉, 기본키가 될 수 있는 키들을 후보키라고 한다.</p>
<ol start="2">
<li>기본키(Primary Key)</li>
</ol>
<ul>
<li>후보키 중에서 선택한 주키(Main key)</li>
<li>한 릴레이션에서 <strong>특정 튜플을 유일하게 구별할 수 있는 속성</strong></li>
<li><strong>Null 값을 가질 수 없다.</strong>(개체 무결성의 첫 번째 조건)</li>
<li>기본 키로 정의된 속성에는 <strong>동일한 값이 중복되어 저장될 수 없다.</strong>(개체 무결성의 두 번째 조건)</li>
</ul>
<p>ex) &lt;학생&gt; 릴레이션에서는 '학번’이나 '주민번호’기 기본키가 될 수 있고, &lt;수강&gt; 릴레이션에서는 ‘학번’+'과목명’으로 조합해야 기본키가 만들어 질 수 있다. 왜냐하면 &lt;수강&gt; 릴렝션에서는 ‘학번’ 속성과 ‘과목명’ 속성은 개별적으로 기본키로 사용할 수 없다. 다른 튜플들과 구별되지 않기 때문이다.</p>
<p>1004 학번을 가진 학생이 영어와 전산 과목을 수강하고 있다고 하면 학번만으로는 특정 튜플을 유일하게 구별할 수 없다. 그리고 영어 과목을 수강하는 학생들은 한명이 아니라 여러 명이 될 수 있기 때문에 유일하게 구별할 수 없다.</p>
<ol start="3">
<li>대체키(Alternate Key)</li>
</ol>
<ul>
<li><strong>후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키들을 말한다.</strong></li>
<li>보조키라고도 한다.</li>
</ul>
<p>ex) &lt;학생&gt; 릴레이션에서 '학번’을 기본키로 정의하면 '주민번호’는 대체키가 된다.</p>
<ol start="4">
<li>슈퍼키(Super Key)</li>
</ol>
<ul>
<li><strong>슈퍼키는 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키</strong>로서 릴레이션을 구성하는 모든 튜플 중 슈퍼키로 구성된 속성의 집합과 동일한 값은 나타내지 않는다.</li>
<li>릴레이션을 구성하는 모든 튜플에 대해 <strong>유일성은 만족하지만, 최소성은 만족시키지 못한다.</strong></li>
</ul>
<p>ex) &lt;학생&gt; 릴레이션에서는 ‘학번’, ‘주민번호’, ‘학번’+‘주민번호’+‘성명’ 등으로 슈퍼키를 구성할 수 있다. 또한, 여기서 최소성을 만족시키지 못한다는 말은 ‘학번’+‘주민번호’+'성명’가 슈퍼키인 경우 3개의 속성 조합을 통해 다른 튜플과 구별이 가능하지만, ‘성명’ 단독적으로 슈퍼키를 사용했을 때는 구별이 가능하지 않기 때문에 최소성을 만족시키지 못한다.</p>
<p>즉, 뭉쳤을 경우 유일성이 생기고, 흩어지면 몇몇 속성들은 독단적으로 유일성 있는 키로 사용할 수 없다. 이것을 최소성을 만족하지 못한다고 한다.</p>
<ol start="5">
<li>외래키(Foreign Key)</li>
</ol>
<ul>
<li>관계(Relation)를 맺고 있는 릴레이션 R1, R2에서 릴레이션 R1이 참조하고 있는 릴레이션 R2의 기본키와 같은 R1 릴레이션의 속성이다.</li>
<li>외래키는 <strong>참조되는 릴레이션의 기본키와 대응되어 릴레이션 간에 참조 관계를 표현하는데 중요한 도구</strong>로 사용된다.</li>
<li><strong>외래키로 지정되면 참조하는 테이블의 기본키에 없는 값은 입력할 수 없다.</strong>(참조 무결성 조건)</li>
</ul>
<p>ex) &lt;수강&gt; 릴레이션이 &lt;학생&gt; 릴레이션을 참조하고 있으므로 &lt;학생&gt; 릴레이션의 '학번’은 기본키이고, &lt;수강&gt; 릴레이션의 '학번’은 외래키이다.<br>
즉, 각 릴레이션의 입장에서 속성은 기본키가 되기도 하고, 외래키가 되기도 한다.</p>
<p>ex) &lt;수강&gt; 릴레이션의 '학번’에는 &lt;학생&gt; 릴레이션의 '학번’에 없는 값은 입력할 수 없다.</p>
<h2 id="쿼리-문법의-세-종류와-각-문법">쿼리 문법의 세 종류와 각 문법</h2>
<p><strong>SQL</strong>(Structured Query Language)</p>
<ul>
<li>관계형 데이터베이스에서 사용하는 표준 질이 언어를 말한다.</li>
<li>사용 방법이나 문법이 다른 언어(Java, C, C#)보다 단순하다.</li>
<li>모든 DBMS에서 사용 가능하다.</li>
<li>인터프리터 언어</li>
<li>대소문자를 구별하지 않는다.</li>
</ul>
<ol>
<li>데이터 정의 언어(DDL)</li>
</ol>
<ul>
<li>데이터베이스 검색, 등록, 삭제, 갱신을 하기 위해 사용하는 데이터베이스 언어</li>
<li>데이터베이스의 검색 및 업데이트 등 데이터 조작을 위해 사용</li>
<li>데이터베이스의 스키마를 정의, 생성, 수정하는 기능</li>
<li>테이블 생성, 컬럼 추가, 타입 변경, 각종 제약조건 지정, 수정 등</li>
</ul>
<table>
<thead>
<tr>
<th>SQL문</th>
<th>내용</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>create</code></td>
<td>데이터베이스 객체를 생성</td>
</tr>
<tr>
<td><code>drop</code></td>
<td>데이터베이스 객체를 삭제</td>
</tr>
<tr>
<td><code>alter</code></td>
<td>기존에 존재하는 데이터베이스 객체를 다시 정의</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>데이터 조작 언어(DML)</li>
</ol>
<ul>
<li>관계형 데이터베이스의 구조를 정의한다.</li>
<li>쌍, 속성, 관계 인덱스 파일 위치 등 데이터베이스 고유의 특성을 포함한다.</li>
<li>데이터베이스의 테이블에 있는 내용을 직접 조작하는 기능</li>
<li>테이블의 레코드(튜플)을 CRUD(Create, Retrieve, Update, Delete)</li>
</ul>
<table>
<thead>
<tr>
<th>SQL문</th>
<th>내용</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>insert</code></td>
<td>데이터베이스 객체에 데이터를 입력</td>
</tr>
<tr>
<td><code>delete</code></td>
<td>데이터베이스 객체에 데이터를 삭제</td>
</tr>
<tr>
<td><code>update</code></td>
<td>데이터베이스 객체 안의 데이터 수정</td>
</tr>
<tr>
<td><code>select</code></td>
<td>데이터베이스 객체 안의 데이터 조회</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>데이터 제어 언어(DCL)</li>
</ol>
<ul>
<li>데이터베이스에서 데이터에 대한 액세스를 제어하기 위한 데이터베이스 언어 또는 데이터베이스 언어 요소</li>
<li>박탈, 연결, 권한 부여, 질의, 자료 삽입, 갱신, 삭제 등</li>
<li>데이터베이스의 테이블에 접근 권한이나 CRUD 권한을 정의하는 기능</li>
<li>특정 사용자에게 테이블의 조회권한 허가 / 금지 등</li>
</ul>
<table>
<thead>
<tr>
<th>SQL문</th>
<th>내용</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>grant</code></td>
<td>데이터베이스 객체에 권한을 부여</td>
</tr>
<tr>
<td><code>revoke</code></td>
<td>이미 부여된 데이터베이스 객체 권한을 취소</td>
</tr>
</tbody>
</table>
<h2 id="crud">CRUD</h2>
<p>CRUD(Create, Retrieve, Update, Delete)</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>조작</th>
<th>SQL</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>create</code></td>
<td>생성</td>
<td>insert</td>
</tr>
<tr>
<td><code>read(retrieve)</code></td>
<td>읽기(인출)</td>
<td>select</td>
</tr>
<tr>
<td><code>update</code></td>
<td>갱신</td>
<td>update</td>
</tr>
<tr>
<td><code>delete</code></td>
<td>삭제</td>
<td>delete</td>
</tr>
</tbody>
</table>
<ul>
<li>Create : 데이터베이스 객체 생성
<ul>
<li>insert into</li>
<li>새로운 레코드를 추가</li>
</ul>
</li>
<li>Update : 데이터베이스 객체 안의 데이터를 수정
<ul>
<li>update</li>
<li>특정 조건의 레코드의 컬럼 값을 수정</li>
</ul>
</li>
<li>Delete : 데이터베이스 객체의 데이터 삭제
<ul>
<li>delete</li>
<li>특정 조건의 레코드를 삭제</li>
</ul>
</li>
<li>Retrieve : 데이터베이스 객체 안의 데이터 검색
<ul>
<li>select</li>
<li>조건을 만족하는 레코드를 찾아 특정 컬럼 값을 표시(모두 표시 : *)</li>
</ul>
</li>
</ul>
<h2 id="예제">예제</h2>
<p><strong>1.select 명령문</strong><br>
SELECT 컬럼명 FROM 테이블명 WHERE 조건절;</p>
<p>ex)</p>
<ul>
<li>
<p>Q : 국가 코드가 'KOR’으로 되어 있는 도시의 이름을 구하시오.</p>
</li>
<li>
<p>A : SELECT Name FROM City WHERE CountryCode=‘KOR’;</p>
</li>
<li>
<p>Q : 인구가 500만 이상인 도시들의 이름을 구하시오</p>
</li>
<li>
<p>A : SELECT Name FROM City WHERE Population &gt; 5000000;</p>
</li>
</ul>
<p><strong>2. insert into 명령문</strong><br>
INSERT INTO 테이블명(컬럼명) VALUES(값);</p>
<p>ex)</p>
<p><code>주의</code> : 각각의 필드와 대응 시켜줘서 insert를 시켜주어야 한다.</p>
<p>INSERT INTO City (ID, Name, CountryCode, District, Population) values (10000, “Sample”, “KOR”, “Seoul”, 1000000);</p>
<p><code>주의</code> : 아래의 경우에는 모든 컬럼 값들이 일일히 필드와 대응되면 생략이 가능하다.</p>
<p>INSERT INTO City values(20000, &quot;SampleTest<br>
, “KOR”, “Busan”, 2000000);</p>
<p>결과 확인</p>
<p>// ID가 20000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 20000;<br>
// ID가 20000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 10000;</p>
<p><strong>3. update 명령문</strong><br>
UPDATE 테이블명 SET 컬럼명=값, … WHERE 조건절;</p>
<p>ex)</p>
<p>// ID가 10000인 레코드의 name을 &quot;SampleUSA&quot;로 변경<br>
UPDATE City SET Name = “SampleUSA” WHERE ID = 10000;</p>
<p>결과 확인<br>
// ID가 10000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 10000;</p>
<p><strong>4. delete 명령문</strong><br>
DELETE FROM 테이블명 WHERE 조건절;</p>
<p>ex)</p>
<p>// ID가 20000이며 Population이 2000000인 레코드를 삭제<br>
DELETE FROM City WHERE (ID = 20000) AND (Population = 2000000);</p>
<p>// ID가 10000이며 Population이 1000000인 레코드를 삭제<br>
DELETE FROM City WHERE (ID = 10000) AND (Population = 1000000);</p>
<p>결과 확인</p>
<p>// ID가 10000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 10000;<br>
// ID가 20000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 20000;</p>
<h2 id="참고">참고</h2>
<ul>
<li><a href="https://limkydev.tistory.com/108" target="_blank" rel="noopener">[DataBase] 키(Key)의 개념 및 종류</a></li>
<li><a href="https://wkdtjsgur100.github.io/database-terms/" target="_blank" rel="noopener">데이터베이스 용어 및 기초 개념 정리(DBMS, Key관련 용어, 테이블 관련 용어 등)</a></li>
<li><a href="https://coding-factory.tistory.com/77" target="_blank" rel="noopener">[DB기초] DataBase 개념 및 용어 설명</a></li>
<li><a href="https://hojak99.tistory.com/327" target="_blank" rel="noopener">[DB] SQL 기초</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/01/30/DatabaseBasic/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/01/30/Android-What-is-ConstraintLayout/"
                            aria-label=": 9일차 [안드로이드] ConstraintLayout"
                        >
                            9일차 [안드로이드] ConstraintLayout
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-01-30T01:05:45+09:00">
	
		    Jan 30, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    
                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/01/30/Android-What-is-ConstraintLayout/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/01/29/Android-MpAndroidChart/"
                            aria-label=": 8일차 [안드로이드] MpAndroidChart"
                        >
                            8일차 [안드로이드] MpAndroidChart
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-01-29T15:57:06+09:00">
	
		    Jan 29, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>MpAndroidChart는 그래프 라이브러리 중 하나이다. 가장 널리 알려져 있고, Github의 star가 가장 많은 그래프 라이브러리이다. 라이브러리를 선택할 때 중요하게 생각해야 할 점 중의 하나로는 <code>star</code>가 많은 것을 선택하라고 한다. 그 이유는 star가 많은 것은 그만큼 오픈 소스 라이브러리 활동이 활발하여 오류에 대한 수정이나 기능 추가 같은 활동들이 활발하기 때문이라고 한다. 그래서 나는 안드로이드에서 그래프를 그리기 위해 <strong>MpAndroidChart</strong> 라이브러리를 사용했다.</p>
<h2 id="종류">종류</h2>
<p>종류는 Github에서도 확인할 수 있듯이 엄청 다양하다. 그 중에서 나는 <strong>LineChart</strong>를 이용해서 원하는 데이터를 표현하려고 했다. 한국말로는 꺾은선 그래프라고도 하며, 이를 이용해서 데이터를 간단하게 표시할 수 있다.</p>
<p>LineaChart 말고도 다양한 그래프들이 존재한다. 예를 들면, BarChart, PieChart 등등이 있다.</p>
<h2 id="삽질-후기">삽질 후기</h2>
<p>그렇다면 내가 원하는 데이터를 그래프에 표시하기 위해서 삽질했던 후기를 정리하고자 한다.</p>
<p>##1. 데이터 생성**</p>
<p>그래프에서 표현하고자 하는 데이터를 생성해야 한다. 데이터는 <strong>Entry</strong>라고 하는 라이브러리에서 제공하는 타입으로 만들면 된다. 기본적으로 x, y의 Float(실수)형 데이터를 넣어서 만들 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Entry&gt; entires = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">entries.add(<span class="keyword">new</span> Entry(<span class="number">0</span>,<span class="number">1f</span>));</span><br><span class="line">entries.add(<span class="keyword">new</span> Entry(<span class="number">1</span>,<span class="number">2f</span>));</span><br><span class="line">entries.add(<span class="keyword">new</span> Entry(<span class="number">2</span>,<span class="number">3f</span>));</span><br><span class="line">entries.add(<span class="keyword">new</span> Entry(<span class="number">3</span>,<span class="number">4f</span>));</span><br></pre></td></tr></table></figure>
<ul>
<li>entries를 이용해 LineDataSet을 생성한다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">LineDataSet lineDataSet = <span class="keyword">new</span> LineDataSet(entries, <span class="string">"Emotion"</span>);</span><br><span class="line"><span class="comment">// entries와 지정할 label을 생성자에 넘겨준다.</span></span><br><span class="line"></span><br><span class="line">lineDataSet.setLineWidth(<span class="number">2</span>); <span class="comment">// 선 굵기</span></span><br><span class="line">lineDataSet.setCircleRadius(<span class="number">6</span>); <span class="comment">// 곡률</span></span><br><span class="line">lineDataSet.setCircleColor(ContextCompat.getColor(mContext, R.color.graphColor)); <span class="comment">// LineChart에서 Line Circle Color 설정</span></span><br><span class="line">lineDataSet.setCircleHoleColor(ContextCompat.getColor(mContext, R.color.graphColor)); <span class="comment">// LineChart에서 Line Hole Circle Color 설정</span></span><br><span class="line">lineDataSet.setColor(ContextCompat.getColor(mContext, R.color.graphColor)); <span class="comment">// LineChart에서 Line Color 설정</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 그리고 기타 설정 등도 할 수 있다.</span></span><br></pre></td></tr></table></figure>
<ul>
<li>LineDataSet을 담는 LineData를 만들어준다. 여러 개의 라인 데이터가 들어갈 수 있다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">LineData lineData = <span class="keyword">new</span> LineData(lineDataSet);</span><br><span class="line"><span class="comment">// 라인 데이터의 텍스트 컬러 / 사이즈를 설정할 수 있다.</span></span><br><span class="line"><span class="comment">// 물론 나는 사용하지 않았다.</span></span><br><span class="line">lineData.setValueTextColor(ContextCompat.getColor(getContext(), R.color.black));</span><br><span class="line">lineData.setValueTextSize(<span class="number">9</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>또한, 추가적으로 x축, y축에 대한 label과 텍스트, 갯수 등을 설정할 수 있다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// x축 설정</span></span><br><span class="line">view.setLineData(lineData);</span><br><span class="line">xAxis = view.getXAxis(); <span class="comment">// x축에 대한 정보를 View로부터 받아온다.</span></span><br><span class="line">xAxis.setPosition(XAxis.XAxisPosition.BOTTOM); <span class="comment">// x축 표시에 대한 위치 설정으로 아래쪽에 위치시킨다.</span></span><br><span class="line">xAxis.setTextColor(R.color.black); <span class="comment">// x축 텍스트 컬러 설정</span></span><br></pre></td></tr></table></figure>
<ul>
<li>y축에 대한 설정은 왼쪽과 오른쪽 따로 제공하고 있기 때문에 각각 가져와서 사용하지 않는 방향은 비활성화 하는 것이 좋다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// y축 설정</span></span><br><span class="line"></span><br><span class="line">yLAxis = view.getYLeftAxis(); <span class="comment">// y축 왼쪽 데이터 가져오기.</span></span><br><span class="line">yLAxis.setTextColor(R.color.black); <span class="comment">// y축 텍스트 컬러 설정</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// y축 오른쪽 비활성화</span></span><br><span class="line">yRAxis = view.getYRightAxis();</span><br><span class="line">yRAxis.setDrawLabels(<span class="keyword">false</span>);</span><br><span class="line">yRAxis.setDrawAxisLine(<span class="keyword">false</span>);</span><br><span class="line">yRAxis.setDrawGridLines(<span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>위에는 기본적인 설정과 같다. 그리고 구글에 검색하면 쉽게 찾아볼 수 있는 글이다. 이제 x축과 y축을 사용하고 싶은 데이터로 custom하게 사용하는 방법을 정리하려고 한다.</li>
<li>먼저, x축에 내가 원하는 요일들을 설정하기 위해서 아래와 같은 클래스를 만들어준다. IAxisValueFormatter 인터페이스를 구현한다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GraphAxisValueFormatter</span> <span class="keyword">implements</span> <span class="title">IAxisValueFormatter</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String[] mValues;</span><br><span class="line">    <span class="comment">// 생성자 초기화</span></span><br><span class="line">    GraphAxisValueFormatter(String[] values)&#123;</span><br><span class="line">        <span class="keyword">this</span>.values = values;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFormattedValue</span><span class="params">(<span class="keyword">float</span> value, AxisBase axis)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mValues[(<span class="keyword">int</span>) value];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>위와 같은 클래스를 만든다. 그리고 아래와 같이 custom 클래스를 지정하여줌으로써 x축의 데이터를 재가공한다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xAxis.setValueFormatter(<span class="keyword">new</span> GraphAxisValueFormatter(mDays));</span><br><span class="line"><span class="comment">// mDays는 요일을 가지고 있는 String 배열</span></span><br></pre></td></tr></table></figure>
<ul>
<li>그렇다면 y축의 데이터를 재가공하기 위해서는 어떻게 하면될까?? 방법은 x축과 똑같다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GraphYAxisValueFormatter</span> <span class="keyword">implements</span> <span class="title">IAxisValueFormatter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String[] mEmojis;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 생성자 초기화</span></span><br><span class="line">    GraphYAxisValueFormatter(String[] values) &#123;</span><br><span class="line">        <span class="keyword">this</span>.mEmojis = values;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFormattedValue</span><span class="params">(<span class="keyword">float</span> value, AxisBase axis)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mEmojis[(<span class="keyword">int</span>) value];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>y축의 데이터를 재가공하기 위해서 custom하게 만든 클래스를 지정하면 된다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yLAxis.setValueFormatter(<span class="keyword">new</span> GraphYAxisValueFormatter(mEmojis));</span><br><span class="line"><span class="comment">// mEmojis는 이모지를 가지고 있는 배열</span></span><br></pre></td></tr></table></figure>
<p><strong>2. y축 데이터 재가공</strong></p>
<ol>
<li>
<p>y축에 icon 삽입<br>
y축의 데이터를 재가공 하기 위해서 일단 y축의 이미지를 넣어야 한다는 생각으로 접근을 했다. 그래서 구글링을 통해서 MpAndroidChart에 이미지 혹은 icon을 삽입한 그래프를 찾아보았다. 일단, LineChart는 찾아볼 수 없었고, BarChart, PieChart에서는 손가락 안에 꼽을 수 있을 정도로 발견할 수 있었다.</p>
</li>
<li>
<p>라이브러리 커스텀<br>
그래서 라이브러리를 파헤쳐서 커스텀을 해보자는 마음을 먹었다. (어리석은 생각이었다.) 그래서 BarChart를 통해 이미지를 넣은 것을 보고 이를 토대로 LineChart를 커스텀하기로 마음을 먹었지만, LineChart에서는 이미지를 그릴 수 있는 메소드를 찾지 못했다.</p>
</li>
<li>
<p>y축 데이터에 이모지에 대한 유니코드 삽입<br>
두 개의 방법이 실패하고 제일 처음 생각했지만, 위에서 언급하지 않았던 방법인 이모지에 대한 유니코드 값을 넣어서 간단하게 구현해보는 방법이다. 처음에 이모지에 대한 유니코드를 넣어서 확인해보았는데, 적용이 되지 않아서 실패라고 생각을 했었다. 하지만, 갓자이너 여자친구의 도움으로 다른 사이트를 알았다.</p>
</li>
</ol>
<p>이 사이트에서 이모지에 대한 유니코드 값을 얻어서 그래프의 y축에 데이터를 재가공하였더니 이모지가 정상적으로 들어가는 것을 확인할 수 있었다. :)</p>
<p><strong>3. 중복과 간격 문제</strong></p>
<p>위의 2번까지의 과정을 해결하고 나니 내가 원하는 데이터로 재가공하여 그래프를 표현할 수 있게 되었다. 하지만, y축의 이모지 데이터가 중복해서 나오는 현상을 마주하게 되었다…</p>
<p>이 문제는 도대체 왜 그러는 것일까라는 의문을 가지고 구글링을 하고 커스텀을 위한 Class에서 return 하기 전에 로그 값을 찍는데 value가 float이라서 <strong>int</strong>로 캐스팅하는 과정에서 값이 손실되어서 같은 인덱스가 여러 번 참조되어 중복되는 것이라고 판단을 하게 되었다.</p>
<p>그래서 이를 해결할 수 있는 방법이 무엇이 있을까 생각해보고 이 라이브러이의 <code>issue</code> 탭에서 실마리를 찾아보고자 했다. 아니나 다를까 비슷한 문제를 직면한 사람을 찾을 수 있었다. 또한, 이에 대한 답변도 존재했다.</p>
<p>답변은 다음과 같았다. y축의 Max / Min 값을 지정하고 증가 간격(세분성) 설정을 true로 지정하고 세분 간격을 1.0f로 설정해주었다. 그리고 빌드를 해보니 내가 원하는 것처럼 이모지가 하나씩 증가하면서 나타나는 것을 확인할 수 있었다.</p>
<h2 id="느낀점">느낀점</h2>
<p>외부 라이브러리를 사용할 때는 정말로 star가 많은 것을 사용하자. 분명 내가 직면한 문제를 먼저 경험한 개발자들이 있을 것이다. issue 탭에서 문제와 답을 찾을 수 있으니 포기는 휴지통에 버리자.</p>
<h2 id="참고">참고</h2>
<ul>
<li><a href=""></a></li>
<li><a href=""></a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/01/29/Android-MpAndroidChart/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/01/26/Java-Singleton-Pattern/"
                            aria-label=": [Java] Java에서의 Singleton"
                        >
                            [Java] Java에서의 Singleton
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-01-26T12:52:38+09:00">
	
		    Jan 26, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Java/">Java</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>자바에서 싱글톤 패턴을 구현하는 여러가지 방식에 대해 알아보려고 한다.</p>
                    
                        <a
                            href="/2019/01/26/Java-Singleton-Pattern/"
                            class="postShorten-excerpt_link link"
                            aria-label=": [Java] Java에서의 Singleton"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
          <li class="pagination-prev">
            <a
                class="btn btn--default btn--small"
                href="/archives/archives/11/"
                aria-label="NEWER POSTS"
            >
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>NEWER POSTS</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a
                class="btn btn--default btn--small"
                href="/archives/archives/13/"
                aria-label="OLDER POSTS"
            >
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 12 of 26</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 VictoryWoo. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">VictoryWoo</h4>
        
            <div id="about-card-bio"><p>기록을 통해 사람들과 공유하는 것을 좋아합니다.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Android Developer</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/color_blue.jpeg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->





    </body>
</html>
