
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="VictoryWoo">
    <title>VictoryWoo</title>
    <meta name="author" content="VictoryWoo">
    
    
        <link rel="icon" href="https://woovictory.github.io/assets/images/develop.ico">
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"Website","@id":"https://woovictory.github.io","author":{"@type":"Person","name":"VictoryWoo","sameAs":["https://github.com/WooVictory","https://www.facebook.com/WooVictory","https://www.linkedin.com/profile/","jhsw0375@gmail.com"],"image":"Victory.jpeg"},"name":"VictoryWoo","description":"","url":"https://woovictory.github.io"}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="VictoryWoo">
<meta property="og:url" content="https://woovictory.github.io/archives/12/index.html">
<meta property="og:site_name" content="VictoryWoo">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="VictoryWoo">
    
    
        
    
    
        <meta property="og:image" content="https://woovictory.github.io/assets/images/Victory.jpeg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125410253-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-125410253-1');
    </script>


    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ "
            aria-label=""
        >
            VictoryWoo
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">VictoryWoo</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기록을 통해 사람들과 공유하는 것을 좋아합니다.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/WooVictory"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.facebook.com/WooVictory"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/jhsw0375@gmail.com"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/03/24/Algo-Get-the-Prime/"
                            aria-label=": [소수 구하기] 에라토스테네스의 체"
                        >
                            [소수 구하기] 에라토스테네스의 체
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-03-24T14:09:02+09:00">
	
		    Mar 24, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/알고리즘/">알고리즘</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>소수를 구하는 방법은 여러가지가 있다. 하지만 시간이 덜 거리고 빠르게 찾을 수 있는 방법이 있다면 사람들은 그 방법을 사용하지 않을까? 맞다. 사람들은 짧은 시간이 걸리는 것을 선호한다. 세상의 공짜란 없듯이 짧은 시간이 걸리는 방법은 구현 방법이 기존보다는 조금 어렵다. 그렇다면 어떤 방법인지 알아보자.</p>
                    
                        <a
                            href="/2019/03/24/Algo-Get-the-Prime/"
                            class="postShorten-excerpt_link link"
                            aria-label=": [소수 구하기] 에라토스테네스의 체"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/03/23/Algo-Shell-Sort/"
                            aria-label=": [알고리즘] 정렬 알고리즘 Part2"
                        >
                            [알고리즘] 정렬 알고리즘 Part2
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-03-23T01:05:14+09:00">
	
		    Mar 23, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/알고리즘/">알고리즘</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>저번에 살펴봤던 기본적인 정렬 알고리즘에 이어 이번에는 조금 어려운 정렬 알고리즘을 살펴보자. 물론 이번 것도 어려운 것은 아니지만 상대적으로 비교해봤을 때 저번 정렬 알고리즘들보다 어렵다!</p>
                    
                        <a
                            href="/2019/03/23/Algo-Shell-Sort/"
                            class="postShorten-excerpt_link link"
                            aria-label=": [알고리즘] 정렬 알고리즘 Part2"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/03/20/Algo-Select-Sort/"
                            aria-label=": [정렬] 정렬 알고리즘 Part1"
                        >
                            [정렬] 정렬 알고리즘 Part1
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-03-20T17:04:04+09:00">
	
		    Mar 20, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/알고리즘/">알고리즘</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>정렬 알고리즘은 개발자 면접을 보기 위해서 꼭 필요한 내용이다.<br>
하나씩 정리해보고 숙지해보자.<br>
정렬 알고리즘은 다음과 같이 간단하게 나눠볼 수 있다.</p>
                    
                        <a
                            href="/2019/03/20/Algo-Select-Sort/"
                            class="postShorten-excerpt_link link"
                            aria-label=": [정렬] 정렬 알고리즘 Part1"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/03/02/2018-Review/"
                            aria-label=": [2018 회고]"
                        >
                            [2018 회고]
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-03-02T00:23:37+09:00">
	
		    Mar 02, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>2019년이 되고 3달이나 지났다. 회고라는 걸 해본 적이 없지만 지인의 회고를 보고 영감을 받아서 작성하겠다고 마음을 먹었다. 2018년은 나에게 힘들고 아프면서 많은 걸 경험하게 해줬다.<br>
이 회고는 내가 2018년 동안 <strong>어떤 걸 했고, 어떤 걸 느꼈는지 내가 내린 선택과 결과</strong>를 잊지 않기 위해 작성할 예정이다.<br>
그리고 2019년에는 <strong>어떤 마음 가짐과 목표를 세우고 달려나갈지 생각</strong>하기 위함이다.</p>
                    
                        <a
                            href="/2019/03/02/2018-Review/"
                            class="postShorten-excerpt_link link"
                            aria-label=": [2018 회고]"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/02/07/Java-Why-is-needed-primitive-type/"
                            aria-label=": [Java] Primitive Type"
                        >
                            [Java] Primitive Type
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-07T15:13:10+09:00">
	
		    Feb 07, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Java/">Java</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>자바로 프로젝트를 진행하고 있다. 하지만, 자바에 대한 개념이 약해서 예전에 정리했던 자료들을 보면서 익히고 있고 프로젝트를 하면서 어느정도 손에 익었다고 생각이 된다. 아직까지는 자바가 강세이긴 한 것 같다…ㅜ 조금 더 자바에 대해 공부하기 위해 <strong>이펙티브 자바</strong>책도 사서 공부해봐야겠다.</p>
                    
                        <a
                            href="/2019/02/07/Java-Why-is-needed-primitive-type/"
                            class="postShorten-excerpt_link link"
                            aria-label=": [Java] Primitive Type"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/02/07/Design-Pattern-Factory-Pattern/"
                            aria-label=": [Design Pattern] 팩토리 패턴"
                        >
                            [Design Pattern] 팩토리 패턴
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-07T11:41:13+09:00">
	
		    Feb 07, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Design-Pattern/">Design Pattern</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>신입 개발자를 위한 <a href="https://github.com/WooVictory/Ready-For-Tech-Interview" target="_blank" rel="noopener">Repository</a>를 만들었습니다. 공부한 내용을 정리 중이니 도움이 되신다면 와서 Star를 눌러주시면 감사하겠습니다.</p>
                    
                        <a
                            href="/2019/02/07/Design-Pattern-Factory-Pattern/"
                            class="postShorten-excerpt_link link"
                            aria-label=": [Design Pattern] 팩토리 패턴"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/02/06/Android-Why-is-Need-default-constructor-of-fragment/"
                            aria-label=": 17일차 [안드로이드] 프래그먼트에 대해"
                        >
                            17일차 [안드로이드] 프래그먼트에 대해
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-06T22:21:09+09:00">
	
		    Feb 06, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>안드로이드에서 <strong>Fragment</strong>는 거의 필수적으로 사용된다고 볼 수 있다. Activity 위에서 부분 화면을 나타내는데 Fragment는 아주 효율적으로 사용할 수 있다. 그렇다면 <strong>Fragment</strong>를 어떻게 만들어서 구현을 하는가에 대해서 생각해 볼 필요가 있을 것이다.</p>
<ul>
<li>일반적으로 나는 <strong>Fragment</strong>를 사용할 때 아래와 같이 코드를 작성하였다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup viewGroup, Bundle savedInstanceState)</span></span>&#123;</span><br><span class="line">        View view = inflater.from(viewGroup.context).inflate(R.layout.fragment_my.xml, viewGroup, <span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> view</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>위의 코드가 내가 지금까지 <strong>Fragment</strong>를 사용할 때 작성해왔던 코드이다. 하지만, 최근에 들어서 코드 리뷰를 통해서 이렇게 <strong>Fragment</strong>를 작성하는게 맞을까란 이야기를 들었다. 보통 관용적으로 <code>newInstance()</code>라는 함수를 사용해서 만들게 되는데 이것과 <code>기본 생성자</code>를 키워드로 찾아보라고 하셨다.</li>
</ul>
<h2 id="그래서-어떻게">그래서 어떻게?</h2>
<p>그래서 어떻게?라니 바로 키워드를 잡고 찾아보기 시작했다. 먼저, <code>newInstance()</code>라는 키워드를 가지고 찾아보니 생성자에 관한 이야기도 함께 설명하는 글을 꽤 찾을 수 있었다.</p>
<p><strong>Fragment</strong>를 만들 때는 생성자를 오버로딩 하지 않고 생성 시 필요한 파라미터가 생기면 <code>Bundle</code> 객체에 담아서 setArgument() 함수를 호출하는 방식을 사용하는 것이 일반적이다. 왜냐하면 안드로이드에 의해서 <strong>Fragment</strong>가 복원될 때는 Fragment의 기본 생성자를 호출하기 때문에 오버로딩된 생성자의 호출이 보장되지 않는다.</p>
<p>그렇기 때문에 아래와 같은 코드를 사용하며 이 코드는 관용적으로 Fragment를 생성할 때 사용하는 코드가 되었다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DetailsFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Create a new instance of DetailsFragment, initialized to</span></span><br><span class="line"><span class="comment">     * show the text at 'index'.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DetailsFragment <span class="title">newInstance</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        DetailsFragment f = <span class="keyword">new</span> DetailsFragment();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Supply index input as an argument.</span></span><br><span class="line">        Bundle args = <span class="keyword">new</span> Bundle();</span><br><span class="line">        args.putInt(<span class="string">"index"</span>, index);</span><br><span class="line">        f.setArguments(args);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getShownIndex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getArguments().getInt(<span class="string">"index"</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">            Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        TextView textView = <span class="keyword">new</span> TextView(getActivity());</span><br><span class="line">        text.setText(String.valueOf(getShownIndex()));</span><br><span class="line">        <span class="keyword">return</span> textView;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>생성자를 만들지 않거나, 기본 생성자를 만들고 아무짓도 하지 않는 것이다. 생성자를 명시하지 않는다면 Java는 자동적으로 기본 생성자를 만든다. 하지만, 기본 생성자를 명시하지 않고 오버로딩된 생성자만 명시하게 되면 <code>Fragment fragment = new Fragment();</code> 문장을 호출했을 때 에러를 겪게 된다. 그러니 기본 생성자를 사용하도록 하자.(대신 구현은 구현부는 비워놓는다.)</li>
<li>또한, 위에서 설명했던 것처럼 프래그먼트가 복구될 때는 기본 생성자를 호출하기 때문에 오버로딩된 생성자의 호출은 보장되지 않는다. 그래서 저장하거나 넘겨야 할 값이 존재한다면 <code>newInstance()</code> 함수에 파라미터로 전달하고 이 함수 안에서 Bundle 객체를 통해서 파라미터로 넘어온 값을 저장한다.</li>
<li>그리고 복원될 때는 <code>getArguments()</code> 함수를 통해서 값을 복원하면 된다.</li>
</ul>
<h2 id="참고">참고</h2>
<ul>
<li><a href="https://lanace.github.io/articles/why-do-not-use-arguments-in-fragment/" target="_blank" rel="noopener">왜 Fragment는 기본 생성자를 사용해야만 하는가?</a></li>
<li><a href="https://mrrays.tistory.com/921" target="_blank" rel="noopener">팩토리 메소드를 사용할 때 빈 기본 생성자가 필요한 이유</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/02/06/Android-Why-is-Need-default-constructor-of-fragment/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/02/04/Android-What-is-DataBinding-1/"
                            aria-label=": 13일차 [안드로이드] 데이터바인딩"
                        >
                            13일차 [안드로이드] 데이터바인딩
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-04T11:45:42+09:00">
	
		    Feb 04, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <ul>
<li>데이터바인딩은 우리의 일상을 편하게 해주었다. 그러면 어떤 것을 편하게 해주었는지 먼저 살펴보고 시작해보자.</li>
</ul>
<ol>
<li>데이터바인딩을 사용하면 <code>findViewById()</code>를 호출하지 않아도 자동으로 xml에 만든 View들을 만들어준다.</li>
<li>RecyclerView에 각각의 item을 set해주는 작업도 xml에서 다 써주면 알아서 값이 들어간다.</li>
<li>값이 바뀌면 알아서 바뀐 값으로 View를 변경하게 할 수도 있고 기타 등등 유용하게 활용 할만한게 많다.</li>
</ol>
<h2 id="서론">서론</h2>
<p>새로운 화면을 추가해야 한다. 그러면 안드로이드 스튜디오를 켜고 xml을 만들고 레이아웃 화면을 구성해야 한다.</p>
<p>다음과 같이 TextView 5개와 Button 1개, RecyclerView 1개가 있는 View를 만들어 보도록 하겠다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">              android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">              android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">              android:orientation=<span class="string">"vertical"</span>&gt;</span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        &gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText1"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText2"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText3"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText4"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/tvText5"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:id=<span class="string">"@+id/btnSample"</span></span><br><span class="line">            android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            android:text=<span class="string">"button"</span></span><br><span class="line">            /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line">    &lt;android.support.v7.widget.RecyclerView</span><br><span class="line">        android:id=<span class="string">"@+id/rcContent"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        /&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<p>xml을 만들었으니 Activity에서 View를 이어주는 작업을 해야한다. 아래와 같은 작업을 할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">TextView tvText1;</span><br><span class="line">TextView tvText2;</span><br><span class="line">TextView tvText3;</span><br><span class="line">TextView tvText4;</span><br><span class="line">TextView tvText5;</span><br><span class="line">Button btnSample;</span><br><span class="line"></span><br><span class="line">RecyclerView rcContent;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">setContentView(R.layout.basic_activity);</span><br><span class="line"></span><br><span class="line">tvText1 = (TextView) findViewById(R.id.tvText1);</span><br><span class="line">tvText2 = (TextView) findViewById(R.id.tvText2);</span><br><span class="line">tvText3 = (TextView) findViewById(R.id.tvText3);</span><br><span class="line">tvText4 = (TextView) findViewById(R.id.tvText4);</span><br><span class="line">tvText5 = (TextView) findViewById(R.id.tvText5);</span><br><span class="line">btnSample = (Button) findViewById(R.id.btnSample);</span><br><span class="line">rcContent = (RecyclerView) findViewById(R.id.rcContent);</span><br></pre></td></tr></table></figure>
<p>위의 작업을 할 경우 우리는 제일 먼저 <code>findViewById()</code> 노가다를 진행한다. 지금 만들려는 레이아웃은 몇 개 안되는 뷰이지만 만약 10개, 100개 그리고 그 이상이라면 그만큼 노가다 코드를 작성하게 될 것이다.</p>
<p>그래서 이러한 노가다 코드를 줄일 수 있도록 도와주는 라이브러리인 <strong>버터 나이프</strong>가 있다. 자바에서는 버터 나이프를 이용해서 노가다 코드를 줄일 수 있었고, 코틀린에서는 <code>Kotlin-extensions</code>를 이용해서 findViewById를 하지 않아도 xml의 id를 바로 객체화시켜서 Activity에서 사용할 수 있었다.</p>
<p>아래는 버터 나이프를 이용한 축약된 형태의 코드 모습이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BindView</span>(R.id.tvText1)</span><br><span class="line">TextView tvText1;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.tvText2)</span><br><span class="line">TextView tvText2;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.tvText3)</span><br><span class="line">TextView tvText3;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.tvText4)</span><br><span class="line">TextView tvText4;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.tvText5)</span><br><span class="line">TextView tvText5;</span><br><span class="line"><span class="meta">@BindView</span>(R.id.btnSample)</span><br><span class="line">Button btnSample;</span><br><span class="line"></span><br><span class="line"><span class="meta">@BindView</span>(R.id.rcContent)</span><br><span class="line">RecyclerView rcContent;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">setContentView(R.layout.butterknife_activity);</span><br><span class="line">ButterKnife.bind(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>하지만 <strong>데이터바인딩</strong>을 사용한다면 어떻게 될까???</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>위의 화면은 오류가 아니다. 따로 View를 정의하고 우리가 이어줄 필요가 없다는 것이다. <strong>Databinding</strong>을 사용한다면 우리는 아무 소스코드를 적지 않아소 Databinding이 알아서 다 해준다.</li>
</ul>
<p><strong>최소사항</strong></p>
<ul>
<li>Android 2.1(API 7) 이상</li>
<li>Android Plugin for Gradle 1.5.0-alpha 1 이상</li>
<li>Android Studio 1.3 이상</li>
</ul>
<p>아주 아주 아주 옛날의 환경으로 작업하고 있지 않는 이상 지금 쓰는 환경에서 무리 없이 바로 사용할 수 있다.</p>
<p><strong>설정</strong><br>
<img src="/img/databinding_setting.png" width="400" height="300"></p>
<ul>
<li>build.gradle(Module:app) 에서 위와 같이 enabled만 true로 설정해주면 끝난다.</li>
</ul>
<p><strong>xml</strong></p>
<ul>
<li>Databinding을 사용하기 위해서는 xml의 최상위에 <layout> 태그를 감싸준다.</layout></li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line"></span><br><span class="line">&lt;layout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;data&gt;</span><br><span class="line">        &lt;variable</span><br><span class="line">            name=<span class="string">"activity"</span></span><br><span class="line">            type=<span class="string">"app.woovictory.databindingsample.MainActivity"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/data&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.constraint.ConstraintLayout</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">        tools:context=<span class="string">".MainActivity"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            android:text=<span class="string">"Hello World!"</span></span><br><span class="line">            app:layout_constraintBottom_toBottomOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintLeft_toLeftOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintRight_toRightOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintTop_toTopOf=<span class="string">"parent"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/android.support.constraint.ConstraintLayout&gt;</span><br><span class="line"></span><br><span class="line">&lt;/layout&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Java</strong></p>
<ul>
<li>Activity에서 항상 해주던 setContentView() 대신에 **DatabindingUtil.setContentView()**를 이용해서 layout xml을 이어준다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ActivityMainBinding binding;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">binding = DataBindingUtil.setContentView(<span class="keyword">this</span>, R.layout.databinding_activity);</span><br><span class="line">binding.setActivity(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>xml의 파일 이름을 기준으로 ~~~Binding 클래스가 새로 생성된다.</li>
<li>여기서는 xml의 이름이 activity_main.xml이기 때문에 ActivityMainBinding 클래스가 새로 생성되었다.</li>
<li>Binding 클래스 이름의 생성은 파스칼 표기법 기준으로 변경된다.</li>
<li>예를 들어, woo_activity.xml -&gt; WooActivityBinding 클래스를 생성시킨다.</li>
<li>그리고 xml에서 layout 태그 안에 <data></data> 태그 안에 <variable></variable> 태그를 추가하고 activity라는 변수 이름을 할당해주면 위에서와 같이 <code>binding.setActivity(this)</code>처럼 Activity와 xml을 이어줄 수 있다.</li>
</ul>
<p>View를 사용하고자 할 때는 binding 변수에서 아래와 같이 사용할 수 있다.</p>
<img src="/img/databinding_binding.png" width="400" height="300">
<ul>
<li>View의 이름은 카멜표기법 기준으로 변경된다.</li>
<li>@+id/tv1_text 의 뷰는 tv1Text으로 이름이 변경되어 사용할 수 있다.</li>
</ul>
<h2 id="click-event">Click Event</h2>
<ul>
<li>사용자가 어떤 버튼을 클릭하면 아래의 함수를 실행하도록 하려고 한다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onButtonClick</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">    Toast.makeText(<span class="keyword">this</span>, <span class="string">"Button Click"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>기본</strong></p>
<p>버튼에 <code>setOnClickListener()</code>를 달아서 클릭이벤트를 받아주도록 할 것이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//btnSample.setOnClickListener(this);</span></span><br><span class="line">btnSample.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">onButtonClick(view);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>위에 주석 처리된 것처럼 setOnClickListener(this)를 했다면 implements View.OnClickListener를 하고 함수를 오버라이드 하고 그 안에서 onButtonClick() 함수를 호출했을 것이다.</li>
</ul>
<p><strong>버터나이프</strong></p>
<ul>
<li>버터나이프에서는 @OnClick(<a href="http://R.id.xxx" target="_blank" rel="noopener">R.id.xxx</a>)만 함수에 넣어주면 된다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnClick</span>(R.id.btnSample)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onButtonClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">Toast.makeText(<span class="keyword">this</span>, <span class="string">"Button Click"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>버터 나이프는 아주 간단하게 이벤트를 처리할 수 있다.</li>
</ul>
<p><strong>데이터바인딩</strong></p>
<ul>
<li>데이터바인딩은 xml에서 클릭되면 실행하고자 하는 함수를 지정해준다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button</span><br><span class="line">    android:id=<span class="string">"@+id/btn2"</span></span><br><span class="line">    android:onClick=<span class="string">"@&#123;activity.onButtonClick2&#125;"</span></span><br><span class="line">    android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">    android:layout_height=<span class="string">"wrap_content"</span> /&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>위에서는 android:onClick 에서 activity라는 곳에 있는 onButtonClick2() 함수를 실행하도록 설정해두었다.</li>
<li>여기서 activity라는 것은 xml에서 선언해 둔 변수를 가리킨다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;layout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;data&gt;</span><br><span class="line">        &lt;variable</span><br><span class="line">            name=<span class="string">"activity"</span></span><br><span class="line">            type=<span class="string">"app.woovictory.databindingsample.MainActivity"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/data&gt;</span><br><span class="line">    <span class="comment">// 생략</span></span><br></pre></td></tr></table></figure>
<ul>
<li>xml에서 <data> 태그를 이용해서 그 안에서 각각 사용하고자 하는 변수를 <variable> 태그를 이용해서 정의해주면 사용할 수 있다.</variable></data></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">BaseActivity</span>&lt;<span class="title">ActivityMainBinding</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">        binding.setActivity(MainActivity.<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onButtonClick2</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">        Toast.makeText(<span class="keyword">this</span>, <span class="string">"Click222"</span>,Toast.LENGTH_LONG).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>위의 예제는 데이터바인딩을 수행하는 부분을 BaseActivity로 빼두어서 설정하는 코드가 보이지 않는다. 하지만, 바인딩 하는 부분이 수행된다.</li>
<li>Java 파일에서는 이 변수가 어떤 값을 넣어줄건지 지정해주어야 한다.</li>
<li>setActivity() 함수는 자동으로 생성된 함수이다. 우리가 <strong>xml에서 activity라는 변수를 만들었다면 자동으로 setActivity()가 생성되어서</strong> binding.setActivity(this) 처럼 사용할 수 있는 것이다.</li>
<li>setActivity(this)가 xml에서의 activity라는 변수를 이 Class로 지정하겠다는 의미인 것이다. 즉, xml의 activity 변수는 MainActivity Class와 연결되고 MainActivity의 변수 혹은 함수를 참조할 수 있음을 의미한다.</li>
</ul>
<p>MVP 패턴을 사용한다면 presenter를, MVVM 패턴을 사용한다면 ViewModel을 활용해서 클릭 이벤트에 맞는 동작을 수행하도록 지정하면 된다. <code>이에 대한 나의 생각은 조금 다르다.</code> MVP 패턴은 View에서 발생한 이벤트를 Presenter에게 위임하여 View는 단순히 View 그 자체를 그리는 것에만 초점을 맞추어 관심사를 분리한 것으로 볼 수 있다. View에서 발생한 이벤트 혹은 요청한 이벤트가 데이터를 불러오거나 가공하는 로직이 포함된다면 Presenter에게 위임하여 처리하는 것이 맞다고 생각을 한다.</p>
<p>그리고 View에서 발생한 이벤트가 단순히 화면 전환과 같은 이벤트라면 View에서 처리해도 마땅하다고 생각을 한다.</p>
<p>함수 이름을 지정할 때 기존에는 @{activity.함수이름()}으로 해도 문제가 없었지만 언젠가부터 이 방법은 deprecated 되었다고 나온다고 한다. 그래서 @{activity::함수이름()}으로 사용하도록 구글 문서에서 안내하고 있다.</p>
<h2 id="recyclerview-리스트">RecyclerView 리스트</h2>
<p>그렇다면 이제 RecyclerView를 이용해서 리스트 목록을 만드는 작업을 해보려고 한다. 기본적으로 1:1 카카오톡의 채팅방과 같이 사용자의 사진, 이름, 그리고 여기서는 나이로 구성되어 있는 화면을 만들어보겠다. 먼저, item을 구성하는 xml을 정의해야 한다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:padding</span>=<span class="string">"8dp"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">de.hdodenhof.circleimageview.CircleImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/ivProfile"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"40dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"40dp"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginLeft</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tvName"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tvAge"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"8dp"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>또한, 리스트에서 쓰일 사용자 User 클래스도 생성해준다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> app.woovictory.databindingsample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    String imageUrl;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String name, <span class="keyword">int</span> age, String imageUrl)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.imageUrl = imageUrl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getImageUrl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> imageUrl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>실제로는 서버에서 사용자의 목록을 받아오겠지만 여기서는 샘플 데이터를 이용해서 활용할 수 있도록 구성한다.</li>
</ul>
<h3 id="viewholder">ViewHolder</h3>
<ul>
<li>각각의 item view를 보여주기 위해서 ViewHolder에서 View를 만들어주는 작업을 한다.</li>
</ul>
<p><strong>기본</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    TextView tvName;</span><br><span class="line">    TextView tvAge;</span><br><span class="line">    ImageView ivProfile;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(itemView);</span><br><span class="line">        tvName = (TextView) itemView.findViewById(R.id.tvName);</span><br><span class="line">        tvAge = (TextView) itemView.findViewById(R.id.tvAge);</span><br><span class="line">        ivProfile = (ImageView) itemView.findViewById(R.id.ivProfile);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>버터나이프</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BindView</span>(R.id.tvName)</span><br><span class="line">    TextView tvName;</span><br><span class="line">    <span class="meta">@BindView</span>(R.id.tvAge)</span><br><span class="line">    TextView tvAge;</span><br><span class="line">    <span class="meta">@BindView</span>(R.id.ivProfile)</span><br><span class="line">    ImageView ivProfile;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(itemView);</span><br><span class="line">        ButterKnife.bind(<span class="keyword">this</span>,itemView);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>데이터바인딩</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    DatabindingItemBinding binding;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(itemView);</span><br><span class="line">        binding = DataBindingUtil.bind(itemView);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>위에서 순서대로 기본 -&gt; 버터 나이프 -&gt; 데이터바인딩을 차례대로 살펴보면 코드의 길이가 짧아지는 것을 확인할 수 있다. 그렇다. 데이터바인딩을 사용하면 개발자가 작성해야 할 코드의 양이 줄어든다!!</li>
</ul>
<h3 id="item-세팅">item 세팅</h3>
<ul>
<li>onBindView() 함수에서 각각의 position에 맞는 User 클래스의 내용에 따라 뷰의 내용을 넣어주는 작업을 해준다.</li>
</ul>
<p><strong>기본/버터나이프</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindView</span><span class="params">(UserViewHolder holder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    User user = getItem(position);</span><br><span class="line"></span><br><span class="line">    String name = user.getName();</span><br><span class="line">    holder.tvName.setText(name);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> age = user.getAge();</span><br><span class="line">    holder.tvAge.setText(Integer.toString(age));</span><br><span class="line"></span><br><span class="line">    String imgUrl=user.getImgUrl();</span><br><span class="line">    ImageUtil.loadImage(holder.ivProfile,imgUrl, ContextCompat.getDrawable(getContext(),R.drawable.no_pic));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>데이터바인딩</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindView</span><span class="params">(UserViewHolder holder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    User user = getItem(position);</span><br><span class="line">    holder.binding.setUser(user);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>원래는 기본이나 혹은 버터나이프에서는 각각의 holder의 view에 사용자 정보를 넣어주는 작업을 해주었지만 데이터바인딩에서는 그럴 필요가 없다.</li>
<li><code>setUser()</code> 라는 함수를 보고 유추해 볼 수 있다. item_user.xml에서 user라는 변수를 만들어주었고, 그 변수에 setUser()라는 데이터바인딩에 의해서 생성된 함수를 통해서 position에 따른 user 객체를 할당해준다는 것을 알 수 있다.</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">layout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">data</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">variable</span></span></span><br><span class="line"><span class="tag">            <span class="attr">name</span>=<span class="string">"user"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">type</span>=<span class="string">"app.woovictory.databindingsample.User"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>onBindView()에서 값을 넣어주는 대신에 setUser()를 통해서 User 객체를 user 변수에 할당해준다. 그리고 데이터바인딩을 통해서 xml에서 값을 넣어준다.</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/tvName"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"@&#123;user.name&#125;"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/tvAge"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"@&#123;Interger.toString(user.age)&#125;"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_marginTop</span>=<span class="string">"8dp"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>android:text에 @{user.필드이름}을 넣어주는 것만으로 user의 정보를 가져와서 다시 TextView에 넣어주는 작업을 해 줄 필요가 없는 것이다.</li>
</ul>
<h3 id="bindingadapter">@BindingAdapter</h3>
<p>그런데 여기서 드는 의문이 하나 있다. User 정보 중에 imageUrl이라는 필드는 “<a href="http://~~~.png" target="_blank" rel="noopener">http://~~~.png</a>” 처럼 이미지가 저장되어 있는 주소 값으로 되어 있다. 이 값을 TextView에 넣는다면 이미지 url만 출력되는 원하지 않는 결과를 볼 것이다.</p>
<p>이럴 때 BindingAdapter를 사용하면 해결할 수 있다. 어노테이션으로 <code>@BindingAdapter</code>와 같이 정의해준다. 나는 이미지를 Setting하기 위해서 다음과 같이 정의한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BindingAdapter</span>(<span class="string">"app:imageUrl"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">loadImage</span><span class="params">(ImageView imageView, String url)</span></span>&#123;</span><br><span class="line">    ImageUtil.loadImage(imageView, url);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>그러면 UserAdapter에서 onBindView() 함수가 binding.setUser(user)를 호출하면서 데이터바인딩 작업이 수행된다. 그리고 xml에서 정의한 다음의 문장을 수행하게 된다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">de.hdodenhof.circleimageview.CircleImageView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ivProfile"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"40dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">app:imageUrl</span>=<span class="string">"@&#123;user.imageUrl&#125;"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"40dp"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>그러면 xml에서 @BindingAdapter로 정의된 부분을 찾아서 해당 View의 id와 @{user.imageUrl} 을 가지고 @BindingAdapter가 정의된 함수의 파리미터로 값을 전달하게 된다.</li>
<li>loadImage 함수를 호출하면서 파라미터로 id와 user.imageUrl에 담긴 url 값을 넘긴다.</li>
</ul>
<p>+<code>@BindinAdapter</code>와 <code>@BindinConversion</code>은 유용하게 사용할 수 있다. 이와 관련된 내용은 추후 구글 공식 문서를 통해서 내용을 추가할 예정이다.<br>
+Observable</p>
<h2 id="참고">참고</h2>
<ul>
<li><a href="https://gun0912.tistory.com/71" target="_blank" rel="noopener">[안드로이드/Android]DataBinding - Goodbye 버터나이프 Hello 데이터바인딩[박상권의 삽질블로그]</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/02/04/Android-What-is-DataBinding-1/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/01/31/Android-AAC-Room/"
                            aria-label=": 11일차 [안드로이드] AAC - Room 실습"
                        >
                            11일차 [안드로이드] AAC - Room 실습
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-01-31T22:32:55+09:00">
	
		    Jan 31, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>Room은 Android Architecture Components(AAC) 중 하나이다. Room에 대해서 저번에 살펴봤지만, 헷갈리고 개념이 정립되어 있지 않아 다시 정리하려고 한다. 이번에는 개념적인 부분보다는 실제로 어떻게 사용을 할 수 있는지에 초점을 맞추려고 한다.</p>
                    
                        <a
                            href="/2019/01/31/Android-AAC-Room/"
                            class="postShorten-excerpt_link link"
                            aria-label=": 11일차 [안드로이드] AAC - Room 실습"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2019/01/30/DatabaseBasic/"
                            aria-label=": 10일차 [데이터베이스] 데이터베이스 기초 "
                        >
                            10일차 [데이터베이스] 데이터베이스 기초 
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-01-30T11:08:34+09:00">
	
		    Jan 30, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/데이터베이스/">데이터베이스</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>안드로이드에서 Room을 이용하면 내부 DB를 사용할 수 있고, 간단한 쿼리문도 사용할 수 있다. 여기까지는 문제가 없는데, 내가 서버, DB 용어와 개념을 몰라서 이해가 잘 안간다. 그래서 간단하게 찾아서 공부하기 위해 작성된 글이다.</p>
<h2 id="데이터베이스란">데이터베이스란??</h2>
<ul>
<li><strong>여러 사람에 의해 공유되어 사용될 목적으로 통합하여 관리되는 데이터의 집합을 말한다.</strong> 자료 항목의 중복을 없애고 자료를 구조화하여 저장함으로써 자료 검색과 갱신의 효율을 높인다.</li>
<li>논리적으로 연관된 하나 이상의 자료의 모음으로 그 내용을 고도로 구조화함으로써 검색과 갱신의 효율화를 꾀한 것이다.</li>
<li>몇 개의 자료 파일을 조직적으로 통합하여 자료 항목의 중복을 없애고 자료를 구조화하여 기억시켜 놓은 자료의 집합체라고 할 수 있다.</li>
</ul>
<p><strong>왜 사용하는가?</strong></p>
<p><strong>데이터베이스란 다수의 사용자가 사용하는 데이터들의 공유와 운영을 위해 저장해 놓는 공간을 말한다.</strong> 프로그램을 만들다 보면 프로그램 사용자들에 의해 생성된 데이터, 프로그래머가 필요에 의해 프로그램에 넣어 놓은 데이터 등 필연적으로 많은 데이터들이 생성되어지게 된다. 여기서 데이터베이스를 사용하지 않으면 이 데이터들은 프로그램을 종료하는 순간 전부 날아가게 되는 불행한 상황을 맞이하게 된다.</p>
<p>따라서, 이런 현상을 방지하기 위해 데이터들을 데이터베이스에 넣고 보관하는 방법을 사용하는 것이다.</p>
<h2 id="기초-용어">기초 용어</h2>
<ul>
<li>엔티티(Entity) : <strong>사람, 장소, 사물, 사건 등과 같이 독립적으로 존재하면서 고유하게 식별이 가능한 실세계의 객체이다.</strong> 예를 들어, 사원 번호가 1206이고 김창섭인 사원, 과목 코드가 CS372인 운영체제 등이 있다. 이렇게 실체가 있는 것 뿐만 아니라 추상적인 것도 있다. 프로젝트 번호가 P101인 프로젝트, 학과 번호가 D316인 학과는 추상적인 개념의 엔티티가 될 수 있다.</li>
<li>스키마(Schema) : 데이터를 설명하는 데이터. 메타데이터(Metadata)라고도 한다. 예를 들어 <code>홍길동, 1994-06-27</code>이라는 데이터가 있을 경우에는 이를 <code>이름, 생년원일</code>이라는 스키마로 설명할 수 있다.</li>
</ul>
<h2 id="database-용어">Database 용어</h2>
<img src="/img/database_basic.png" width="600" height="300">
<ul>
<li>Table(Relation) : 관계형 데이터베이스에서 정보를 구분하여 저장하는 기본 단위를 말한다. 예로 부서에 관한 정보를 저장하는 부서 Relation(혹은 부서 Table)이 있다. 한 릴레이션은 데이터베이스에 표현되는 한 엔티티에 관한 정보를 저장하는 데 사용된다.</li>
<li>식별자(identifier) : 여러 개의 집합체를 담고 있는 관계형 데이터베이스에서 각각을 구분할 수 있는 논리적인 개념이다.</li>
<li>식별자의 특징
<ul>
<li>유일성 : 하나의 릴레이션에서 모든 행은 서로 다른 키 값을 가져야 한다.</li>
<li>최소성 : 꼭 필요한 최소한의 속성들로만 키를 구성해야 한다.</li>
</ul>
</li>
<li>튜블(Tuple) : 테이블에서 행을 의미한다. 같은 말로 레코드(Record) 혹은 로우(Row)라고 하기도 한다. 튜플은 릴레이션에서 같은 값을 가질 수 없다.
<ul>
<li>카디날리티(Cardinality) : 튜플의 수</li>
</ul>
</li>
<li>어트리뷰트(Attribute) : 테이블에서 열을 의미한다. 같은 말로 칼럼(Column)이라고도 한다.
<ul>
<li>디그리(Degree) : 어트리뷰트의 수를 의미한다.</li>
</ul>
</li>
<li>도메인(Domain) : Relation에서 각각의 속성(Attribute)들이 취할 수 있는 같은 타입의 원자 값들의 집합이다.</li>
</ul>
<h2 id="key">Key</h2>
<ul>
<li>키(Key) : 한 Relation에서 각각의 Tuple(행)을 유일하게 식별하기 위해 사용하는 하나 혹은 그 이상의 속성들(Attribute)의 집합이다.</li>
</ul>
<p><strong>유일성과 최소성</strong></p>
<ul>
<li>유일성 : 하나의 키로 어떠한 행을 바로 찾아낼 수 있는 성질. ex) 주민등록번호</li>
<li>최소성 : 레코드(튜플)을 식별하는데 꼭 필요한 속성들로만 구성되어 있는 성질. ex) {주민등록번호+학번}은 최소성을 만족시키지 않는다. 주민등록번호로만 tuple(행)을 구분할 수 있기 때문이다.</li>
</ul>
<img src="/img/student_relation.png" width="800" height="300">
<img src="/img/sukang_relation.png" width="800" height="300">
<ol>
<li>후보키(Cadidate Key)</li>
</ol>
<ul>
<li>릴레이션을 구성하는 속성들 중에서 튜블을 <strong>유일하게 식별할 수 있는 속성들의 부분집합을 의미한다.</strong></li>
<li>모든 릴레이션은 반드시 하나 이상의 후보키를 가져야한다.</li>
<li>릴레이션에 있는 모든 튜플에 대해서 유일성과 최소성을 만족시켜야 한다.</li>
</ul>
<p>ex) &lt;학생&gt; 릴레이션에서 '학번’이나 '주민번호’는 다른 레코드를 유일하게 구별할 수 있는 기본키로 사용할 수 있으므로 후보키가 될 수 있다. 즉, 기본키가 될 수 있는 키들을 후보키라고 한다.</p>
<ol start="2">
<li>기본키(Primary Key)</li>
</ol>
<ul>
<li>후보키 중에서 선택한 주키(Main key)</li>
<li>한 릴레이션에서 <strong>특정 튜플을 유일하게 구별할 수 있는 속성</strong></li>
<li><strong>Null 값을 가질 수 없다.</strong>(개체 무결성의 첫 번째 조건)</li>
<li>기본 키로 정의된 속성에는 <strong>동일한 값이 중복되어 저장될 수 없다.</strong>(개체 무결성의 두 번째 조건)</li>
</ul>
<p>ex) &lt;학생&gt; 릴레이션에서는 '학번’이나 '주민번호’기 기본키가 될 수 있고, &lt;수강&gt; 릴레이션에서는 ‘학번’+'과목명’으로 조합해야 기본키가 만들어 질 수 있다. 왜냐하면 &lt;수강&gt; 릴렝션에서는 ‘학번’ 속성과 ‘과목명’ 속성은 개별적으로 기본키로 사용할 수 없다. 다른 튜플들과 구별되지 않기 때문이다.</p>
<p>1004 학번을 가진 학생이 영어와 전산 과목을 수강하고 있다고 하면 학번만으로는 특정 튜플을 유일하게 구별할 수 없다. 그리고 영어 과목을 수강하는 학생들은 한명이 아니라 여러 명이 될 수 있기 때문에 유일하게 구별할 수 없다.</p>
<ol start="3">
<li>대체키(Alternate Key)</li>
</ol>
<ul>
<li><strong>후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키들을 말한다.</strong></li>
<li>보조키라고도 한다.</li>
</ul>
<p>ex) &lt;학생&gt; 릴레이션에서 '학번’을 기본키로 정의하면 '주민번호’는 대체키가 된다.</p>
<ol start="4">
<li>슈퍼키(Super Key)</li>
</ol>
<ul>
<li><strong>슈퍼키는 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키</strong>로서 릴레이션을 구성하는 모든 튜플 중 슈퍼키로 구성된 속성의 집합과 동일한 값은 나타내지 않는다.</li>
<li>릴레이션을 구성하는 모든 튜플에 대해 <strong>유일성은 만족하지만, 최소성은 만족시키지 못한다.</strong></li>
</ul>
<p>ex) &lt;학생&gt; 릴레이션에서는 ‘학번’, ‘주민번호’, ‘학번’+‘주민번호’+‘성명’ 등으로 슈퍼키를 구성할 수 있다. 또한, 여기서 최소성을 만족시키지 못한다는 말은 ‘학번’+‘주민번호’+'성명’가 슈퍼키인 경우 3개의 속성 조합을 통해 다른 튜플과 구별이 가능하지만, ‘성명’ 단독적으로 슈퍼키를 사용했을 때는 구별이 가능하지 않기 때문에 최소성을 만족시키지 못한다.</p>
<p>즉, 뭉쳤을 경우 유일성이 생기고, 흩어지면 몇몇 속성들은 독단적으로 유일성 있는 키로 사용할 수 없다. 이것을 최소성을 만족하지 못한다고 한다.</p>
<ol start="5">
<li>외래키(Foreign Key)</li>
</ol>
<ul>
<li>관계(Relation)를 맺고 있는 릴레이션 R1, R2에서 릴레이션 R1이 참조하고 있는 릴레이션 R2의 기본키와 같은 R1 릴레이션의 속성이다.</li>
<li>외래키는 <strong>참조되는 릴레이션의 기본키와 대응되어 릴레이션 간에 참조 관계를 표현하는데 중요한 도구</strong>로 사용된다.</li>
<li><strong>외래키로 지정되면 참조하는 테이블의 기본키에 없는 값은 입력할 수 없다.</strong>(참조 무결성 조건)</li>
</ul>
<p>ex) &lt;수강&gt; 릴레이션이 &lt;학생&gt; 릴레이션을 참조하고 있으므로 &lt;학생&gt; 릴레이션의 '학번’은 기본키이고, &lt;수강&gt; 릴레이션의 '학번’은 외래키이다.<br>
즉, 각 릴레이션의 입장에서 속성은 기본키가 되기도 하고, 외래키가 되기도 한다.</p>
<p>ex) &lt;수강&gt; 릴레이션의 '학번’에는 &lt;학생&gt; 릴레이션의 '학번’에 없는 값은 입력할 수 없다.</p>
<h2 id="쿼리-문법의-세-종류와-각-문법">쿼리 문법의 세 종류와 각 문법</h2>
<p><strong>SQL</strong>(Structured Query Language)</p>
<ul>
<li>관계형 데이터베이스에서 사용하는 표준 질이 언어를 말한다.</li>
<li>사용 방법이나 문법이 다른 언어(Java, C, C#)보다 단순하다.</li>
<li>모든 DBMS에서 사용 가능하다.</li>
<li>인터프리터 언어</li>
<li>대소문자를 구별하지 않는다.</li>
</ul>
<ol>
<li>데이터 정의 언어(DDL)</li>
</ol>
<ul>
<li>데이터베이스 검색, 등록, 삭제, 갱신을 하기 위해 사용하는 데이터베이스 언어</li>
<li>데이터베이스의 검색 및 업데이트 등 데이터 조작을 위해 사용</li>
<li>데이터베이스의 스키마를 정의, 생성, 수정하는 기능</li>
<li>테이블 생성, 컬럼 추가, 타입 변경, 각종 제약조건 지정, 수정 등</li>
</ul>
<table>
<thead>
<tr>
<th>SQL문</th>
<th>내용</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>create</code></td>
<td>데이터베이스 객체를 생성</td>
</tr>
<tr>
<td><code>drop</code></td>
<td>데이터베이스 객체를 삭제</td>
</tr>
<tr>
<td><code>alter</code></td>
<td>기존에 존재하는 데이터베이스 객체를 다시 정의</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>데이터 조작 언어(DML)</li>
</ol>
<ul>
<li>관계형 데이터베이스의 구조를 정의한다.</li>
<li>쌍, 속성, 관계 인덱스 파일 위치 등 데이터베이스 고유의 특성을 포함한다.</li>
<li>데이터베이스의 테이블에 있는 내용을 직접 조작하는 기능</li>
<li>테이블의 레코드(튜플)을 CRUD(Create, Retrieve, Update, Delete)</li>
</ul>
<table>
<thead>
<tr>
<th>SQL문</th>
<th>내용</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>insert</code></td>
<td>데이터베이스 객체에 데이터를 입력</td>
</tr>
<tr>
<td><code>delete</code></td>
<td>데이터베이스 객체에 데이터를 삭제</td>
</tr>
<tr>
<td><code>update</code></td>
<td>데이터베이스 객체 안의 데이터 수정</td>
</tr>
<tr>
<td><code>select</code></td>
<td>데이터베이스 객체 안의 데이터 조회</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>데이터 제어 언어(DCL)</li>
</ol>
<ul>
<li>데이터베이스에서 데이터에 대한 액세스를 제어하기 위한 데이터베이스 언어 또는 데이터베이스 언어 요소</li>
<li>박탈, 연결, 권한 부여, 질의, 자료 삽입, 갱신, 삭제 등</li>
<li>데이터베이스의 테이블에 접근 권한이나 CRUD 권한을 정의하는 기능</li>
<li>특정 사용자에게 테이블의 조회권한 허가 / 금지 등</li>
</ul>
<table>
<thead>
<tr>
<th>SQL문</th>
<th>내용</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>grant</code></td>
<td>데이터베이스 객체에 권한을 부여</td>
</tr>
<tr>
<td><code>revoke</code></td>
<td>이미 부여된 데이터베이스 객체 권한을 취소</td>
</tr>
</tbody>
</table>
<h2 id="crud">CRUD</h2>
<p>CRUD(Create, Retrieve, Update, Delete)</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>조작</th>
<th>SQL</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>create</code></td>
<td>생성</td>
<td>insert</td>
</tr>
<tr>
<td><code>read(retrieve)</code></td>
<td>읽기(인출)</td>
<td>select</td>
</tr>
<tr>
<td><code>update</code></td>
<td>갱신</td>
<td>update</td>
</tr>
<tr>
<td><code>delete</code></td>
<td>삭제</td>
<td>delete</td>
</tr>
</tbody>
</table>
<ul>
<li>Create : 데이터베이스 객체 생성
<ul>
<li>insert into</li>
<li>새로운 레코드를 추가</li>
</ul>
</li>
<li>Update : 데이터베이스 객체 안의 데이터를 수정
<ul>
<li>update</li>
<li>특정 조건의 레코드의 컬럼 값을 수정</li>
</ul>
</li>
<li>Delete : 데이터베이스 객체의 데이터 삭제
<ul>
<li>delete</li>
<li>특정 조건의 레코드를 삭제</li>
</ul>
</li>
<li>Retrieve : 데이터베이스 객체 안의 데이터 검색
<ul>
<li>select</li>
<li>조건을 만족하는 레코드를 찾아 특정 컬럼 값을 표시(모두 표시 : *)</li>
</ul>
</li>
</ul>
<h2 id="예제">예제</h2>
<p><strong>1.select 명령문</strong><br>
SELECT 컬럼명 FROM 테이블명 WHERE 조건절;</p>
<p>ex)</p>
<ul>
<li>
<p>Q : 국가 코드가 'KOR’으로 되어 있는 도시의 이름을 구하시오.</p>
</li>
<li>
<p>A : SELECT Name FROM City WHERE CountryCode=‘KOR’;</p>
</li>
<li>
<p>Q : 인구가 500만 이상인 도시들의 이름을 구하시오</p>
</li>
<li>
<p>A : SELECT Name FROM City WHERE Population &gt; 5000000;</p>
</li>
</ul>
<p><strong>2. insert into 명령문</strong><br>
INSERT INTO 테이블명(컬럼명) VALUES(값);</p>
<p>ex)</p>
<p><code>주의</code> : 각각의 필드와 대응 시켜줘서 insert를 시켜주어야 한다.</p>
<p>INSERT INTO City (ID, Name, CountryCode, District, Population) values (10000, “Sample”, “KOR”, “Seoul”, 1000000);</p>
<p><code>주의</code> : 아래의 경우에는 모든 컬럼 값들이 일일히 필드와 대응되면 생략이 가능하다.</p>
<p>INSERT INTO City values(20000, &quot;SampleTest<br>
, “KOR”, “Busan”, 2000000);</p>
<p>결과 확인</p>
<p>// ID가 20000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 20000;<br>
// ID가 20000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 10000;</p>
<p><strong>3. update 명령문</strong><br>
UPDATE 테이블명 SET 컬럼명=값, … WHERE 조건절;</p>
<p>ex)</p>
<p>// ID가 10000인 레코드의 name을 &quot;SampleUSA&quot;로 변경<br>
UPDATE City SET Name = “SampleUSA” WHERE ID = 10000;</p>
<p>결과 확인<br>
// ID가 10000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 10000;</p>
<p><strong>4. delete 명령문</strong><br>
DELETE FROM 테이블명 WHERE 조건절;</p>
<p>ex)</p>
<p>// ID가 20000이며 Population이 2000000인 레코드를 삭제<br>
DELETE FROM City WHERE (ID = 20000) AND (Population = 2000000);</p>
<p>// ID가 10000이며 Population이 1000000인 레코드를 삭제<br>
DELETE FROM City WHERE (ID = 10000) AND (Population = 1000000);</p>
<p>결과 확인</p>
<p>// ID가 10000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 10000;<br>
// ID가 20000인 레코드 출력<br>
SELECT * FROM City WHERE ID = 20000;</p>
<h2 id="참고">참고</h2>
<ul>
<li><a href="https://limkydev.tistory.com/108" target="_blank" rel="noopener">[DataBase] 키(Key)의 개념 및 종류</a></li>
<li><a href="https://wkdtjsgur100.github.io/database-terms/" target="_blank" rel="noopener">데이터베이스 용어 및 기초 개념 정리(DBMS, Key관련 용어, 테이블 관련 용어 등)</a></li>
<li><a href="https://coding-factory.tistory.com/77" target="_blank" rel="noopener">[DB기초] DataBase 개념 및 용어 설명</a></li>
<li><a href="https://hojak99.tistory.com/327" target="_blank" rel="noopener">[DB] SQL 기초</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2019/01/30/DatabaseBasic/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
          <li class="pagination-prev">
            <a
                class="btn btn--default btn--small"
                href="/archives/11/"
                aria-label="NEWER POSTS"
            >
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>NEWER POSTS</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a
                class="btn btn--default btn--small"
                href="/archives/13/"
                aria-label="OLDER POSTS"
            >
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 12 of 26</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 VictoryWoo. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/Victory.jpeg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">VictoryWoo</h4>
        
            <div id="about-card-bio"><p>기록을 통해 사람들과 공유하는 것을 좋아합니다.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Android Developer</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/color_blue.jpeg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->





    </body>
</html>
